<html><!-- Mirrored from www.php.net/manual/en/datetime.construct.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 06:46:18 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>DateTime::__construct</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="datetime.construct.html">
 <link rel="shorturl" href="datetime.construct.html">
 <link rel="alternate" href="datetime.construct.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="class.datetime.html">
 <link rel="prev" href="datetime.add.html">
 <link rel="next" href="datetime.createfromformat.html">

 <link rel="alternate" href="datetime.construct.html" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/datetime.construct.php" hreflang="pt_BR">
 <link rel="alternate" href="https://www.php.net/manual/zh/datetime.construct.php" hreflang="zh">
 <link rel="alternate" href="https://www.php.net/manual/fr/datetime.construct.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/de/datetime.construct.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/ja/datetime.construct.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/ro/datetime.construct.php" hreflang="ro">
 <link rel="alternate" href="https://www.php.net/manual/ru/datetime.construct.php" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/es/datetime.construct.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/tr/datetime.construct.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached0aba.css?t=1539771603&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached2ecf.css?t=1539765004&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedba57.css?t=1606338002&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached3afa.css?t=1627831203&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script>
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script src="https://www.php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>


</head>
<body class="docs " style="">


<div class="headsup"><a href="https://www.php.net/conferences/index.php#id2021-09-08-1">Longhorn PHP 2021</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.errors.html">Errors</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.attributes.html">Attributes</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.sessions.html">Session Security</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
	<dd><a href="refs.ui.html">GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
    <div id="breadcrumbs-inner">
          
              
          <ul>
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.calendar.html">Date and Time Related Extensions</a></li>      <li><a href="book.datetime.html">Date/Time</a></li>      <li><a href="class.datetime.html">DateTime</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div id="datetime.construct" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">DateTime::__construct</h1>
  <h1 class="refname">date_create</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.2.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">DateTime::__construct</span> -- <span class="refname">date_create</span> — <span class="dc-title">Returns new DateTime object</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-datetime.construct-description">
  <h3 class="title">Description</h3>
  <p class="para">Object-oriented style</p>
  <div class="constructorsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>DateTime::__construct</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$datetime</code><span class="initializer"> = "now"</span></span>, <span class="methodparam"><span class="type">?</span><span class="type"><span class="type"><a href="class.datetimezone.html" class="type DateTimeZone">DateTimeZone</a></span><span class="type"></span></span> <code class="parameter">$timezone</code><span class="initializer"> = <strong><code>null</code></strong></span></span>)</div>

  <p class="para rdfs-comment">Procedural style</p>
  <div class="methodsynopsis dc-description"><span class="methodname"><a href="function.date-create.html" class="methodname">date_create</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$datetime</code><span class="initializer"> = "now"</span></span>, <span class="methodparam"><span class="type">?</span><span class="type"><span class="type"><a href="class.datetimezone.html" class="type DateTimeZone">DateTimeZone</a></span><span class="type"></span></span> <code class="parameter">$timezone</code><span class="initializer"> = <strong><code>null</code></strong></span></span>): <span class="type"><span class="type"><a href="class.datetime.html" class="type DateTime">DateTime</a></span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   Returns new DateTime object.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-datetime.construct-parameters">
  <h3 class="title">Parameters</h3>
  <dl>
   
    <dt>
<code class="parameter">datetime</code></dt>

    <dd>

     <p class="para">A date/time string. Valid formats are explained in <a href="datetime.formats.html" class="link">Date and Time Formats</a>.</p>
     <p class="para">
      Enter <code class="literal">"now"</code> here to obtain the current time when using
      the <code class="parameter">$timezone</code> parameter.
     </p>
    </dd>

   
   
    <dt>
<code class="parameter">timezone</code></dt>

    <dd>

     <p class="para">
      A <span class="classname"><a href="class.datetimezone.html" class="classname">DateTimeZone</a></span> object representing the
      timezone of <code class="parameter">$datetime</code>.
     </p>
     <p class="para">
      If <code class="parameter">$timezone</code> is omitted or <strong><code>null</code></strong>,
      the current timezone will be used.
     </p>
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      </p><p class="para">
       The <code class="parameter">$timezone</code> parameter
       and the current timezone are ignored when the
       <code class="parameter">$datetime</code> parameter either
       is a UNIX timestamp (e.g. <code class="literal">@946684800</code>)
       or specifies a timezone
       (e.g. <code class="literal">2010-01-28T15:00:00+02:00</code>).
      </p>
     <p></p></blockquote>
    </dd>

   
  </dl>

 </div>


 <div class="refsect1 returnvalues" id="refsect1-datetime.construct-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns a new DateTime instance.
   Procedural style returns <strong><code>false</code></strong> on failure.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-datetime.construct-errors">
  <h3 class="title">Errors/Exceptions</h3>
  <p class="para">
   Emits <span class="classname"><a href="class.exception.html" class="classname">Exception</a></span> in case of an error.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-datetime.construct-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.1.0</td>
       <td>From now on microseconds are filled with actual value. Not with '00000'.</td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-datetime.construct-examples">
  <h3 class="title">Examples</h3>
  <div class="example" id="example-1974">
   <p><strong>Example #1 <span class="function"><strong>DateTime::__construct()</strong></span> example</strong></p>
   <div class="example-contents"><p>Object-oriented style</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">try&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$date&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">(</span><span style="color: #DD0000">'2000-01-01'</span><span style="color: #007700">);<br>}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">();<br>&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>}<br><br>echo&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>Procedural style</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$date&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">date_create</span><span style="color: #007700">(</span><span style="color: #DD0000">'2000-01-01'</span><span style="color: #007700">);<br>if&nbsp;(!</span><span style="color: #0000BB">$date</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">date_get_last_errors</span><span style="color: #007700">();<br>&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$e</span><span style="color: #007700">[</span><span style="color: #DD0000">'errors'</span><span style="color: #007700">]&nbsp;as&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$error</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br>}<br><br>echo&nbsp;</span><span style="color: #0000BB">date_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$date</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>The above examples will output:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>2000-01-01
</pre></div>
   </div>
  </div>
  <div class="example" id="example-1975">
   <p><strong>Example #2 Intricacies of <span class="function"><strong>DateTime::__construct()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">//&nbsp;Specified&nbsp;date/time&nbsp;in&nbsp;your&nbsp;computer's&nbsp;time&nbsp;zone.<br></span><span style="color: #0000BB">$date&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">(</span><span style="color: #DD0000">'2000-01-01'</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d&nbsp;H:i:sP'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&nbsp;Specified&nbsp;date/time&nbsp;in&nbsp;the&nbsp;specified&nbsp;time&nbsp;zone.<br></span><span style="color: #0000BB">$date&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">(</span><span style="color: #DD0000">'2000-01-01'</span><span style="color: #007700">,&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTimeZone</span><span style="color: #007700">(</span><span style="color: #DD0000">'Pacific/Nauru'</span><span style="color: #007700">));<br>echo&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d&nbsp;H:i:sP'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&nbsp;Current&nbsp;date/time&nbsp;in&nbsp;your&nbsp;computer's&nbsp;time&nbsp;zone.<br></span><span style="color: #0000BB">$date&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">();<br>echo&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d&nbsp;H:i:sP'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&nbsp;Current&nbsp;date/time&nbsp;in&nbsp;the&nbsp;specified&nbsp;time&nbsp;zone.<br></span><span style="color: #0000BB">$date&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTimeZone</span><span style="color: #007700">(</span><span style="color: #DD0000">'Pacific/Nauru'</span><span style="color: #007700">));<br>echo&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d&nbsp;H:i:sP'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&nbsp;Using&nbsp;a&nbsp;UNIX&nbsp;timestamp.&nbsp;&nbsp;Notice&nbsp;the&nbsp;result&nbsp;is&nbsp;in&nbsp;the&nbsp;UTC&nbsp;time&nbsp;zone.<br></span><span style="color: #0000BB">$date&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">(</span><span style="color: #DD0000">'@946684800'</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d&nbsp;H:i:sP'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&nbsp;Non-existent&nbsp;values&nbsp;roll&nbsp;over.<br></span><span style="color: #0000BB">$date&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">(</span><span style="color: #DD0000">'2000-02-30'</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d&nbsp;H:i:sP'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>The above example will output
something similar to:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>2000-01-01 00:00:00-05:00
2000-01-01 00:00:00+12:00
2010-04-24 10:24:16-04:00
2010-04-25 02:24:16+12:00
2000-01-01 00:00:00+00:00
2000-03-01 00:00:00-05:00
</pre></div>
   </div>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-datetime.construct-seealso">
  <h3 class="title">See Also</h3>
  <ul class="simplelist">
   <li class="member"><span class="function"><a href="datetime.createfromformat.html" class="function" rel="rdfs-seeAlso">DateTime::createFromFormat()</a> - Parses a time string according to a specified format</span></li>
   <li class="member"><span class="function"><a href="datetimezone.construct.html" class="function" rel="rdfs-seeAlso">DateTimeZone::__construct()</a> - Creates new DateTimeZone object</span></li>
   <li class="member"><a href="datetime.formats.html" class="link">Date and Time Formats</a></li>
   <li class="member"><a href="datetime.configuration.html#ini.date.timezone" class="link">date.timezone</a> ini setting</li>
   <li class="member"><span class="function"><a href="function.date-default-timezone-set.html" class="function" rel="rdfs-seeAlso">date_default_timezone_set()</a> - Sets the default timezone used by all date/time functions in a script</span></li>
   <li class="member"><span class="function"><a href="datetime.getlasterrors.html" class="function" rel="rdfs-seeAlso">DateTime::getLastErrors()</a> - Returns the warnings and errors</span></li>
   <li class="member"><span class="function"><a href="function.checkdate.html" class="function" rel="rdfs-seeAlso">checkdate()</a> - Validate a Gregorian date</span></li>
  </ul>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="106979">  
  <a class="name">
  <strong class="user"><em>cHao</em></strong></a><div class="date" title="2011-12-22 07:17"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom106979">
<div class="phpcode"><code><span class="html">
There's a reason for ignoring the time zone when you pass a timestamp to __construct.&nbsp; That is, UNIX timestamps are by definition based on UTC.&nbsp; @1234567890 represents the same date/time regardless of time zone.&nbsp; So there's no need for a time zone at all.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="95610">  
  <a class="name">
  <strong class="user"><em>kendsnyder at gmail dot com</em></strong></a><div class="date" title="2010-01-12 08:24"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom95610">
<div class="phpcode"><code><span class="html">
The theoretical limits of the date range seem to be "-9999-01-01" through "9999-12-31" (PHP 5.2.9 on Windows Vista 64):<br><br><span class="default">&lt;?php<br><br>$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">"9999-12-31"</span><span class="keyword">); <br></span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">); </span><span class="comment">// "9999-12-31"<br><br></span><span class="default">$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">"0000-12-31"</span><span class="keyword">); <br></span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">); </span><span class="comment">// "0000-12-31"<br><br></span><span class="default">$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">"-9999-12-31"</span><span class="keyword">); <br></span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">); </span><span class="comment">// "-9999-12-31"<br><br></span><span class="default">?&gt;<br></span><br>Dates above 10000 and below -10000 do not throw errors but produce weird results:<br><br><span class="default">&lt;?php<br><br>$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">"10019-01-01"</span><span class="keyword">); <br></span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">); </span><span class="comment">// "2009-01-01"<br><br></span><span class="default">$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">"10009-01-01"</span><span class="keyword">); <br></span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">); </span><span class="comment">// "2009-01-01"<br><br></span><span class="default">$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">"-10019-01-01"</span><span class="keyword">); <br></span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">); </span><span class="comment">// "2009-01-01"<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="116225">  
  <a class="name">
  <strong class="user"><em>rn at alpha9marketing dot com</em></strong></a><div class="date" title="2014-11-25 12:47"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom116225">
<div class="phpcode"><code><span class="html">
Note that the DateTime ctor also accepts boolean false and empty strings, and treats them the same as NULL (i.e. result is current date and time). This may lead to unexpected results if you forward function return values without explicitly checking them first.<br><br>Empty arrays and boolean true trigger PHP warnings OTOH.<br><br>(checked with PHP 5.5.18)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="104111">  
  <a class="name">
  <strong class="user"><em>joel dot kallman at gmail dot com</em></strong></a><div class="date" title="2011-05-23 06:14"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom104111">
<div class="phpcode"><code><span class="html">
A definite "gotcha" (while documented) that exists in the __construct is that it ignores your timezone if the $time is a timestamp.&nbsp; While this may not make sense, the object does provide you with methods to work around it.
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">// New Timezone Object
<br></span><span class="default">$timezone </span><span class="keyword">= new </span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">'America/New_York'</span><span class="keyword">);
<br>
<br></span><span class="comment">// New DateTime Object
<br></span><span class="default">$date </span><span class="keyword">=&nbsp; new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">'@1306123200'</span><span class="keyword">, </span><span class="default">$timezone</span><span class="keyword">);&nbsp; &nbsp; 
<br>
<br></span><span class="comment">// You would expect the date to be 2011-05-23 00:00:00
<br>// But it actually outputs 2011-05-23 04:00:00
<br></span><span class="keyword">echo </span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'Y-m-d H:i:s'</span><span class="keyword">);
<br>
<br></span><span class="comment">// You can still set the timezone though like so...&nbsp; &nbsp; &nbsp; &nbsp; 
<br></span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">setTimezone</span><span class="keyword">(</span><span class="default">$timezone</span><span class="keyword">);
<br>
<br></span><span class="comment">// This will now output 2011-05-23 00:00:00
<br></span><span class="keyword">echo </span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'Y-m-d H:i:s'</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="116618">  
  <a class="name">
  <strong class="user"><em>Wes Hyse</em></strong></a><div class="date" title="2015-01-29 08:58"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom116618">
<div class="phpcode"><code><span class="html">
It is worth noting:<br><br>If you have not setup a default timezone, an Exception (or error if PHP &lt; 5.3.0) will be thrown even when the $time parameter of the constructor includes a timezone or is a UNIX timestamp.<br><br>At least for me, this was unexpected considering that the $timezone parameter is ignored in the cases when "the $time parameter either is a UNIX timestamp (e.g. @946684800) or specifies a timezone (e.g. 2010-01-28T15:00:00+02:00)."</span>
</code></div>
  </div>
 </div>
  <div class="note" id="116480">  
  <a class="name">
  <strong class="user"><em>tzvi at somesite dot com</em></strong></a><div class="date" title="2015-01-09 11:38"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom116480">
<div class="phpcode"><code><span class="html">
If time cannot be parsed an exception of type Exception is thrown which can be caught, however an E_WARNING is emitted as well. This might be confusing if you are converting warnings to exceptions in your error or shutdown handler.<br><br><span class="default">&lt;?php<br></span><span class="keyword">try {<br>&nbsp; &nbsp; </span><span class="default">$var </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">'some invalid date format'</span><span class="keyword">);<br>}<br>catch (</span><span class="default">Exception $ex</span><span class="keyword">) {}<br></span><span class="default">$warning </span><span class="keyword">= </span><span class="default">error_get_last</span><span class="keyword">(); </span><span class="comment">// will contain warning info<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="114902">  
  <a class="name">
  <strong class="user"><em>Dimitar Stoichev</em></strong></a><div class="date" title="2014-04-23 09:25"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom114902">
<div class="phpcode"><code><span class="html">
Be careful working with MySQL dates representing point of transition to Daylight Saving Time.<br>The constructor of DateTime will convert timezone abbreviation to DST but not the time.<br><br><span class="default">&lt;?php<br><br>$timeZone </span><span class="keyword">= new </span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">'Europe/Sofia'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br></span><span class="default">$transitionToDst </span><span class="keyword">= </span><span class="string">'2014-03-30 03:00:00'</span><span class="keyword">;<br><br></span><span class="default">$date </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="default">$transitionToDst</span><span class="keyword">, </span><span class="default">$timeZone</span><span class="keyword">);<br><br></span><span class="comment">// Outputs: Sun Mar 30, 2014 3:00:00 EEST<br>// Correct: Sun Mar 30, 2014 4:00:00 EEST <br></span><span class="keyword">echo </span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'D M j, Y G:i:s T'</span><span class="keyword">) . </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br><br></span><span class="comment">// Explicitly setting timezone or adding one second fixes this<br></span><span class="default">$cloneForAdding </span><span class="keyword">= clone </span><span class="default">$date</span><span class="keyword">;<br><br></span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">setTimezone</span><span class="keyword">(</span><span class="default">$timeZone</span><span class="keyword">);<br><br></span><span class="comment">// Outputs: Sun Mar 30, 2014 4:00:00 EEST <br></span><span class="keyword">echo </span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'D M j, Y G:i:s T'</span><span class="keyword">) . </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br><br></span><span class="default">$cloneForAdding</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">(new </span><span class="default">DateInterval</span><span class="keyword">(</span><span class="string">'PT1S'</span><span class="keyword">));<br><br></span><span class="comment">// Outputs: Sun Mar 30, 2014 4:00:01 EEST<br></span><span class="keyword">echo </span><span class="default">$cloneForAdding</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'D M j, Y G:i:s T'</span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97724">  
  <a class="name">
  <strong class="user"><em>Tim Strehle</em></strong></a><div class="date" title="2010-05-05 03:50"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom97724">
<div class="phpcode"><code><span class="html">
"The $timezone parameter and the current timezone are ignored when the $time parameter […] is a UNIX timestamp."
<br>
<br>Watch out – this means that these two are NOT equivalent, they result in different timezones (unless your current timezone is GMT):
<br>
<br><span class="default">&lt;?php
<br>$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(); </span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">setTimestamp</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">);
<br>echo </span><span class="default">$o</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'O'</span><span class="keyword">);
<br></span><span class="comment">// +0200
<br>
<br></span><span class="default">$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">'@' </span><span class="keyword">. </span><span class="default">$t</span><span class="keyword">);
<br>echo </span><span class="default">$o</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'O'</span><span class="keyword">);
<br></span><span class="comment">// +0000
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113342">  
  <a class="name">
  <strong class="user"><em>RussellG</em></strong></a><div class="date" title="2013-09-29 04:08"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom113342">
<div class="phpcode"><code><span class="html">
Although this function throws an exception on invalid $time values (empty strings, for example), the exception can't be caught because it's a fatal exception. Use functions such as checkdate() and strtotime() to validate the string first. Example #1 should be changed to remove the try/catch block, since it's misleading.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="123882">  
  <a class="name">
  <strong class="user"><em>4chm3d at gmail dot com</em></strong></a><div class="date" title="2019-05-24 05:45"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom123882">
<div class="phpcode"><code><span class="html">
About constructing a DateTime, instead of just using the year it seems working when date matches the pattern "YYYY-MM"<br><br>- Returns the year correctly: "YYYY-MM"<br><br>$ cat date.php <br><span class="default">&lt;?php<br>$date </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">'2015-12'</span><span class="keyword">);<br>echo(</span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'Y'</span><span class="keyword">));<br></span><span class="default">?&gt;<br></span><br>$ php date.php <br>2015<br><br>- Ignores the given input and returns the year from NOW: "YYYY"<br><br>$ cat date.php <br><span class="default">&lt;?php<br>$date </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">'2015'</span><span class="keyword">);<br>echo(</span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'Y'</span><span class="keyword">));<br></span><span class="default">?&gt;<br></span><br>$ php date.php <br>2019<br><br>RESULTS/SCOPE: <br>- Linux (May 24, 2019)<br>- PHP 7.2.17 (cli)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="122734">  
  <a class="name">
  <strong class="user"><em>millband_paul at hotmail dot co dot uk</em></strong></a><div class="date" title="2018-05-15 02:01"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom122734">
<div class="phpcode"><code><span class="html">
Using this in a try catch to verify a string is in a valid date format is unreliable. Single letter strings used for the first argument (time string) of the constructor allows a new instance of the class to be created, without any exception or error.<br><br>So the below code would not fail or throw an exception.&nbsp; So $time would not be an empty string.<br><br>$value = 'y';<br>try {<br>&nbsp; &nbsp; &nbsp; $time = new \DateTimeZone($value);<br>} catch (\Exception $e) {<br>&nbsp; &nbsp; &nbsp;&nbsp; $time = '';<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="119591">  
  <a class="name">
  <strong class="user"><em>thehesiod at hotmail dot com</em></strong></a><div class="date" title="2016-07-12 11:41"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom119591">
<div class="phpcode"><code><span class="html">
I'm surprised this hasn't been mentioned, but when constructing a DateTime with just the year as a string, DateTime will pre-initialize itself with NOW and then replace the year, so if today is 7/12/2016:<br><br> <span class="default">&lt;?php<br></span><span class="keyword">print((new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">'2015'</span><span class="keyword">))-&gt;</span><span class="default">modify</span><span class="keyword">(</span><span class="string">'+1 day'</span><span class="keyword">)-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">));<br></span><span class="default">?&gt;</span> <br><br>results in 2016-07-13</span>
</code></div>
  </div>
 </div>
  <div class="note" id="119141">  
  <a class="name">
  <strong class="user"><em>Alex vd Bogaerdt</em></strong></a><div class="date" title="2016-04-09 01:02"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom119141">
<div class="phpcode"><code><span class="html">
This seems to work as expected, at least now:<br><br><span class="default">&lt;?php<br>$timezone1 </span><span class="keyword">= new \</span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">'Europe/Sofia'</span><span class="keyword">);<br></span><span class="default">$timezone2 </span><span class="keyword">= new \</span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">'UTC'</span><span class="keyword">);<br></span><span class="default">$sometime1 </span><span class="keyword">= </span><span class="string">'2014-03-30 02:59:59'</span><span class="keyword">;<br></span><span class="default">$sometime2 </span><span class="keyword">= </span><span class="string">'2014-03-30 03:00:00'</span><span class="keyword">;<br></span><span class="default">$date1 </span><span class="keyword">= new \</span><span class="default">DateTime</span><span class="keyword">(</span><span class="default">$sometime1</span><span class="keyword">, </span><span class="default">$timezone1</span><span class="keyword">);<br></span><span class="default">$date2 </span><span class="keyword">= new \</span><span class="default">DateTime</span><span class="keyword">(</span><span class="default">$sometime2</span><span class="keyword">, </span><span class="default">$timezone1</span><span class="keyword">);<br>echo </span><span class="default">$date1</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'D M j, Y G:i:s T'</span><span class="keyword">) . </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>echo </span><span class="default">$date2</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'D M j, Y G:i:s T'</span><span class="keyword">) . </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br></span><span class="default">$date1</span><span class="keyword">-&gt;</span><span class="default">setTimezone</span><span class="keyword">(</span><span class="default">$timezone1</span><span class="keyword">);<br></span><span class="default">$date2</span><span class="keyword">-&gt;</span><span class="default">setTimezone</span><span class="keyword">(</span><span class="default">$timezone1</span><span class="keyword">);<br>echo </span><span class="default">$date1</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'D M j, Y G:i:s T'</span><span class="keyword">) . </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>echo </span><span class="default">$date2</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'D M j, Y G:i:s T'</span><span class="keyword">) . </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br></span><span class="default">$date1</span><span class="keyword">-&gt;</span><span class="default">setTimezone</span><span class="keyword">(</span><span class="default">$timezone2</span><span class="keyword">);<br></span><span class="default">$date2</span><span class="keyword">-&gt;</span><span class="default">setTimezone</span><span class="keyword">(</span><span class="default">$timezone2</span><span class="keyword">);<br>echo </span><span class="default">$date1</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'D M j, Y G:i:s T'</span><span class="keyword">) . </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>echo </span><span class="default">$date2</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'D M j, Y G:i:s T'</span><span class="keyword">) . </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br><br></span><span class="default">This outputs</span><span class="keyword">:<br></span><span class="default">Sun Mar 30</span><span class="keyword">, </span><span class="default">2014 2</span><span class="keyword">:</span><span class="default">59</span><span class="keyword">:</span><span class="default">59 EET<br>Sun Mar 30</span><span class="keyword">, </span><span class="default">2014 4</span><span class="keyword">:</span><span class="default">00</span><span class="keyword">:</span><span class="default">00 EEST<br>Sun Mar 30</span><span class="keyword">, </span><span class="default">2014 2</span><span class="keyword">:</span><span class="default">59</span><span class="keyword">:</span><span class="default">59 EET<br>Sun Mar 30</span><span class="keyword">, </span><span class="default">2014 4</span><span class="keyword">:</span><span class="default">00</span><span class="keyword">:</span><span class="default">00 EEST<br>Sun Mar 30</span><span class="keyword">, </span><span class="default">2014 0</span><span class="keyword">:</span><span class="default">59</span><span class="keyword">:</span><span class="default">59 UTC<br>Sun Mar 30</span><span class="keyword">, </span><span class="default">2014 1</span><span class="keyword">:</span><span class="default">00</span><span class="keyword">:</span><span class="default">00 UTC</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="123370">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2018-11-26 01:59"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom123370">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br>$timestampNow </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">();<br></span><span class="default">$timestamp </span><span class="keyword">= </span><span class="default">$timestampNow </span><span class="keyword">+ </span><span class="default">13</span><span class="keyword">;<br></span><span class="default">$datetime </span><span class="keyword">= new \</span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">"@</span><span class="keyword">{</span><span class="default">$timestamp</span><span class="keyword">}</span><span class="string">"</span><span class="keyword">, new \</span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">'Europe/Berlin'</span><span class="keyword">));<br>echo </span><span class="default">$datetime</span><span class="keyword">-&gt;</span><span class="default">getTimezone</span><span class="keyword">()-&gt;</span><span class="default">getName</span><span class="keyword">(); </span><span class="comment">// +00:00 !!!!<br></span><span class="default">?&gt;<br></span>Does NOT work. You get UTC always.<br><br>See comment <a rel="nofollow" target="_blank">http://php.net/manual/en/datetime.construct.php#106979</a><br><br>use relative format instead:<br><span class="default">&lt;?php<br>$sec </span><span class="keyword">= </span><span class="default">13</span><span class="keyword">;<br></span><span class="default">$datetime </span><span class="keyword">= new \</span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">"now + </span><span class="keyword">{</span><span class="default">$sec</span><span class="keyword">}</span><span class="string"> sec"</span><span class="keyword">, new \</span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">'Europe/Berlin'</span><span class="keyword">));<br>echo </span><span class="default">$datetime</span><span class="keyword">-&gt;</span><span class="default">getTimezone</span><span class="keyword">()-&gt;</span><span class="default">getName</span><span class="keyword">(); </span><span class="comment">// Europe/Berlin<br></span><span class="default">?&gt;<br></span>see <a rel="nofollow" target="_blank">http://php.net/manual/en/datetime.formats.relative.php</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="95611">  
  <a class="name">
  <strong class="user"><em>kendsnyder at gmail dot com</em></strong></a><div class="date" title="2010-01-12 08:37"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom95611">
<div class="phpcode"><code><span class="html">
Also forgot to mention, that MySQL "zeroed" dates do not throw an error but produce a non-sensical date:<br><br><span class="default">&lt;?php<br><br>$d </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">"0000-00-00"</span><span class="keyword">);<br></span><span class="default">$d</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">"Y-m-d"</span><span class="keyword">); </span><span class="comment">// "-0001-11-30"<br><br></span><span class="default">?&gt;<br></span><br>Another good reason to write your own class that extends from DateTime.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="118965">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2016-03-09 01:37"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom118965">
<div class="phpcode"><code><span class="html">
When passing a non US or SQL date string the date will be formatted incorrectly.<br><br>// UK date d/m/Y.<br>$date_time = "08/03/2016 00:00:00";<br><br>$dt = new DateTime($date_time, new DateTimeZone("Europe/London"));<br><br>// Gives 2016-08-03<br>echo $dt-&gt;format("Y-m-d");</span>
</code></div>
  </div>
 </div>
  <div class="note" id="116708">  
  <a class="name">
  <strong class="user"><em>Rabenschwinge</em></strong></a><div class="date" title="2015-02-13 01:55"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom116708">
<div class="phpcode"><code><span class="html">
Impossible times due to daylight savings are handled by this function in a way similar to impossible dates, with the difference that this is not an error (i.e. a consequent call to DateTime::getLastError() yields nothing).<br><br>For example:<br>In the timezone "Europe/Berlin" on Sunday, March 30 2014 there was no 02:30 am, because that our is being skipped due to daylight savings on that day.<br><br><span class="default">&lt;?php<br>$tz </span><span class="keyword">= new </span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">"Europe/Berlin"</span><span class="keyword">);<br></span><span class="default">$impossible_time </span><span class="keyword">= </span><span class="string">"2014-03-30T02:30:00"</span><span class="keyword">;<br></span><span class="default">$date </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="default">$impossible_time</span><span class="keyword">, </span><span class="default">$tz</span><span class="keyword">);<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">getLastErrors</span><span class="keyword">());<br>echo </span><span class="string">"The impossible time '</span><span class="default">$impossible_time</span><span class="string">' is interpreted as: " </span><span class="keyword">. </span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">ISO8601</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br><br></span><span class="comment">/*<br>Yields:<br>array(4) {<br>&nbsp; 'warning_count' =&gt;<br>&nbsp; int(0)<br>&nbsp; 'warnings' =&gt;<br>&nbsp; array(0) {<br>&nbsp; }<br>&nbsp; 'error_count' =&gt;<br>&nbsp; int(0)<br>&nbsp; 'errors' =&gt;<br>&nbsp; array(0) {<br>&nbsp; }<br>}<br>The impossible time '2014-03-30T02:30:00' is interpreted as: 2014-03-30T03:30:00+0200<br>*/<br></span><span class="default">?&gt;<br></span><br>That is similar to how, for example, Febuary 29, 2014 would be handled, which would be interpreted as March 1, 2014. The difference is, that with the date that would be an error, with the time it is not.<br><br>Ambigous times due to daylight savings are handled as the second possibility. For example the time 2:30 am occurred twice on October 26, 2014 in the timezone "Europe/Berlin".<br><br><span class="default">&lt;?php<br>$tz </span><span class="keyword">= new </span><span class="default">DateTimeZone</span><span class="keyword">(</span><span class="string">"Europe/Berlin"</span><span class="keyword">);<br></span><span class="default">$ambiguous_time </span><span class="keyword">= </span><span class="string">"2014-10-26T02:30:00"</span><span class="keyword">;<br></span><span class="default">$date </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="default">$ambiguous_time</span><span class="keyword">, </span><span class="default">$tz</span><span class="keyword">);<br>echo </span><span class="string">"The ambiguous time '</span><span class="default">$ambiguous_time</span><span class="string">' is interpreted as: " </span><span class="keyword">. </span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">ISO8601</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br><br></span><span class="comment">/*<br>Yields:<br>The ambiguous time '2014-10-26T02:30:00' is interpreted as: 2014-10-26T02:30:00+0100<br>*/<br></span><span class="default">?&gt;<br></span><br>Note that "2014-10-26T02:30:00+0200", one hour earlier, would be a correct answer as well.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="120478">  
  <a class="name">
  <strong class="user"><em>lukasz dot chelmicki at gmail dot com</em></strong></a><div class="date" title="2017-01-18 09:09"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom120478">
<div class="phpcode"><code><span class="html">
Since PHP 7.1 behavior of this constructor without arguments have changed. <br>From now on microseconds are filled with actual value. In versions &lt;=7.0 microseconds ware set to '000000'</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->

  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from www.php.net/manual/en/datetime.construct.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 06:46:18 GMT -->

</body></html>