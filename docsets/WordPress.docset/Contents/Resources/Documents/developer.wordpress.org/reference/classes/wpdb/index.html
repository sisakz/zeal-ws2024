<!DOCTYPE html>
<html lang="en-US">
	
<!-- Mirrored from developer.wordpress.org/reference/classes/wpdb/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 03 Mar 2022 12:11:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<!--
		  Output the FSE styles that the header/footer relies on.

		  Some of them may conflict with rules that the Classic theme applies to the content area. These are
		  output first, so they can be overridden if needed.
		-->
		<style id="global-styles-for-classic-themes">
			body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--darker-grey: #1c2024;--wp--preset--color--dark-grey: #23282d;--wp--preset--color--dark-strokes-grey: #2f363d;--wp--preset--color--light-grey: #d9d9d9;--wp--preset--color--beige: #e4ddd4;--wp--preset--color--beige-2: #d3ccc3;--wp--preset--color--blue-1: #3e58e1;--wp--preset--color--blue-2: #213fd4;--wp--preset--color--blue-3: #7b90ff;--wp--preset--color--blue-5: #2541D6;--wp--preset--color--off-white: #f8f3ec;--wp--preset--color--off-white-2: #eff2ff;--wp--preset--color--light-salmon: #ffe9de;--wp--preset--color--green: #72d1a7;--wp--preset--color--success-green: #00a32a;--wp--preset--color--coral-red: #f86368;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 14px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 20px;--wp--preset--font-size--x-large: 42px;--wp--preset--font-size--tiny: 12px;--wp--preset--font-size--normal: 16px;--wp--preset--font-size--extra-large: 24px;--wp--preset--font-size--huge: 32px;--wp--preset--font-family--eb-garamond: 'EB Garamond', serif;--wp--preset--font-family--inter: 'Inter', sans-serif;--wp--custom--alignment--aligned-max-width: 50%;--wp--custom--alignment--edge-spacing: clamp( 24px, calc( 100vw / 18 ), 80px );--wp--custom--alignment--outside-edge-extra-spacing: 7vw;--wp--custom--button--color--background: var(--wp--preset--color--blue-1);--wp--custom--button--color--text: var(--wp--preset--color--white);--wp--custom--button--border--color: var(--wp--preset--color--blue-1);--wp--custom--button--border--radius: 2px;--wp--custom--button--border--style: solid;--wp--custom--button--border--width: 2px;--wp--custom--button--hover--color--background: var(--wp--preset--color--blue-2);--wp--custom--button--hover--color--text: var(--wp--preset--color--white);--wp--custom--button--hover--border--color: var(--wp--preset--color--blue-2);--wp--custom--button--active--color--background: var(--wp--preset--color--black);--wp--custom--button--active--color--text: var(--wp--preset--color--white);--wp--custom--button--active--border--color: var(--wp--preset--color--black);--wp--custom--button--focus--color--background: var(--wp--preset--color--dark-grey);--wp--custom--button--focus--color--text: var(--wp--preset--color--white);--wp--custom--button--focus--border--color: var(--wp--preset--color--dark-grey);--wp--custom--button--spacing--padding--top: 0.2em;--wp--custom--button--spacing--padding--bottom: var(--wp--custom--button--spacing--padding--top);--wp--custom--button--spacing--padding--left: 1em;--wp--custom--button--spacing--padding--right: var(--wp--custom--button--spacing--padding--left);--wp--custom--button--typography--font-size: var(--wp--preset--font-size--normal);--wp--custom--button--typography--font-weight: normal;--wp--custom--button--typography--line-height: 2;--wp--custom--code--typography--font-family: monospace;--wp--custom--form--padding: calc( 0.5 * var(--wp--custom--margin--horizontal) );--wp--custom--form--border--color: #EFEFEF;--wp--custom--form--border--radius: 0;--wp--custom--form--border--style: solid;--wp--custom--form--border--width: 2px;--wp--custom--form--checkbox--checked--content: "\2715";--wp--custom--form--checkbox--checked--font-size: 14px;--wp--custom--form--checkbox--checked--position--left: 3px;--wp--custom--form--checkbox--checked--position--top: 4px;--wp--custom--form--checkbox--checked--sizing--height: 12px;--wp--custom--form--checkbox--checked--sizing--width: 12px;--wp--custom--form--checkbox--unchecked--content: "";--wp--custom--form--checkbox--unchecked--position--left: 0;--wp--custom--form--checkbox--unchecked--position--top: 0.2em;--wp--custom--form--checkbox--unchecked--sizing--height: 16px;--wp--custom--form--checkbox--unchecked--sizing--width: 16px;--wp--custom--form--color--background: transparent;--wp--custom--form--color--box-shadow: none;--wp--custom--form--label--typography--font-size: var(--wp--preset--font-size--tiny);--wp--custom--gallery--caption--font-size: var(--wp--preset--font-size--small);--wp--custom--body--typography--line-height: 1.9;--wp--custom--heading--typography--font-family: var(--wp--preset--font-family--eb-garamond);--wp--custom--heading--typography--font-weight: 400;--wp--custom--heading--typography--line-height: 1.3;--wp--custom--h-1--breakpoint--mobile--typography--font-size: 70px;--wp--custom--h-1--breakpoint--mobile--typography--line-height: 1.1;--wp--custom--h-1--typography--font-size: 38px;--wp--custom--h-1--typography--line-height: var(--wp--custom--heading--typography--line-height);--wp--custom--h-2--breakpoint--mobile--typography--font-size: clamp(26px, 4vw, 50px);--wp--custom--h-2--typography--font-size: 26px;--wp--custom--h-2--typography--line-height: var(--wp--custom--heading--typography--line-height);--wp--custom--h-3--breakpoint--mobile--typography--font-size: clamp(26px, 4vw, 36px);--wp--custom--h-3--breakpoint--mobile--typography--line-height: 1.3;--wp--custom--h-3--typography--font-size: 26px;--wp--custom--h-3--typography--line-height: var(--wp--custom--heading--typography--line-height);--wp--custom--h-4--breakpoint--mobile--typography--font-size: 30px;--wp--custom--h-4--typography--font-size: 20px;--wp--custom--h-4--typography--line-height: var(--wp--custom--heading--typography--line-height);--wp--custom--h-5--breakpoint--mobile--typography--font-size: 26px;--wp--custom--h-5--breakpoint--mobile--typography--line-height: 1.35;--wp--custom--h-5--typography--font-size: 20px;--wp--custom--h-5--typography--line-height: var(--wp--custom--heading--typography--line-height);--wp--custom--h-6--typography--font-size: var(--wp--preset--font-size--normal);--wp--custom--h-6--typography--line-height: var(--wp--custom--heading--typography--line-height);--wp--custom--layout--content-size: 680px;--wp--custom--layout--wide-size: 1070px;--wp--custom--layout--content-meta-size: calc( var(--wp--custom--layout--wide-size) - var(--wp--custom--layout--content-size) );--wp--custom--list--spacing--padding--left: var(--wp--custom--margin--horizontal);--wp--custom--margin--baseline: 10px;--wp--custom--margin--horizontal: 30px;--wp--custom--margin--vertical: 30px;--wp--custom--paragraph--dropcap--margin: .1em .1em 0 0;--wp--custom--paragraph--dropcap--typography--font-size: 110px;--wp--custom--paragraph--dropcap--typography--font-weight: 400;--wp--custom--post-comment--typography--font-size: var(--wp--preset--font-size--normal);--wp--custom--post-comment--typography--line-height: var(--wp--custom--body--typography--line-height);--wp--custom--pullquote--citation--typography--font-size: 30px;--wp--custom--pullquote--citation--typography--font-family: inherit;--wp--custom--pullquote--citation--typography--font-style: italic;--wp--custom--pullquote--citation--spacing--margin--top: var(--wp--custom--margin--vertical);--wp--custom--pullquote--typography--text-align: left;--wp--custom--quote--citation--typography--font-size: 20px;--wp--custom--quote--citation--typography--font-family: inherit;--wp--custom--quote--citation--typography--font-style: normal;--wp--custom--quote--typography--text-align: left;--wp--custom--separator--opacity: 1;--wp--custom--separator--margin: var(--wp--custom--margin--vertical) auto;--wp--custom--separator--width: 150px;--wp--custom--table--figcaption--typography--font-size: var(--wp--preset--font-size--tiny);}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-darker-grey-color{color: var(--wp--preset--color--darker-grey) !important;}.has-dark-grey-color{color: var(--wp--preset--color--dark-grey) !important;}.has-dark-strokes-grey-color{color: var(--wp--preset--color--dark-strokes-grey) !important;}.has-light-grey-color{color: var(--wp--preset--color--light-grey) !important;}.has-beige-color{color: var(--wp--preset--color--beige) !important;}.has-beige-2-color{color: var(--wp--preset--color--beige-2) !important;}.has-blue-1-color{color: var(--wp--preset--color--blue-1) !important;}.has-blue-2-color{color: var(--wp--preset--color--blue-2) !important;}.has-blue-3-color{color: var(--wp--preset--color--blue-3) !important;}.has-blue-5-color{color: var(--wp--preset--color--blue-5) !important;}.has-off-white-color{color: var(--wp--preset--color--off-white) !important;}.has-off-white-2-color{color: var(--wp--preset--color--off-white-2) !important;}.has-light-salmon-color{color: var(--wp--preset--color--light-salmon) !important;}.has-green-color{color: var(--wp--preset--color--green) !important;}.has-success-green-color{color: var(--wp--preset--color--success-green) !important;}.has-coral-red-color{color: var(--wp--preset--color--coral-red) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-darker-grey-background-color{background-color: var(--wp--preset--color--darker-grey) !important;}.has-dark-grey-background-color{background-color: var(--wp--preset--color--dark-grey) !important;}.has-dark-strokes-grey-background-color{background-color: var(--wp--preset--color--dark-strokes-grey) !important;}.has-light-grey-background-color{background-color: var(--wp--preset--color--light-grey) !important;}.has-beige-background-color{background-color: var(--wp--preset--color--beige) !important;}.has-beige-2-background-color{background-color: var(--wp--preset--color--beige-2) !important;}.has-blue-1-background-color{background-color: var(--wp--preset--color--blue-1) !important;}.has-blue-2-background-color{background-color: var(--wp--preset--color--blue-2) !important;}.has-blue-3-background-color{background-color: var(--wp--preset--color--blue-3) !important;}.has-blue-5-background-color{background-color: var(--wp--preset--color--blue-5) !important;}.has-off-white-background-color{background-color: var(--wp--preset--color--off-white) !important;}.has-off-white-2-background-color{background-color: var(--wp--preset--color--off-white-2) !important;}.has-light-salmon-background-color{background-color: var(--wp--preset--color--light-salmon) !important;}.has-green-background-color{background-color: var(--wp--preset--color--green) !important;}.has-success-green-background-color{background-color: var(--wp--preset--color--success-green) !important;}.has-coral-red-background-color{background-color: var(--wp--preset--color--coral-red) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-darker-grey-border-color{border-color: var(--wp--preset--color--darker-grey) !important;}.has-dark-grey-border-color{border-color: var(--wp--preset--color--dark-grey) !important;}.has-dark-strokes-grey-border-color{border-color: var(--wp--preset--color--dark-strokes-grey) !important;}.has-light-grey-border-color{border-color: var(--wp--preset--color--light-grey) !important;}.has-beige-border-color{border-color: var(--wp--preset--color--beige) !important;}.has-beige-2-border-color{border-color: var(--wp--preset--color--beige-2) !important;}.has-blue-1-border-color{border-color: var(--wp--preset--color--blue-1) !important;}.has-blue-2-border-color{border-color: var(--wp--preset--color--blue-2) !important;}.has-blue-3-border-color{border-color: var(--wp--preset--color--blue-3) !important;}.has-blue-5-border-color{border-color: var(--wp--preset--color--blue-5) !important;}.has-off-white-border-color{border-color: var(--wp--preset--color--off-white) !important;}.has-off-white-2-border-color{border-color: var(--wp--preset--color--off-white-2) !important;}.has-light-salmon-border-color{border-color: var(--wp--preset--color--light-salmon) !important;}.has-green-border-color{border-color: var(--wp--preset--color--green) !important;}.has-success-green-border-color{border-color: var(--wp--preset--color--success-green) !important;}.has-coral-red-border-color{border-color: var(--wp--preset--color--coral-red) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}.has-tiny-font-size{font-size: var(--wp--preset--font-size--tiny) !important;}.has-normal-font-size{font-size: var(--wp--preset--font-size--normal) !important;}.has-extra-large-font-size{font-size: var(--wp--preset--font-size--extra-large) !important;}.has-huge-font-size{font-size: var(--wp--preset--font-size--huge) !important;}.has-eb-garamond-font-family{font-family: var(--wp--preset--font-family--eb-garamond) !important;}.has-inter-font-family{font-family: var(--wp--preset--font-family--inter) !important;}body { --wp--style--block-gap: 24px; }		</style>

		<title>wpdb</title>
<meta name='robots' content='max-image-preview:large' />
<link rel="icon" href="../../../../s.w.org/favicon.ico?2" type="image/x-icon" />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel='dns-prefetch' href='../../../../fonts.googleapis.com/index.html' />
<link rel='dns-prefetch' href='http://www.googletagmanager.com/' />
<link rel="alternate" type="application/rss+xml" title="WordPress Developer Resources &raquo; Feed" href="../../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="WordPress Developer Resources &raquo; Comments Feed" href="../../../comments/feed/index.html" />
<meta property="og:title" content="wpdb | Class | WordPress Developer Resources" />
<meta property="og:site_name" content="WordPress Developer Resources" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://developer.wordpress.org/" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@WordPress" />
<meta name="description" content="WordPress database access abstraction class." />
<meta property="og:description" content="WordPress database access abstraction class." />
<link rel="alternate" type="application/rss+xml" title="WordPress Developer Resources &raquo; wpdb Comments Feed" href="https://developer.wordpress.org/reference/classes/wpdb/feed/" />
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P24PF4B');</script>
	<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/developer.wordpress.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.0-alpha-52815"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='dashicons-css'  href='../../../wp-includes/css/dashicons.min.css?ver=6.0-alpha-52815' type='text/css' media='all' />
<link rel='stylesheet' id='admin-bar-css'  href='../../../wp-includes/css/admin-bar.min.css?ver=6.0-alpha-52815' type='text/css' media='all' />
<link rel='stylesheet' id='open-sans-css'  href='../../../../fonts.googleapis.com/css2-3.css?family=Open+Sans:ital,wght@0,300;0,400;0,600;1,300;1,400;1,600&amp;display=swap' type='text/css' media='all' />
<link rel='stylesheet' id='wp4-styles-css'  href='../../../../s.w.org/style/wp4-4.css?ver=1645139188' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-css'  href='../../../wp-content/plugins/gutenberg/build/block-library/style.css?ver=12.7.0' type='text/css' media='all' />
<link rel='stylesheet' id='wporg-handbook-css-css'  href='../../../wp-content/plugins/handbook/stylesheets/callout-boxes.css?ver=20200121' type='text/css' media='all' />
<link rel='stylesheet' id='wporg-developer-style-css'  href='../../../wp-content/themes/pub/wporg-developer/style.css?ver=3' type='text/css' media='all' />
<link rel='stylesheet' id='wp-dev-sass-compiled-css'  href='../../../wp-content/themes/pub/wporg-developer/stylesheets/main.css?ver=20220217' type='text/css' media='all' />
<link rel='stylesheet' id='awesomplete-css-css'  href='../../../wp-content/themes/pub/wporg-developer/stylesheets/awesomplete.css?ver=20160114' type='text/css' media='all' />
<link rel='stylesheet' id='autocomplete-css-css'  href='../../../wp-content/themes/pub/wporg-developer/stylesheets/autocomplete.css?ver=20171220' type='text/css' media='all' />
<link rel='stylesheet' id='syntaxhighlighter-core-css'  href='../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b' type='text/css' media='all' />
<link rel='stylesheet' id='syntaxhighlighter-theme-default-css'  href='../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b' type='text/css' media='all' />
<link rel='stylesheet' id='wporg-global-fonts-css'  href='../../../wp-content/mu-plugins/pub-sync/global-fonts/style-3.css?ver=1645722623' type='text/css' media='all' />
<link rel='stylesheet' id='wporg-global-header-footer-css'  href='../../../wp-content/mu-plugins/pub-sync/blocks/global-header-footer/build/style-3.css?ver=1645036595' type='text/css' media='all' />
<script type='text/javascript' src='../../../wp-includes/blocks/navigation/view.min.js?ver=3776ea67846b3bb10fe8f7cdd486b0ba' id='wp-block-navigation-view-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/jquery.min.js?ver=3.6.0' id='jquery-core-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script type='text/javascript' src='../../../wp-content/plugins/handbook/scripts/handbook.js?ver=20150930' id='wporg-handbook-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/chapters.js?ver=20190603' id='wporg-developer-chapters-js'></script>
<script type='text/javascript' src='../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b' id='syntaxhighlighter-core-js'></script>
<script type='text/javascript' src='../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPhp.js?ver=3.0.9b' id='syntaxhighlighter-brush-php-js'></script>
<link rel="https://api.w.org/" href="https://developer.wordpress.org/wp-json/" /><link rel="alternate" type="application/json" href="https://developer.wordpress.org/wp-json/wp/v2/wp-parser-class/436" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 6.0-alpha-52815" />
<link rel='shortlink' href='https://developer.wordpress.org/?p=436' />
<link rel="alternate" type="application/json+oembed" href="https://developer.wordpress.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://developer.wordpress.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F&amp;format=xml" />
<link rel="canonical" href="index.html">
<link rel="preconnect" href="../../../../fonts.googleapis.com/index.html"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin> <!-- Stream WordPress user activity plugin v3.8.2 -->
	<style>
		@media screen and (max-width: 782px) {
			#wpadminbar li#wp-admin-bar-log-in,
			#wpadminbar li#wp-admin-bar-register {
				display: block;
			}

			#wpadminbar li#wp-admin-bar-log-in a,
			#wpadminbar li#wp-admin-bar-register a {
				padding: 0 8px;
			}
		}
	</style>
		<style>
			a.github-edit {
				margin-left: .5em;
				font-size: .5em;
				vertical-align: top;
				display: inline-block;
				border: 1px solid #eeeeee;
				border-radius: 2px;
				background: #eeeeee;
				padding: .5em .6em .4em;
				color: black;
				margin-top: 0.1em;
			}
			a.github-edit > * {
				opacity: 0.6;
			}
			a.github-edit:hover > * {
				opacity: 1;
				color: black;
			}
			a.github-edit img {
				height: .8em;
			}
		</style>
		
	<script type="text/javascript">
		jQuery( '<style>.hide-if-js { display: none; }</style>' ).appendTo( 'head' );
		jQuery( function($) {
			$( 'body' ).addClass('js');
		} );
	</script>
<style type="text/css" media="print">#wpadminbar { display:none; }</style>
		</head>

	<body class="wp-parser-class-template-default single single-wp-parser-class postid-436 admin-bar no-customize-support">
				<div id="wpadminbar" class="nojq nojs">
						<div class="quicklinks" id="wp-toolbar" role="navigation" aria-label="Toolbar">
				<ul id='wp-admin-bar-root-default' class="ab-top-menu"><li id='wp-admin-bar-wp-logo' class="menupop"><a class='ab-item' aria-haspopup="true" href='https://wordpress.org/about/'><span class="ab-icon" aria-hidden="true"></span><span class="screen-reader-text">About WordPress</span></a><div class="ab-sub-wrapper"><ul id='wp-admin-bar-wp-logo-default' class="ab-submenu"><li id='wp-admin-bar-about'><a class='ab-item' href='https://wordpress.org/about/'>About WordPress</a></li></ul><ul id='wp-admin-bar-wp-logo-external' class="ab-sub-secondary ab-submenu"><li id='wp-admin-bar-wporg'><a class='ab-item' href='https://wordpress.org/'>WordPress.org</a></li><li id='wp-admin-bar-documentation'><a class='ab-item' href='https://wordpress.org/support/'>Documentation</a></li><li id='wp-admin-bar-support-forums'><a class='ab-item' href='https://wordpress.org/support/forums/'>Support</a></li><li id='wp-admin-bar-feedback'><a class='ab-item' href='https://wordpress.org/support/forum/requests-and-feedback'>Feedback</a></li></ul></div></li></ul><ul id='wp-admin-bar-top-secondary' class="ab-top-secondary ab-top-menu"><li id='wp-admin-bar-search' class="admin-bar-search"><div class="ab-item ab-empty-item" tabindex="-1"><form action="https://developer.wordpress.org/" method="get" id="adminbarsearch"><input class="adminbar-input" name="s" id="adminbar-search" type="text" value="" maxlength="150" /><label for="adminbar-search" class="screen-reader-text">Search</label><input type="submit" class="adminbar-button" value="Search" /></form></div></li><li id='wp-admin-bar-log-in'><a class='ab-item' href='https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F&amp;locale=en_US'>Log In</a></li><li id='wp-admin-bar-register'><a class='ab-item' href='https://login.wordpress.org/register?locale=en_US'>Register</a></li></ul>			</div>
					</div>

		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-dark-grayscale"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0 0.49803921568627" /><feFuncG type="table" tableValues="0 0.49803921568627" /><feFuncB type="table" tableValues="0 0.49803921568627" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-grayscale"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0 1" /><feFuncG type="table" tableValues="0 1" /><feFuncB type="table" tableValues="0 1" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-purple-yellow"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0.54901960784314 0.98823529411765" /><feFuncG type="table" tableValues="0 1" /><feFuncB type="table" tableValues="0.71764705882353 0.25490196078431" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-blue-red"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0 1" /><feFuncG type="table" tableValues="0 0.27843137254902" /><feFuncB type="table" tableValues="0.5921568627451 0.27843137254902" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-midnight"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0 0" /><feFuncG type="table" tableValues="0 0.64705882352941" /><feFuncB type="table" tableValues="0 1" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-magenta-yellow"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0.78039215686275 1" /><feFuncG type="table" tableValues="0 0.94901960784314" /><feFuncB type="table" tableValues="0.35294117647059 0.47058823529412" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-purple-green"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0.65098039215686 0.40392156862745" /><feFuncG type="table" tableValues="0 1" /><feFuncB type="table" tableValues="0.44705882352941 0.4" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;" ><defs><filter id="wp-duotone-blue-orange"><feColorMatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 " /><feComponentTransfer color-interpolation-filters="sRGB" ><feFuncR type="table" tableValues="0.098039215686275 1" /><feFuncG type="table" tableValues="0 0.66274509803922" /><feFuncB type="table" tableValues="0.84705882352941 0.41960784313725" /><feFuncA type="table" tableValues="1 1" /></feComponentTransfer><feComposite in2="SourceGraphic" operator="in" /></filter></defs></svg><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24PF4B" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	

<header class="wp-container-6 wp-block-group alignfull global-header">
	
	<!-- The design calls for two logos, a small "mark" on mobile/tablet, and the full logo for desktops. -->
		<figure class="wp-block-image global-header__wporg-logo-mark">
			<a href="https://wordpress.org/">
				<svg xmlns="http://www.w3.org/2000/svg" role="img" width="28" height="28" viewBox="0 0 28 28">
	<title>WordPress.org</title>
	<path fill="currentColor" d="M13.6052 0.923525C16.1432 0.923525 18.6137 1.67953 20.7062 3.09703C22.7447 4.47403 24.3512 6.41803 25.3097 8.68603C26.9837 12.6415 26.5382 17.164 24.1352 20.7145C22.7582 22.753 20.8142 24.3595 18.5462 25.318C14.5907 26.992 10.0682 26.5465 6.51772 24.1435C4.47922 22.7665 2.87272 20.8225 1.91422 18.5545C0.240225 14.599 0.685725 10.0765 3.08872 6.52603C4.46572 4.48753 6.40973 2.88103 8.67772 1.92253C10.2302 1.26103 11.9177 0.923525 13.6052 0.923525ZM13.6052 0.113525C6.15322 0.113525 0.105225 6.16153 0.105225 13.6135C0.105225 21.0655 6.15322 27.1135 13.6052 27.1135C21.0572 27.1135 27.1052 21.0655 27.1052 13.6135C27.1052 6.16153 21.0572 0.113525 13.6052 0.113525Z" />
	<path fill="currentColor" d="M2.36011 13.6133C2.36011 17.9198 4.81711 21.8618 8.70511 23.7383L3.33211 9.03684C2.68411 10.4813 2.36011 12.0338 2.36011 13.6133ZM21.2061 13.0463C21.2061 11.6558 20.7066 10.6973 20.2746 9.94134C19.8426 9.18534 19.1676 8.22684 19.1676 7.30884C19.1676 6.39084 19.9506 5.31084 21.0576 5.31084H21.2061C16.6296 1.11234 9.51511 1.42284 5.31661 6.01284C4.91161 6.45834 4.53361 6.93084 4.20961 7.43034H4.93861C6.11311 7.43034 7.93561 7.28184 7.93561 7.28184C8.54311 7.24134 8.61061 8.13234 8.00311 8.21334C8.00311 8.21334 7.39561 8.28084 6.72061 8.32134L10.8111 20.5118L13.2681 13.1273L11.5131 8.32134C10.9056 8.28084 10.3386 8.21334 10.3386 8.21334C9.73111 8.17284 9.79861 7.25484 10.4061 7.28184C10.4061 7.28184 12.2691 7.43034 13.3626 7.43034C14.4561 7.43034 16.3596 7.28184 16.3596 7.28184C16.9671 7.24134 17.0346 8.13234 16.4271 8.21334C16.4271 8.21334 15.8196 8.28084 15.1446 8.32134L19.2081 20.4173L20.3691 16.7453C20.8821 15.1388 21.1926 14.0048 21.1926 13.0328L21.2061 13.0463ZM13.7946 14.5853L10.4196 24.3998C12.6876 25.0613 15.1041 25.0073 17.3316 24.2243L17.2506 24.0758L13.7946 14.5853ZM23.4741 8.21334C23.5281 8.59134 23.5551 8.98284 23.5551 9.37434C23.5551 10.5218 23.3391 11.8043 22.7046 13.3973L19.2621 23.3333C24.5271 20.2688 26.4036 13.5593 23.4741 8.21334Z" />
</svg>			</a>
		</figure>

		<figure class="wp-block-image global-header__wporg-logo-full">
			<a href="https://wordpress.org/">
				<svg xmlns="http://www.w3.org/2000/svg" role="img" width="329" height="52" viewBox="0 0 329 52">
	<title>WordPress.org</title>
	<path fill="currentColor" d="M4.33 26a21.68 21.68 0 0 0 12.22 19.5L6.21 17.18A21.66 21.66 0 0 0 4.33 26ZM26.38 27.89l-6.5 18.89a21.31 21.31 0 0 0 6.12.89 21.77 21.77 0 0 0 7.2-1.23 1.429 1.429 0 0 1-.16-.3l-6.66-18.25Z"/>
	<path fill="currentColor" d="M26 0a26 26 0 1 0 0 52 26 26 0 0 0 0-52Zm20.27 39.66a24.47 24.47 0 0 1-29.78 8.86 24.49 24.49 0 0 1-13-13 24.4 24.4 0 0 1 5.23-26.8 24.46 24.46 0 0 1 26.79-5.24 24.49 24.49 0 0 1 13 13 24.42 24.42 0 0 1-2.25 23.17l.01.01Z"/>
	<path fill="currentColor" d="M45 15.61c.103.736.153 1.477.15 2.22a20.38 20.38 0 0 1-1.65 7.76l-6.61 19.14A21.65 21.65 0 0 0 45 15.61ZM40.63 24.91a11.45 11.45 0 0 0-1.79-6c-1.1-1.78-2.13-3.29-2.13-5.08A3.76 3.76 0 0 1 40.35 10h.28A21.65 21.65 0 0 0 7.9 14.1h1.39c2.27 0 5.78-.27 5.78-.27a.9.9 0 0 1 .13 1.79s-1.17.13-2.47.2l7.88 23.47 4.75-14.22L22 15.84c-1.17-.07-2.27-.2-2.27-.2a.9.9 0 0 1 .14-1.79s3.57.27 5.7.27c2.13 0 5.78-.27 5.78-.27a.9.9 0 0 1 .14 1.79s-1.18.13-2.48.2l7.83 23.29 2.23-7.08a25.171 25.171 0 0 0 1.56-7.14ZM145.83 19.3h-10.34v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 4.1-.52 4.85-3.75 4.85-2.48-.35-4.16-1.68-6.47-4.22l-2.66-2.89c3.58-.63 5.49-2.89 5.49-5.43 0-3.18-2.72-5.6-7.8-5.6h-10.17v1.1c3.24 0 3.76.69 3.76 4.79v7.4c0 4.1-.52 4.85-3.76 4.85v1.1h11.5v-1.1c-3.24 0-3.76-.75-3.76-4.85v-2.08h1l6.42 8h16.81c8.26 0 11.85-4.39 11.85-9.65 0-5.26-3.61-9.56-11.87-9.56Zm-24.21 9.42V21H124a3.551 3.551 0 0 1 3.76 3.87 3.536 3.536 0 0 1-3.76 3.85h-2.38Zm24.38 8h-.4c-2.08 0-2.37-.52-2.37-3.18V21H146c6 0 7.11 4.39 7.11 7.8S152 36.75 146 36.75v-.03ZM93.49 13.52H82.62v1.16c3.7 0 4.22 1 3.07 4.39l-4 11.78L76 13.52h-1.1l-5.85 17.33-3.87-11.78c-1.22-3.59-.29-4.39 3.12-4.39v-1.16H55.47v1.16c3.35 0 4.28.86 5.66 5.08l6.42 19.76h.75l6-18.08 5.9 18.08h.8l6.59-19.76c1.44-4.22 2.31-5.08 5.95-5.08l-.05-1.16ZM101.34 18.55c-6.35 0-11.55 4.68-11.55 10.34s5.2 10.4 11.55 10.4c6.35 0 11.56-4.68 11.56-10.4 0-5.72-5.2-10.34-11.56-10.34Zm0 18.89c-5.31 0-7.16-4.74-7.16-8.55 0-3.81 1.85-8.55 7.16-8.55 5.31 0 7.23 4.79 7.23 8.55 0 3.76-1.85 8.55-7.23 8.55ZM170.67 13.52h-12v1.16c3.88 0 4.57.92 4.57 6.7v9.24c0 5.78-.69 6.76-4.57 6.76v1.16H172v-1.16c-3.88 0-4.57-1-4.57-6.76v-2.83h3.29c6 0 9.25-3.12 9.25-7.11s-3.35-7.16-9.3-7.16Zm0 12.13h-3.29v-10h3.29c3.24 0 4.74 2.31 4.74 5.08s-1.5 4.92-4.74 4.92ZM219.32 34.15c-.52 1.9-1.15 2.6-5.26 2.6h-.81c-3 0-3.52-.7-3.52-4.8v-2.66c4.51 0 4.85.41 4.85 3.41h1.1v-8.61h-1.1c0 3-.34 3.41-4.85 3.41V21h3.18c4.1 0 4.74.69 5.26 2.6l.28 1.1h.93l-.38-5.4h-17v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 3.75-.44 4.69-3 4.83-2.42-.37-4.09-1.69-6.37-4.2l-2.65-2.89c3.58-.63 5.49-2.89 5.49-5.43 0-3.18-2.72-5.6-7.8-5.6h-10.17v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 4.1-.52 4.85-3.75 4.85v1.1h11.49v-1.1c-3.23 0-3.75-.75-3.75-4.85v-2.08h1l6.41 8h23.75l.35-5.43h-.87l-.31 1.07ZM189 28.72V21h2.37a3.542 3.542 0 0 1 3.75 3.87 3.532 3.532 0 0 1-.998 2.77 3.532 3.532 0 0 1-2.752 1.05l-2.37.03ZM234.52 27.91l-3.18-1.56c-2.78-1.27-4-2.08-4-3.59 0-1.51 1.5-2.36 3.12-2.36 3.06 0 4.57 2.25 5 5h1.21v-6.85h-1.09a3.415 3.415 0 0 1-.75 1.56 7.25 7.25 0 0 0-4.51-1.5c-3.58 0-6.18 2.36-6.18 5.14 0 2.54 1.73 4.45 4 5.54l3.29 1.56c2.37 1.1 3.7 2.26 3.7 3.76 0 1.73-1.5 2.77-3.35 2.77-3.41 0-6.07-2.25-6.53-6.06h-1.15v8h1.09a4.194 4.194 0 0 1 .93-2 8.481 8.481 0 0 0 5.2 2c3.87 0 7-2.54 7-6.18.07-1.77-1.03-3.9-3.8-5.23ZM252 27.91l-3.18-1.56c-2.78-1.27-4-2.08-4-3.59 0-1.51 1.5-2.36 3.12-2.36 3.06 0 4.57 2.25 5 5h1.21v-6.85H253a3.415 3.415 0 0 1-.75 1.56 7.25 7.25 0 0 0-4.51-1.5c-3.58 0-6.18 2.36-6.18 5.14 0 2.54 1.73 4.45 4 5.54l3.29 1.56c2.37 1.1 3.7 2.26 3.7 3.76 0 1.73-1.5 2.77-3.35 2.77-3.41 0-6.07-2.25-6.53-6.06h-1.15v8h1.09a4.194 4.194 0 0 1 .93-2 8.481 8.481 0 0 0 5.2 2c3.87 0 7.05-2.54 7.05-6.18.07-1.77-1.03-3.9-3.79-5.23ZM277.56 18.75a10.481 10.481 0 0 0-10.68 10.17 10.47 10.47 0 0 0 10.68 10.16c5.9 0 10.71-4.58 10.71-10.16s-4.81-10.17-10.71-10.17Zm0 19c-5.52 0-7.63-4.91-7.63-8.88 0-3.97 2.07-8.87 7.63-8.87 5.56 0 7.66 4.94 7.66 8.92 0 3.98-2.11 8.88-7.66 8.88v-.05ZM301.71 33.79l-3.14-3.69c3.63-.38 5.71-2.59 5.71-5.38 0-3-2.44-5.42-6.89-5.42h-8.47v.7c2.66 0 3.05.51 3.05 3.72v10.39c0 3.21-.39 3.76-3.05 3.76v.67h8.66v-.67c-2.66 0-3.05-.55-3.05-3.76v-4H296l6.35 8.44h5.29v-.67c-1.88-.24-4.03-1.88-5.93-4.09ZM294.53 29v-8.52h2.82c2.79 0 4.08 1.93 4.08 4.24 0 2.31-1.29 4.28-4.08 4.28h-2.82ZM319.6 30.59v.64c2.21 0 3 .7 3 2.08 0 2.89-2.5 4.39-5.29 4.39-5.93 0-7.6-4.81-7.6-8.78 0-3.97 1.86-8.92 7-8.92 3.59 0 6.09 2.54 7 6.7h.64v-7h-.64a3.281 3.281 0 0 1-1.09 1.83 8.203 8.203 0 0 0-6-2.73 10.167 10.167 0 0 0-9.851 10.165 10.169 10.169 0 0 0 9.851 10.165c3.34 0 4.78-1.66 8.34-1.66V35c0-3.21.39-3.75 3.05-3.75v-.64l-8.41-.02ZM261.9 34.77a2.061 2.061 0 1 0 .288 4.112 2.061 2.061 0 0 0-.288-4.112Z"/>
</svg>			</a>
		</figure>
	

	
	<nav class="wp-container-2 is-responsive global-header__navigation wp-block-navigation"><button aria-haspopup="true" aria-label="Open menu" class="wp-block-navigation__responsive-container-open " data-micromodal-trigger="modal-1"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><rect x="4" y="7.5" width="16" height="1.5" /><rect x="4" y="15" width="16" height="1.5" /></svg></button>
			<div class="wp-block-navigation__responsive-container  " style="" id="modal-1">
				<div class="wp-block-navigation__responsive-close" tabindex="-1" data-micromodal-close>
					<div class="wp-block-navigation__responsive-dialog" aria-label="Menu">
							<button aria-label="Close menu" data-micromodal-close class="wp-block-navigation__responsive-container-close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false"><path d="M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"></path></svg></button>
						<div class="wp-block-navigation__responsive-container-content" id="modal-1-content">
							<ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/plugins/"><span class="wp-block-navigation-item__label">Plugins</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/themes/"><span class="wp-block-navigation-item__label">Themes</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/patterns/"><span class="wp-block-navigation-item__label">Patterns</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://learn.wordpress.org/"><span class="wp-block-navigation-item__label">Learn</span></a></li><li class=" wp-block-navigation-item has-child wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/support/"><span class="wp-block-navigation-item__label">Support</span></a><span class="wp-block-navigation__submenu-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" aria-hidden="true" focusable="false"><path d="M1.50002 4L6.00002 8L10.5 4" stroke-width="1.5"></path></svg></span><ul class="wp-block-navigation__submenu-container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/support/"><span class="wp-block-navigation-item__label">Documentation</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/support/forums/"><span class="wp-block-navigation-item__label">Forums</span></a></li></ul></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/news/"><span class="wp-block-navigation-item__label">News</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/about/"><span class="wp-block-navigation-item__label">About</span></a></li><li class=" wp-block-navigation-item has-child wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://make.wordpress.org/"><span class="wp-block-navigation-item__label">Get Involved</span></a><span class="wp-block-navigation__submenu-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" aria-hidden="true" focusable="false"><path d="M1.50002 4L6.00002 8L10.5 4" stroke-width="1.5"></path></svg></span><ul class="wp-block-navigation__submenu-container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/five-for-the-future/"><span class="wp-block-navigation-item__label">Five for the Future</span></a></li></ul></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/showcase/"><span class="wp-block-navigation-item__label">Showcase</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/mobile/"><span class="wp-block-navigation-item__label">Mobile</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/hosting/"><span class="wp-block-navigation-item__label">Hosting</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/openverse/"><span class="wp-block-navigation-item__label">Openverse</span></a></li><li class=" wp-block-navigation-item global-header__mobile-get-wordpress global-header__get-wordpress wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/downloads/"><span class="wp-block-navigation-item__label">Get WordPress</span></a></li></ul>
						</div>
					</div>
				</div>
			</div></nav>

		<!--
		The search block is inside a navigation menu because that provides the exact functionality the design
		calls for. It also provides a consistent experience with the primary navigation menu, with respect to
		keyboard navigation, ARIA states, etc. It also saves having to write custom code for all the interactions.
	-->
	<nav class="wp-container-4 is-responsive global-header__search wp-block-navigation"><button aria-haspopup="true" aria-label="Open menu" class="wp-block-navigation__responsive-container-open always-shown" data-micromodal-trigger="modal-3"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><rect x="4" y="7.5" width="16" height="1.5" /><rect x="4" y="15" width="16" height="1.5" /></svg></button>
			<div class="wp-block-navigation__responsive-container hidden-by-default " style="" id="modal-3">
				<div class="wp-block-navigation__responsive-close" tabindex="-1" data-micromodal-close>
					<div class="wp-block-navigation__responsive-dialog" aria-label="Menu">
							<button aria-label="Close menu" data-micromodal-close class="wp-block-navigation__responsive-container-close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false"><path d="M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"></path></svg></button>
						<div class="wp-block-navigation__responsive-container-content" id="modal-3-content">
							<form role="search" method="get" action="https://wordpress.org/search/do-search.php" class="wp-block-search__button-inside wp-block-search__icon-button wp-block-search"><label for="wp-block-search__input-2" class="wp-block-search__label">Search</label><div class="wp-block-search__inside-wrapper " ><input type="search" id="wp-block-search__input-2" class="wp-block-search__input " name="s" value="" placeholder="Search WP.org..."  required /><button type="submit" class="wp-block-search__button  has-icon"  aria-label="Search"><svg id="search-icon" class="search-icon" viewBox="0 0 24 24" width="24" height="24">
					<path d="M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"></path>
				</svg></button></div></form>
						</div>
					</div>
				</div>
			</div></nav>
	
	<!-- This is the first of two Get WordPress buttons; the other is in the navigation menu.
		 Two are needed because they have different DOM hierarchies at different breakpoints. -->
	
	<div class="wp-container-5 global-header__desktop-get-wordpress-container">
		<a href="https://wordpress.org/downloads/" class="global-header__desktop-get-wordpress global-header__get-wordpress">
			Get WordPress		</a>
	</div> 
</header> 

<header id="masthead" class="site-header" role="banner">
		<div class="site-branding">
		<h1 class="site-title">
			<a href="../../index.html" rel="home">Code Reference</a>
		</h1>

		
		<nav id="site-navigation" class="main-navigation" role="navigation">
			<button class="menu-toggle dashicons dashicons-arrow-down-alt2" aria-controls="primary-menu" aria-expanded="false" aria-label="Primary Menu"></button>
					</nav>
	</div>
</header><!-- #masthead -->

<div id="page" class="hfeed site devhub-wrap">
	<a href="#main" class="screen-reader-text">Skip to content</a>

				<div id="inner-search">
			<div class="search-section section clear hide-if-js">


	
	<form role="search" method="get" class="searchform searchform-filtered" action="https://developer.wordpress.org/">
		<label for="search-field" class="screen-reader-text">Search for:</label>
		<input type="text" id="search-field" class="search-field" placeholder="Search &hellip;" value="" name="s">
		<button class="button button-primary button-search"><i class="dashicons dashicons-search"></i><span class="screen-reader-text">Search plugins</span></button>
	
		<div class="search-post-type">
			<span>Filter by type:</span>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-function"
						 /> Functions</label>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-hook"
						 /> Hooks</label>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-class"
						 /> Classes</label>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-method"
						 /> Methods</label>
					</div>

	
	</form>

</div><!-- /search-guide -->
			<div id="inner-search-icon-container">
				<div id="inner-search-icon">
					<div class="dashicons dashicons-search"><span class="screen-reader-text">Search</span></div>
				</div>
			</div>
		</div>

		<div id="content" class="site-content">

	<div id="content-area" class="wp-parser-class-template-default single single-wp-parser-class postid-436 admin-bar no-customize-support code-reference">

		
		<div class="breadcrumb-trail breadcrumbs" itemprop="breadcrumb">
			<span class="trail-browse">Browse:</span> 
			<span class="trail-begin"><a href="../../../index.html" title="WordPress Developer Resources" rel="home">Home</a></span> <span class="sep">&#47;</span> 
			<span class="trail-inner"><a href="../../index.html" title="Reference">Reference</a></span> <span class="sep">&#47;</span> 
			<span class="trail-inner"><a href="../index.html">Classes</a></span> <span class="sep">&#47;</span> <span class="trail-end">wpdb</span>
		</div>
		<main id="main" class="site-main" role="main">

		
			
<article id="post-436" class="post-436 wp-parser-class type-wp-parser-class status-publish hentry wp-parser-source-file-wp-includes_wp-db-php wp-parser-package-database wp-parser-package-wordpress wp-parser-since-0-71">

	
	
	<h1>wpdb</h1>

	<section class="summary">
		<p>WordPress database access abstraction class.</p>
	</section>


	
	<div class="content-toc"><div class="table-of-contents"><h2>Contents</h2><ul class="items"><li><a href="#description">Description</a></li>
<li><a href="#more-information">More Information</a>
<ul>
<li><a href="#an-important-note-regarding-escaping">An Important Note Regarding Escaping</a>
</ul></li>
<li><a href="#using-the-wpdb-global-object">Using the <code>$wpdb</code> global object</a></li>
<li><a href="#protect-queries-against-sql-injection-attacks">Protect Queries Against SQL Injection Attacks</a>
<ul>
<li><a href="#placeholders">Placeholders</a></li>
<li><a href="#examples">Examples</a>
</ul></li>
<li><a href="#common-tasks">Common Tasks</a>
<ul>
<li><a href="#select-a-variable">SELECT a Variable</a>
<ul>
<li><a href="#examples-2">Examples</a>
</ul></li>
<li><a href="#select-a-row">SELECT a Row</a>
<ul>
<li><a href="#examples-3">Examples</a>
</ul></li>
<li><a href="#select-a-column"><span id="SELECT_a_Column" class="mw-headline">SELECT a Column</span></a>
<ul>
<li><a href="#examples-4"><span id="Examples_3" class="mw-headline">Examples</span></a>
</ul></li>
<li><a href="#select-generic-results"><span id="SELECT_Generic_Results" class="mw-headline">SELECT Generic Results</span></a>
<ul>
<li><a href="#examples-5"><span id="Examples_4" class="mw-headline">Examples</span></a>
</ul></li>
<li><a href="#insert-row"><span id="INSERT_row" class="mw-headline">INSERT row</span></a>
<ul>
<li><a href="#examples-6"><span id="Examples_5" class="mw-headline">Examples</span></a>
</ul></li>
<li><a href="#replace-row"><span id="REPLACE_row" class="mw-headline">REPLACE row</span></a>
<ul>
<li><a href="#examples-7"><span id="Examples_6" class="mw-headline">Examples</span></a>
</ul></li>
<li><a href="#update-rows"><span id="UPDATE_rows" class="mw-headline">UPDATE rows</span></a>
<ul>
<li><a href="#examples-8"><span id="Examples_7" class="mw-headline">Examples</span></a>
</ul></li>
<li><a href="#delete-rows"><span id="DELETE_Rows" class="mw-headline">DELETE Rows</span></a>
<ul>
<li><a href="#examples-9"><span id="Examples_8" class="mw-headline">Examples</span></a>
</ul></li>
<li><a href="#running-general-queries"><span id="Running_General_Queries" class="mw-headline">Running General Queries</span></a>
<ul>
<li><a href="#examples-10"><span id="Examples_9" class="mw-headline">Examples</span></a>
</ul></li>
<li><a href="#show-and-hide-sql-errors"><span id="Show_and_Hide_SQL_Errors" class="mw-headline">Show and Hide SQL Errors</span></a></li>
<li><a href="#getting-column-information"><span id="Getting_Column_Information" class="mw-headline">Getting Column Information</span></a></li>
<li><a href="#clearing-the-cache">Clearing the Cache</a></li>
<li><a href="#tables">Tables</a></li>
<li><a href="#properties">Properties</a>
<ul>
<li><a href="#multi-site-variables">Multi-Site Variables</a></li>
<li><a href="#tables-2">Tables</a></li>
<li><a href="#multisite-tables">Multisite Tables</a>
</ul></li>
<li><a href="#source">Source</a></li>
<li><a href="#methods">Methods</a></li>
<li><a href="#changelog">Changelog</a></li>
<li><a href="#user-contributed-notes">User Contributed Notes</a></ul>
</div>

<hr />
<section class="description">
	<h2 id="description" class="toc-heading" tabindex="-1" >Description <a href="#description" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Description</span></a></h2>
	<p>This class is used to interact with a database without needing to use raw SQL statements. By default, WordPress uses this class to instantiate the global $<a href="index.html">wpdb</a> object, providing access to the WordPress database.</p>
<p>It is possible to replace this class with your own by setting the $<a href="index.html">wpdb</a> global variable in wp-content/db.php file to your class. The <a href="index.html">wpdb</a> class will still be included, so you can extend it or simply use your own.</p>

	</section>

	<hr />
	<section class="explanation">
		<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 id="more-information" class="toc-heading" tabindex="-1" >More Information <a href="#more-information" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">More Information</span></a></h2>

		<p>An instantiated <i><a href="index.html">wpdb</a></i> class can talk to any number of tables, but only to one database at a time. In the rare case you need to connect to another database, instantiate your own object from the <i><a href="index.html">wpdb</a></i> class with your own database connection information.</p>
<p><strong>Note:</strong> Each method contained within the class is listed in the Methods section (below). In addition, each method has its own help page; this is where you&#8217;ll find detailed usage information for the method you&#8217;re interested in.</p>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h3 id="an-important-note-regarding-escaping" class="toc-heading" tabindex="-1" >An Important Note Regarding Escaping <a href="#an-important-note-regarding-escaping" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">An Important Note Regarding Escaping</span></a></h3>
<p>Some of the methods in this class take an SQL statement as input. <b>All untrusted values in an SQL statement m</b><b>ust be escaped</b> to prevent SQL injection attacks. Some methods will escape SQL for you; others will not. Check the documentation to be sure before you use any method in this class. For more on SQL escaping in WordPress, see the section entitled Protect Queries Against SQL Injection Attacks below.</p>
<hr />
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 id="using-the-wpdb-global-object" class="toc-heading" tabindex="-1" >Using the <code>$wpdb</code> global object <a href="#using-the-wpdb-global-object" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Using the <code>$wpdb</code> global object</span></a></h2>
<p>WordPress provides a global object, <code>$wpdb</code>, which is an instantiation of the <i><a href="index.html">wpdb</a></i> class. By default, <code>$wpdb</code> is instantiated to talk to the WordPress database.</p>
<p>The recommended way to access <code>$wpdb</code> in your WordPress PHP code is to declare <code>$wpdb</code> as a global variable using the <a class="external text" href="http://www.php.net/manual/en/language.variables.scope.php#language.variables.scope.global" rel="nofollow"><code>global</code> keyword</a>, like this:</p>
<pre class="brush: php; title: ; notranslate" title="">
&lt;?php
// 1st Method - Declaring $wpdb as global and using it to execute an SQL query statement that returns a PHP object
global $wpdb;
$results = $wpdb-&gt;get_results( &quot;SELECT * FROM {$wpdb-&gt;prefix}options WHERE option_id = 1&quot;, OBJECT );
</pre>
<p>Alternatively, if the above doesn&#8217;t suit your needs for whatever reason, use the <a class="external text" href="http://www.php.net/manual/en/language.variables.superglobals.php" rel="nofollow">superglobal <code>$GLOBALS</code></a> in the following manner:</p>
<pre class="brush: php; title: ; notranslate" title="">
&lt;?php
// 2nd Method - Utilizing the $GLOBALS superglobal. Does not require global keyword ( but may not be best practice )
$results = $GLOBALS['wpdb']-&gt;get_results( &quot;SELECT * FROM {$wpdb-&gt;prefix}options WHERE option_id = 1&quot;, OBJECT );
</pre>
<p>The <code>$wpdb</code> object can be used to read data from <i>any</i> table in the WordPress database, not just those created by WordPress itself.</p>
<hr />
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 id="protect-queries-against-sql-injection-attacks" class="toc-heading" tabindex="-1" >Protect Queries Against SQL Injection Attacks <a href="#protect-queries-against-sql-injection-attacks" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Protect Queries Against SQL Injection Attacks</span></a></h2>
<blockquote><p>For a more complete overview of SQL escaping in WordPress, see <a title="Data Validation" href="../../../../codex.wordpress.org/Data_Validation.html#Database">database Data Validation</a>. It is a <b>must-read</b> for all WordPress code contributors and plugin authors.</p></blockquote>
<p>All data in SQL queries must be SQL-escaped before the SQL query is executed to prevent against SQL injection attacks. The <code>prepare</code> method performs this functionality for WordPress, which supports both a <a class="external text" href="http://php.net/sprintf" rel="nofollow">sprintf()</a>-like and <a class="external text" href="http://php.net/vsprintf" rel="nofollow">vsprintf()</a>-like syntax.</p>
<p>Using it looks like this:</p>
<pre class="brush: php; title: ; notranslate" title="">
&lt;?php
$sql = $wpdb-&gt;prepare( 'query' , value_parameter[, value_parameter ... ] );
</pre>
<dl>
<dt><code>query</code></dt>
<dd><em>(string)</em> The SQL query you wish to execute, with placeholders (see below).</dd>
<dt><code>value_parameter</code></dt>
<dd><em>(int|string|array)</em> The value to substitute into the placeholder. Many values may be passed by simply passing more arguments in a <a class="external text" href="http://php.net/sprintf" rel="nofollow">sprintf()</a>-like fashion. Alternatively the second argument can be an array containing the values as in PHP&#8217;s <a class="external text" href="http://php.net/vsprintf" rel="nofollow">vsprintf()</a> function. Care must be taken not to allow direct user input to this parameter, which would enable array manipulation of any query with multiple placeholders.<strong>Note:</strong> Values cannot be SQL-escaped.</dd>
</dl>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h3 id="placeholders" class="toc-heading" tabindex="-1" >Placeholders <a href="#placeholders" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Placeholders</span></a></h3>
<p>The <code>query</code> parameter for <code>prepare</code> accepts <a class="external text" href="http://php.net/sprintf" rel="nofollow">sprintf()</a>-like placeholders:</p>
<ul>
<li><code>%s</code> (string)</li>
<li><code>%d</code> (integer)</li>
<li><code>%f</code> (float)</li>
</ul>
<p>Notes on placeholders</p>
<ol>
<li>Any other <code>%</code> characters may cause parsing errors unless they are escaped.</li>
<li>All <code>%</code> characters inside SQL string literals, including LIKE wildcards, must be double-% escaped as <code>%%</code>.</li>
<li>Leave <code>%d</code>, <code>%f</code>, and <code>%s</code> unquoted in the query string.</li>
</ol>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h3 id="examples" class="toc-heading" tabindex="-1" >Examples <a href="#examples" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Examples</span></a></h3>
<p>Add Meta key =&gt; value pair &#8220;Funny Phrases&#8221; =&gt; &#8220;WordPress&#8217; database interface is like Sunday Morning: Easy.&#8221; to Post 10.</p>
<section class="source-content">
<div class="source-code-container">
<pre class="brush: php; title: ; notranslate" title="">
&lt;?php
$metakey   = 'Funny Phrases';
$metavalue = &quot;WordPress' database interface is like Sunday Morning: Easy.&quot;;

&lt;/pre&gt;
&lt;pre&gt;$wpdb-&gt;query(
   $wpdb-&gt;prepare(
      &quot;
      INSERT INTO $wpdb-&gt;postmeta
      ( post_id, meta_key, meta_value )
      VALUES ( %d, %s, %s )
      &quot;,
      10,
      $metakey,
      $metavalue
   )
);
</pre>
</div>
<p class="source-code-links"><span><a href="#" class="show-complete-source">Expand full source code</a><a href="#" class="less-complete-source">Collapse full source code</a></span></p>
</section>
<p>The same query using <a class="external text" href="http://php.net/vsprintf" rel="nofollow">vsprintf()</a>-like syntax. Note that in this example we pack the values together in an array. This can be useful when we don&#8217;t know the number of arguments we need to pass until runtime.</p>
<section class="source-content">
<div class="source-code-container">
<pre class="brush: php; title: ; notranslate" title="">
&lt;?php
$metakey   = 'Funny Phrases';
$metavalue = &quot;WordPress' database interface is like Sunday Morning: Easy.&quot;;

$wpdb-&gt;query(
   $wpdb-&gt;prepare(
   &quot;
   INSERT INTO $wpdb-&gt;postmeta
   ( post_id, meta_key, meta_value )
   VALUES ( %d, %s, %s )
   &quot;,
   array(
         10,
         $metakey,
         $metavalue,
      )
   )
);
</pre>
</div>
<p class="source-code-links"><span><a href="#" class="show-complete-source">Expand full source code</a><a href="#" class="less-complete-source">Collapse full source code</a></span></p>
</section>
<p>In both cases, we do not need to escape the strings because we are passing them using placeholders. You can pass as many values as you like, provided each one has a corresponding placeholder in the <code>prepare()</code> method call.</p>
<hr />
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 id="common-tasks" class="toc-heading" tabindex="-1" >Common Tasks <a href="#common-tasks" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Common Tasks</span></a></h2>
<p>Each of the class&#8217;s properties and methods are listed below, and most have their own help page that you should consult for detailed usage information. This section, however, gives an overview of some of the more common tasks this class can be used to perform.</p>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h3 id="select-a-variable" class="toc-heading" tabindex="-1" >SELECT a Variable <a href="#select-a-variable" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">SELECT a Variable</span></a></h3>
<p>The <a href="get_var/index.html"><code>get_var</code></a> function returns a single variable from the database. Though only one variable is returned, the entire result of the query is cached for later use. Returns NULL if no result is found.</p>
<pre class="brush: php; title: ; notranslate" title="">
 &lt;?php $wpdb-&gt;get_var( 'query', column_offset, row_offset ); ?&gt; 
</pre>
<dl>
<dt><strong><code>query</code></strong></dt>
<dd><em>(string)</em> The query you wish to run. Setting this parameter to <code>null</code> will return the specified variable from the cached results of the previous query.</dd>
<dt><strong><code>column_offset</code></strong></dt>
<dd><em>(integer)</em> The desired column (0 being the first). Defaults to 0.</dd>
<dt><strong><code>row_offset</code></strong></dt>
<dd><em>(integer)</em> The desired row (0 being the first). Defaults to 0.</dd>
</dl>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h4 id="examples-2" class="toc-heading" tabindex="-1" >Examples <a href="#examples-2" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Examples</span></a></h4>
<p>Retrieve and display the number of users.</p>
<pre class="brush: php; title: ; notranslate" title="">
&lt;?php
$user_count = $wpdb-&gt;get_var( &quot;SELECT COUNT(*) FROM $wpdb-&gt;users&quot; );
echo &quot;&lt;p&gt;User count is {$user_count}&lt;/p&gt;&quot;;
?&gt;
</pre>
<p>Retrieve and display the sum of a Custom Field value.</p>
<section class="source-content">
<div class="source-code-container">
<pre class="brush: php; title: ; notranslate" title="">
&lt;?php
// set the meta_key to the appropriate custom field meta key
$meta_key = 'miles';
$allmiles = $wpdb-&gt;get_var(
	$wpdb-&gt;prepare(
		&quot;
			SELECT sum(meta_value)
			FROM $wpdb-&gt;postmeta
			WHERE meta_key = %s
		&quot;,
		$meta_key
	)
);
echo &quot;&lt;p&gt;Total miles is {$allmiles}&lt;/p&gt;&quot;;
?&gt; 
</pre>
</div>
<p class="source-code-links"><span><a href="#" class="show-complete-source">Expand full source code</a><a href="#" class="less-complete-source">Collapse full source code</a></span></p>
</section>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h3 id="select-a-row" class="toc-heading" tabindex="-1" >SELECT a Row <a href="#select-a-row" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">SELECT a Row</span></a></h3>
<p>To retrieve an entire row from a query, use <a href="get_row/index.html"><code>get_row</code></a>. The function can return the row as an object, an associative array, or as a numerically indexed array. If more than one row is returned by the query, only the specified row is returned by the function, but all rows are cached for later use. Returns <code>null</code> if no result is found, consider this when using the returned value in arguments, see example below.</p>
<pre class="brush: php; title: ; notranslate" title="">
&lt;?php $wpdb-&gt;get_row('query', output_type, row_offset); ?&gt; 
</pre>
<dl>
<dt><strong><code>query</code></strong></dt>
<dd><em>(string)</em> The query you wish to run.</dd>
<dt><strong><code>output_type</code></strong></dt>
<dd>One of three pre-defined constants. Defaults to <code>OBJECT</code>.</dd>
</dl>
<ul>
<li><code>OBJECT</code> &#8211; result will be output as an object.</li>
<li><code>ARRAY_A</code> &#8211; result will be output as an associative array.</li>
<li><code>ARRAY_N</code> &#8211; result will be output as a numerically indexed array.</li>
</ul>
<dl>
<dt><strong><code>row_offset</code></strong></dt>
<dd><em>(integer)</em> The desired row (0 being the first). Defaults to 0.</dd>
</dl>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h4 id="examples-3" class="toc-heading" tabindex="-1" >Examples <a href="#examples-3" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Examples</span></a></h4>
<p>Get all the information about Link 10.</p>
<pre class="brush: php; title: ; notranslate" title="">
$mylink = $wpdb-&gt;get_row( &quot;SELECT * FROM $wpdb-&gt;links WHERE link_id = 10&quot; );
</pre>
<p>The properties of the &lt;code&gt;$mylink&lt;/code&gt; object are the column names of the result from the SQL query (in this example all the columns from the &lt;code&gt;$<a href="index.html">wpdb</a>-&gt;links&lt;/code&gt; table, but you could also query for specific columns only).</p>
<pre class="brush: php; title: ; notranslate" title="">
echo $mylink-&gt;link_id; // prints &quot;10&quot;
</pre>
<p>In contrast, using</p>
<pre class="brush: php; title: ; notranslate" title="">
$mylink = $wpdb-&gt;get_row( &quot;SELECT * FROM $wpdb-&gt;links WHERE link_id = 10&quot;, ARRAY_A );
</pre>
<p>would result in an associative array:</p>
<pre class="brush: php; title: ; notranslate" title="">
echo $mylink['link_id']; // prints &quot;10&quot;
</pre>
<p>and</p>
<pre class="brush: php; title: ; notranslate" title="">
$mylink = $wpdb-&gt;get_row( &quot;SELECT * FROM $wpdb-&gt;links WHERE link_id = 10&quot;, ARRAY_N );
</pre>
<p>would result in a numerically indexed array:</p>
<pre class="brush: php; title: ; notranslate" title="">
echo $mylink[1]; // prints &quot;10&quot;
</pre>
<p>If there is no record with ID 10 in the links table, <code>null</code> will be returned. The following would then be false:</p>
<pre class="brush: php; title: ; notranslate" title="">
if ( null !== $mylink ) {
  // do something with the link 
  return true;
} else {
  // no link found
  return false;
}
</pre>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h3 id="select-a-column" class="toc-heading" tabindex="-1" ><span id="SELECT_a_Column" class="mw-headline">SELECT a Column</span> <a href="#select-a-column" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="SELECT_a_Column" class="mw-headline">SELECT a Column</span></span></a></h3>
<p>To SELECT a column, use <a href="get_col/index.html"><code>get_col</code></a>. This method outputs a one dimensional array. If more than one column is returned by the query, only the specified column will be returned, but the entire result is cached for later use. Returns an empty array if no result is found.</p>
<pre class="brush: php; title: ; notranslate" title="">
get_col( 'query', column_offset ); ?&gt;</pre>
<dl>
<dt><strong><code>query</code></strong></dt>
<dd><em>(string)</em> the query you wish to execute. Setting this parameter to <code>null</code> will return the specified column from the cached results of the previous query.</dd>
<dt><strong><code>column_offset</code></strong></dt>
<dd><em>(integer)</em> The desired column (0 being the first). Defaults to 0.</dd>
</dl>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h4 id="examples-4" class="toc-heading" tabindex="-1" ><span id="Examples_3" class="mw-headline">Examples</span> <a href="#examples-4" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="Examples_3" class="mw-headline">Examples</span></span></a></h4>
<p>For this example, assume the blog is devoted to information about automobiles. Each post describes a particular car (e.g. 1969 Ford Mustang), and three Custom Fields, manufacturer, model, and year, are assigned to each post. This example will display the post titles, filtered by a particular manufacturer (Ford), and sorted by model and year.</p>
<p>The <b>get_col</b> method is used to return an array of all the post ids meeting the criteria and sorted in the correct order. Then a <code>foreach</code> construct is used to iterate through that array of post ids, displaying the title of each post. Note that the SQL for this example was created by <a class="external text" href="http://stackoverflow.com/questions/1690762/complicated-mysql-query/1690808#1690808" rel="nofollow">Andomar</a>.</p>
<section class="source-content">
<div class="source-code-container">
<pre class="brush: php; title: ; notranslate" title="">&lt;?php 
$meta_key1       = 'model';
$meta_key2       = 'year';
$meta_key3       = 'manufacturer';
$meta_key3_value = 'Ford';

$postids = $wpdb-&gt;get_col( $wpdb-&gt;prepare( 
	&quot;
		SELECT      key3.post_id
		FROM        $wpdb-&gt;postmeta key3
		INNER JOIN  $wpdb-&gt;postmeta key1 
	            ON key1.post_id = key3.post_id
	            AND key1.meta_key = %s 
		INNER JOIN  $wpdb-&gt;postmeta key2
	            ON key2.post_id = key3.post_id
	            AND key2.meta_key = %s
		WHERE       key3.meta_key = %s 
	            AND key3.meta_value = %s
		ORDER BY    key1.meta_value, key2.meta_value
	&quot;,
	$meta_key1, 
	$meta_key2, 
	$meta_key3, 
	$meta_key3_value
) ); 

if ( $postids ) {
	echo &quot;List of {$meta_key3_value}(s), sorted by {$meta_key1}, {$meta_key2}&quot;;
	foreach ( $postids as $id ) { 
		$post = get_post( intval( $id ) );
		setup_postdata( $post );
		?&gt;
		&lt;p&gt;
			&lt;a href=&quot;&lt;?php the_permalink() ?&gt;&quot; rel=&quot;bookmark&quot; title=&quot;Permanent Link to &lt;?php the_title_attribute(); ?&gt;&quot;&gt;
				&lt;?php the_title(); ?&gt;
			&lt;/a&gt;
		&lt;/p&gt;
		&lt;?php
	} 
}
?&gt;
</pre>
</div>
<p class="source-code-links"><span><a href="#" class="show-complete-source">Expand full source code</a><a href="#" class="less-complete-source">Collapse full source code</a></span></p>
</section>
<p>This example lists all posts that contain a particular custom field, but sorted by the value of a second custom field.</p>
<section class="source-content">
<div class="source-code-container">
<pre class="brush: php; title: ; notranslate" title="">&lt;?php
// List all posts with custom field Color, sorted by the value of custom field Display_Order
// does not exclude any 'post_type'
// assumes each post has just one custom field for Color, and one for Display_Order
$meta_key1 = 'Color';
$meta_key2 = 'Display_Order';

$postids = $wpdb-&gt;get_col( $wpdb-&gt;prepare( 
	&quot;
		SELECT      key1.post_id
		FROM        $wpdb-&gt;postmeta key1
		INNER JOIN  $wpdb-&gt;postmeta key2
	            ON key2.post_id = key1.post_id
	            AND key2.meta_key = %s
		WHERE       key1.meta_key = %s
		ORDER BY    key2.meta_value+(0) ASC
	&quot;,
        $meta_key2,
	$meta_key1
) ); 

if ( $postids ) {
	echo &quot;List of {$meta_key1} posts, sorted by {$meta_key2}&quot;;
	foreach ( $postids as $id ) {
		$post = get_post( intval( $id ) );
		setup_postdata( $post );
		?&gt;
		&lt;p&gt;
			&lt;a href=&quot;&lt;?php the_permalink() ?&gt;&quot; rel=&quot;bookmark&quot; title=&quot;Permanent Link to &lt;?php the_title_attribute(); ?&gt;&quot;&gt;
				&lt;?php the_title(); ?&gt;
			&lt;/a&gt;
		&lt;/p&gt;
		&lt;?php
	}
}
?&gt;
</pre>
</div>
<p class="source-code-links"><span><a href="#" class="show-complete-source">Expand full source code</a><a href="#" class="less-complete-source">Collapse full source code</a></span></p>
</section>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h3 id="select-generic-results" class="toc-heading" tabindex="-1" ><span id="SELECT_Generic_Results" class="mw-headline">SELECT Generic Results</span> <a href="#select-generic-results" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="SELECT_Generic_Results" class="mw-headline">SELECT Generic Results</span></span></a></h3>
<p>Generic, multiple row results can be pulled from the database with <a href="get_results/index.html"><code>get_results</code></a>. The method returns the entire query result as an array. Each element of this array corresponds to one row of the query result and, like <code>get_row</code>, can be an object, an associative array, or a numbered array. If no matching rows are found, or if there is a database error, the return value will be an empty array. If your <code>$query</code> string is empty, or you pass an invalid <code>$output_type</code>, <code>NULL</code> will be returned.</p>
<pre class="brush: php; title: ; notranslate" title="">
get_results( 'query', output_type );
</pre>
<dl>
<dt><strong><code>query</code></strong></dt>
<dd><em>(string)</em> The query you wish to run.</dd>
<dt><strong><code>output_type</code></strong></dt>
<dd>One of four pre-defined constants. Defaults to <code>OBJECT</code>. See <a href="../../../../codex.wordpress.org/Class_Reference/wpdb.html#SELECT_a_Row">SELECT a Row</a> and its examples for more information.</p>
<ul>
<li><strong><code>OBJECT</code></strong> &#8211; result will be output as a numerically indexed array of row objects.</li>
<li><strong><code>OBJECT_K</code></strong> &#8211; result will be output as an associative array of row objects, using first column&#8217;s values as keys (duplicates will be discarded).</li>
<li><strong><code>ARRAY_A</code></strong> &#8211; result will be output as a numerically indexed array of associative arrays, using column names as keys.</li>
<li><strong><code>ARRAY_N</code></strong> &#8211; result will be output as a numerically indexed array of numerically indexed arrays.</li>
</ul>
</dd>
</dl>
<p>Since this method uses the <code>$wpdb-&gt;query()</code> method, all the class variables are properly set. The results count for a &#8216;SELECT&#8217; query will be stored in <code>$wpdb-&gt;num_rows</code>.</p>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h4 id="examples-5" class="toc-heading" tabindex="-1" ><span id="Examples_4" class="mw-headline">Examples</span> <a href="#examples-5" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="Examples_4" class="mw-headline">Examples</span></span></a></h4>
<p>Get the IDs and Titles of all the Drafts by User 5 and echo the Titles.</p>
<pre class="brush: php; title: ; notranslate" title="">$fivesdrafts = $wpdb-&gt;get_results( 
	&quot;
		SELECT ID, post_title 
		FROM $wpdb-&gt;posts
		WHERE post_status = 'draft' 
		AND post_author = 5
	&quot;
);

foreach ( $fivesdrafts as $fivesdraft ) {
	echo $fivesdraft-&gt;post_title;
}
</pre>
<p>Get all information on the Drafts by User 5.</p>
<section class="source-content">
<div class="source-code-container">
<pre class="brush: php; title: ; notranslate" title="">&lt;?php
$fivesdrafts = $wpdb-&gt;get_results( 
	&quot;
		SELECT * 
		FROM $wpdb-&gt;posts
		WHERE post_status = 'draft' 
		AND post_author = 5
	&quot;
);

if ( $fivesdrafts ) {
	foreach ( $fivesdrafts as $post ) {
		setup_postdata( $post );
		?&gt;
		&lt;h2&gt;
			&lt;a href=&quot;&lt;?php the_permalink(); ?&gt;&quot; rel=&quot;bookmark&quot; title=&quot;Permalink: &lt;?php the_title(); ?&gt;&quot;&gt;
				&lt;?php the_title(); ?&gt;
			&lt;/a&gt;
		&lt;/h2&gt;
		&lt;?php
	}	
} else {
	?&gt;
	&lt;h2&gt;Not Found&lt;/h2&gt;
	&lt;?php
}
?&gt;
</pre>
</div>
<p class="source-code-links"><span><a href="#" class="show-complete-source">Expand full source code</a><a href="#" class="less-complete-source">Collapse full source code</a></span></p>
</section>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h3 id="insert-row" class="toc-heading" tabindex="-1" ><span id="INSERT_row" class="mw-headline">INSERT row</span> <a href="#insert-row" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="INSERT_row" class="mw-headline">INSERT row</span></span></a></h3>
<p>The <a href="insert/index.html"><code>insert</code></a> method is used to insert a row into a table.</p>
<pre class="brush: php; title: ; notranslate" title="">
insert( $table, $data, $format );
</pre>
<dl>
<dt><strong><code>$table</code></strong></dt>
<dd><em>(string)</em> The name of the table to insert data into.</dd>
<dt><strong><code>$data</code></strong></dt>
<dd><em>(array)</em> Data to insert (in column =&gt; value pairs). Both <code>$data</code> columns and <code>$data</code> values should be &#8220;raw&#8221; (neither should be SQL escaped).</dd>
<dt><strong><code>$format</code></strong></dt>
<dd><em>(array|string)</em> <em>(optional)</em> An array of formats to be mapped to each of the values in <code>$data</code>. If string, that format will be used for all of the values in <code>$data</code>. If omitted, all values in <code>$data</code> will be treated as strings unless otherwise specified in <code>wpdb::$field_types</code>.</dd>
</dl>
<p>Possible format values: <code>%s</code> as string; <code>%d</code> as integer (whole number); and <code>%f</code> as float. (See <a href="../../../../codex.wordpress.org/Class_Reference/wpdb.html#Placeholders">below</a> for more information.)</p>
<p><strong>Note:</strong> After insert, the ID generated for the <code>AUTO_INCREMENT</code> column can be accessed with:</p>
<pre class="brush: php; title: ; notranslate" title="">$wpdb-&gt;insert_id</pre>
<p>This method returns <code>false</code> if the row could not be inserted. Otherwise, it returns the number of affected rows (which will always be 1).</p>
<p><b>Please note</b>: The value portion of the data parameter&#8217;s column=&gt;value pairs must be scalar. If you pass an array (or object) as a value to be inserted you will generate a warning.</p>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h4 id="examples-6" class="toc-heading" tabindex="-1" ><span id="Examples_5" class="mw-headline">Examples</span> <a href="#examples-6" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="Examples_5" class="mw-headline">Examples</span></span></a></h4>
<p>Insert two columns in a row, the first value being a string and the second a number:</p>
<pre class="brush: php; title: ; notranslate" title="">$wpdb-&gt;insert( 
	'table', 
	array( 
		'column1' =&gt; 'value1', 
		'column2' =&gt; 123, 
	), 
	array( 
		'%s', 
		'%d', 
	) 
);
</pre>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h3 id="replace-row" class="toc-heading" tabindex="-1" ><span id="REPLACE_row" class="mw-headline">REPLACE row</span> <a href="#replace-row" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="REPLACE_row" class="mw-headline">REPLACE row</span></span></a></h3>
<p>The <a href="replace/index.html"><code>replace</code></a> method replaces a row in a table if it exists or inserts a new row in a table if the row did not already exist.</p>
<pre class="brush: php; title: ; notranslate" title="">
replace( $table, $data, $format );
</pre>
<dl>
<dt><strong><code>$table</code></strong></dt>
<dd><em>(string)</em> The name of the table to replace data in.</dd>
<dt><strong><code>$data</code></strong></dt>
<dd><em>(array)</em> Data to replace (in column =&gt; value pairs). Both <code>$data</code> columns and <code>$data</code> values should be &#8220;raw&#8221; (neither should be SQL escaped).</dd>
<dt><strong><code>$format</code></strong></dt>
<dd><em>(array|string)</em> <em>(optional)</em> An array of formats to be mapped to each of the value in <code>$data</code>. If string, that format will be used for all of the values in <code>$data</code>. If omitted, all values in <code>$data</code> will be treated as strings unless otherwise specified in <code>wpdb::$field_types</code>. Possible format values: <code>%s</code> as string; <code>%d</code> as integer (whole number); and <code>%f</code> as float. (See <a style="background-color: #ffffff" href="../../../../codex.wordpress.org/Class_Reference/wpdb.html#Placeholders">below</a> for more information.)</dd>
</dl>
<p>If the length of a string element in the <code>$data</code> array parameter is longer that the defined length in the MySql database table, the insert will fail, this method will return <code>false</code>, but $<a href="index.html">wpdb</a>-&gt;last_error will not be set to a descriptive message. You must ensure the data you wish to insert will fit in the database &#8211; do not assume the MySql will truncate the data.</p>
<p>After replace, the ID generated for the <code>AUTO_INCREMENT</code> column can be accessed with:</p>
<pre class="brush: php; title: ; notranslate" title="">$wpdb-&gt;insert_id</pre>
<p>This method returns a count to indicate the number of rows affected. This is the sum of the rows deleted and inserted. If the count is 1 for a single-row REPLACE, a row was inserted and no rows were deleted. If the count is greater than 1, one or more old rows were deleted before the new row was inserted. It is possible for a single row to replace more than one old row if the table contains multiple unique indexes and the new row duplicates values for different old rows in different unique indexes.</p>
<p>This method returns <code>false</code> if an existing row could not be replaced and a new row could not be inserted.</p>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h4 id="examples-7" class="toc-heading" tabindex="-1" ><span id="Examples_6" class="mw-headline">Examples</span> <a href="#examples-7" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="Examples_6" class="mw-headline">Examples</span></span></a></h4>
<p>Replace a row, the first value being the row id, the second a string and the third a number:</p>
<pre class="brush: php; title: ; notranslate" title="">$wpdb-&gt;replace( 
	'table', 
	array( 
                'indexed_id' =&gt; 1,
		'column1' =&gt; 'value1', 
		'column2' =&gt; 123, 
	), 
	array( 
                '%d',
		'%s', 
		'%d', 
	) 
);
</pre>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h3 id="update-rows" class="toc-heading" tabindex="-1" ><span id="UPDATE_rows" class="mw-headline">UPDATE rows</span> <a href="#update-rows" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="UPDATE_rows" class="mw-headline">UPDATE rows</span></span></a></h3>
<p>Update a row in the table. Returns <code>false</code> if errors, or the number of rows affected if successful. (<a href="update/index.html"><code>wpdb::update</code></a>)</p>
<pre class="brush: php; title: ; notranslate" title="">
update( $table, $data, $where, $format = null, $where_format = null );
</pre>
<dl>
<dt><strong><code>$table</code></strong></dt>
<dd><em>(string)</em> The name of the table to update.</dd>
<dt><strong><code>$data</code></strong></dt>
<dd><em>(array)</em> Data to update (in <code>column =&gt; value</code> pairs). Both <code>$data</code> columns and <code>$data</code> values should be &#8220;raw&#8221; (neither should be SQL escaped). This means that if you are using <code>GET</code> or <code>POST</code> data you may need to use <code>stripslashes()</code> to avoid slashes ending up in the database.</dd>
<dt><strong><code>$where</code></strong></dt>
<dd><em>(array)</em> A named array of <code>WHERE</code> clauses (in <code>column =&gt; value</code> pairs). Multiple clauses will be joined with <code>AND</code>s. Both <code>$where</code> columns and <code>$where</code> values should be &#8220;raw&#8221;.</dd>
<dt><strong><code>$format</code></strong></dt>
<dd><em>(array|string)</em> <em>(optional)</em> An array of formats to be mapped to each of the values in <code>$data</code>. If string, that format will be used for all of the values in <code>$data</code>.</dd>
<dt><strong><code>$where_format</code></strong></dt>
<dd><em>(array|string)</em> <em>(optional)</em> An array of formats to be mapped to each of the values in <code>$where</code>. If string, that format will be used for all of the items in <code>$where</code>. Possible format values: <code>%s</code> as string; <code>%d</code> as integer (whole number) and <code>%f</code> as float. (See <a style="background-color: #ffffff" href="../../../../codex.wordpress.org/Class_Reference/wpdb.html#Placeholders">below</a> for more information.) If omitted, all values in <code>$where</code> will be treated as strings.</dd>
</dl>
<p>This method returns the number of rows updated, or <code>false</code> if there is an error. Keep in mind that if the <code>$data</code> matches what is already in the database, no rows will be updated, so <code>0</code> will be returned. Because of this, you should probably check the return with <code>false === $result</code></p>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h4 id="examples-8" class="toc-heading" tabindex="-1" ><span id="Examples_7" class="mw-headline">Examples</span> <a href="#examples-8" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="Examples_7" class="mw-headline">Examples</span></span></a></h4>
<p>Update a row, where the ID is 1, the value in the first column is a string and the value in the second column is a number:</p>
<pre class="brush: php; title: ; notranslate" title="">$wpdb-&gt;update( 
	'table', 
	array( 
		'column1' =&gt; 'value1',	// string
		'column2' =&gt; 'value2'	// integer (number) 
	), 
	array( 'ID' =&gt; 1 ), 
	array( 
		'%s',	// value1
		'%d'	// value2
	), 
	array( '%d' ) 
);
</pre>
<p><strong>Attention:</strong> <code>%d</code> can&#8217;t deal with comma values &#8211; if you&#8217;re <em>not</em> using full numbers, use string/<code>%s</code>.</p>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h3 id="delete-rows" class="toc-heading" tabindex="-1" ><span id="DELETE_Rows" class="mw-headline">DELETE Rows</span> <a href="#delete-rows" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="DELETE_Rows" class="mw-headline">DELETE Rows</span></span></a></h3>
<p>The <a href="delete/index.html"><code>delete</code></a> method is used to delete rows from a table. The usage is very similar to <code>update</code> and <code>insert</code>. It returns the number of rows updated, or <code>false</code> on error.</p>
<pre class="brush: php; title: ; notranslate" title="">
delete( $table, $where, $where_format = null );
</pre>
<dl>
<dt><strong><code>$table</code></strong></dt>
<dd>(<i>string</i>) (<i>required</i>) Table name.Default: <i>None</i></dd>
<dt><strong><code>$where</code></strong></dt>
<dd>(<i>array</i>) (<i>required</i>) A named array of <code>WHERE</code> clauses (in column -&gt; value pairs). Multiple clauses will be joined with <code>AND</code>s. Both <code>$where</code> columns and <code>$where</code> values should be &#8216;raw&#8217;. Default: <i>None</i></dd>
<dt><strong><code>$where_format</code></strong></dt>
<dd>(<i>string/array</i>) (<i>optional</i>) An array of formats to be mapped to each of the values in <code>$where</code>. If a string, that format will be used for all of the items in <code>$where</code>. A format is one of <code>'%d'</code>, <code>'%f'</code>, <code>'%s'</code> (integer, float, string; see <a href="../../../../codex.wordpress.org/Class_Reference/wpdb.html#Placeholders">below</a> for more information). If omitted, all values in <code>$where</code> will be treated as strings unless otherwise specified in <code>wpdb::$field_types</code>. Default: <code>null</code></dd>
</dl>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h4 id="examples-9" class="toc-heading" tabindex="-1" ><span id="Examples_8" class="mw-headline">Examples</span> <a href="#examples-9" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="Examples_8" class="mw-headline">Examples</span></span></a></h4>
<pre class="brush: php; title: ; notranslate" title="">// Default usage.
$wpdb-&gt;delete( 'table', array( 'ID' =&gt; 1 ) );

// Using where formatting.
$wpdb-&gt;delete( 'table', array( 'ID' =&gt; 1 ), array( '%d' ) );
</pre>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h3 id="running-general-queries" class="toc-heading" tabindex="-1" ><span id="Running_General_Queries" class="mw-headline">Running General Queries</span> <a href="#running-general-queries" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="Running_General_Queries" class="mw-headline">Running General Queries</span></span></a></h3>
<p>The <code>query</code> method allows you to execute any SQL query on the WordPress database. It is best used when there is a need for specific, custom, or otherwise complex SQL queries. For more basic queries, such as selecting information from a table, see the other <code>wpdb</code> methods above such as <code>get_results, get_var, get_row or get_col</code>.</p>
<pre class="brush: php; title: ; notranslate" title="">
query('query');
</pre>
<dl>
<dt><strong><code>query</code></strong></dt>
<dd><em>(string)</em> The SQL query you wish to execute.</dd>
</dl>
<p>This method returns an integer value indicating the number of rows affected/selected for SELECT, INSERT, DELETE, UPDATE, etc. For CREATE, ALTER, TRUNCATE and DROP SQL statements, (which affect whole tables instead of specific rows) this method returns <code>TRUE</code> on success. If a MySQL error is encountered, the method will return <code>FALSE</code>. Note that since both 0 and <code>FALSE</code> may be returned for row queries, you should be careful when checking the return value. Use the identity operator (<code>===</code>) to check for errors (e.g., <code>false === $result</code>), and whether any rows were affected (e.g., <code>0 === $result</code>).</p>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h4 id="examples-10" class="toc-heading" tabindex="-1" ><span id="Examples_9" class="mw-headline">Examples</span> <a href="#examples-10" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="Examples_9" class="mw-headline">Examples</span></span></a></h4>
<p>Delete the &#8216;gargle&#8217; meta key and value from Post 13. (We&#8217;ll add the &#8216;prepare&#8217; method to make sure we&#8217;re not dealing with an illegal operation or any illegal characters):</p>
<pre class="brush: php; title: ; notranslate" title="">$wpdb-&gt;query( 
	$wpdb-&gt;prepare( 
		&quot;
                	DELETE FROM $wpdb-&gt;postmeta
			WHERE post_id = %d
			AND meta_key = %s
		&quot;,
	        13, 'gargle' 
        )
);

</pre>
<p>Set the parent of Page 15 to Page 7.</p>
<pre class="brush: php; title: ; notranslate" title="">$wpdb-&gt;query( $wpdb-&gt;prepare( 
	&quot;
		UPDATE $wpdb-&gt;posts 
		SET post_parent = %d
		WHERE ID = %d
		AND post_status = %s
	&quot;,
        7, 15, 'static'
) );</pre>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 id="show-and-hide-sql-errors" class="toc-heading" tabindex="-1" ><span id="Show_and_Hide_SQL_Errors" class="mw-headline">Show and Hide SQL Errors</span> <a href="#show-and-hide-sql-errors" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="Show_and_Hide_SQL_Errors" class="mw-headline">Show and Hide SQL Errors</span></span></a></h2>
<p>You can turn error echoing on and off with the show_errors and hide_errors, respectively.</p>
<pre class="brush: php; title: ; notranslate" title="">&lt;?php $wpdb-&gt;show_errors(); ?&gt; 
&lt;?php $wpdb-&gt;hide_errors(); ?&gt;</pre>
<p>You can also print the error (if any) generated by the most recent query with print_error.</p>
<pre class="brush: php; title: ; notranslate" title="">&lt;?php $wpdb-&gt;print_error(); ?&gt;</pre>
<p>Note: If you are running WordPress Multisite, you must define the DIEONDBERROR constant for database errors to display like so:</p>
<pre class="brush: php; title: ; notranslate" title="">&lt;?php define( 'DIEONDBERROR', true ); ?&gt;</pre>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 id="getting-column-information" class="toc-heading" tabindex="-1" ><span id="Getting_Column_Information" class="mw-headline">Getting Column Information</span> <a href="#getting-column-information" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text"><span id="Getting_Column_Information" class="mw-headline">Getting Column Information</span></span></a></h2>
<p>You can retrieve information about the columns of the most recent query result with get_col_info. This can be useful when a function has returned an OBJECT whose properties you don&#8217;t know. The function will output the desired information from the specified column, or an array with information on all columns from the query result if no column is specified.</p>
<pre class="brush: php; title: ; notranslate" title="">&lt;?php $wpdb-&gt;get_col_info('type', offset); ?&gt;</pre>
<p><strong>type</strong><br />
(string) What information you wish to retrieve. May take on any of the following values (list taken from the ezSQL docs). Defaults to name.</p>
<ul>
<li>name &#8211; column name. Default.</li>
<li>table &#8211; name of the table the column belongs to</li>
<li>max_length &#8211; maximum length of the column</li>
<li>not_null &#8211; 1 if the column cannot be NULL</li>
<li>primary_key &#8211; 1 if the column is a primary key</li>
<li>unique_key &#8211; 1 if the column is a unique key</li>
<li>multiple_key &#8211; 1 if the column is a non-unique key</li>
<li>numeric &#8211; 1 if the column is numeric</li>
<li>blob &#8211; 1 if the column is a BLOB</li>
<li>type &#8211; the type of the column</li>
<li>unsigned &#8211; 1 if the column is unsigned</li>
<li>zerofill &#8211; 1 if the column is zero-filled</li>
</ul>
<p><strong>offset</strong><br />
(integer) Specify the column from which to retrieve information (with 0 being the first column). Defaults to -1.</p>
<ul>
<li>-1 &#8211; Retrieve information from all columns. Output as array. Default.</li>
<li>Non-negative integer &#8211; Retrieve information from specified column (0 being the first).</li>
</ul>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 id="clearing-the-cache" class="toc-heading" tabindex="-1" >Clearing the Cache <a href="#clearing-the-cache" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Clearing the Cache</span></a></h2>
<p>You can clear the SQL result cache with flush.</p>
<pre class="brush: php; title: ; notranslate" title="">&lt;?php $wpdb-&gt;flush(); ?&gt;</pre>
<p>This clears $<a href="index.html">wpdb</a>-&gt;last_result, $<a href="index.html">wpdb</a>-&gt;last_query, and $<a href="index.html">wpdb</a>-&gt;col_info.</p>
<hr />
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 id="tables" class="toc-heading" tabindex="-1" >Tables <a href="#tables" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Tables</span></a></h2>
<p>The tables that WordPress creates by default can be found <a href="../../../../codex.wordpress.org/Database_Description.html">here</a>.</p>
<hr />
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 id="properties" class="toc-heading" tabindex="-1" >Properties <a href="#properties" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Properties</span></a></h2>
<ul>
<li>$base_prefix  The original prefix as defined in wp-config.php. For multi-site: Use if you want to get the prefix without the blog number appended.</li>
<li>$col_info  The column information for the most recent query results. See Getting Column Information.</li>
<li>$insert_id  ID generated for an AUTO_INCREMENT column by the most recent INSERT query.</li>
<li>$last_error  The most recent error text generated by MySQL.</li>
<li>$last_query  The most recent query to have been executed.</li>
<li>$last_result  The most recent query results.</li>
<li>$num_queries  The number of queries that have been executed.</li>
<li>$num_rows  The number of rows returned by the last query.</li>
<li>$prefix  The assigned WordPress table prefix for the site.</li>
<li>$queries  You may save all of the queries run on the database and their stop times by setting the SAVEQUERIES constant to TRUE (this constant defaults to FALSE). If SAVEQUERIES is TRUE, your queries will be stored in this variable as an array.</li>
<li>$show_errors  Whether or not Error echoing is turned on. Defaults to TRUE.</li>
</ul>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h4 id="multi-site-variables" class="toc-heading" tabindex="-1" >Multi-Site Variables <a href="#multi-site-variables" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Multi-Site Variables</span></a></h4>
<p>If you are using Multi-Site, you also have access to the following:</p>
<ul>
<li>$blogid  The id of the current site (blog).</li>
<li>$siteid  The id of the current network (formerly &#8220;site&#8221;). WordPress currently only supports one network per multi-site install, but that could change in future. See the following for more information: WordPress: difference between site_id and blog_id?<br />
http://stackoverflow.com/a/4189358/1924128 &#8211; Another good answer to the same question.</li>
</ul>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h4 id="tables-2" class="toc-heading" tabindex="-1" >Tables <a href="#tables-2" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Tables</span></a></h4>
<p>The <a href="../../../../codex.wordpress.org/Database_Description.html">WordPress database tables</a> are easily referenced in the <em><a href="index.html">wpdb</a></em> class.</p>
<ul>
<li>$comments  The Comments table.</li>
<li>$commentmeta  The table contains additional comment information.</li>
<li>$links  The table of Links.</li>
<li>$options  The Options table.</li>
<li>$posts  The table of Posts.</li>
<li>$postmeta  The Meta Content (a.k.a. Custom Fields) table.</li>
<li>$term_taxonomy  The term_taxonomy table describes the various taxonomies (classes of terms). Categories, Link Categories, and Tags are taxonomies.</li>
<li>$term_relationships  The term relationships table contains link between the term and the object that uses that term, meaning this file point to each Category used for each Post.</li>
<li>$termmeta  The termmeta table contains the term meta values.</li>
<li>$terms  The terms table contains the &#8216;description&#8217; of Categories, Link Categories, Tags.</li>
<li>$users  The table of Users.</li>
<li>$usermeta  The usermeta table contains additional user information, such as nicknames, descriptions and permissions.</li>
</ul>
<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h4 id="multisite-tables" class="toc-heading" tabindex="-1" >Multisite Tables <a href="#multisite-tables" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Multisite Tables</span></a></h4>
<p>These tables are used only in multisite installations.</p>
<ul>
<li>$blogs  The Blogs table contains a list of the separate blogs (sites) that have been set up within the network(s).</li>
<li>$blog_versions  The Blog Versions table.</li>
<li>$blogmeta  The Blogmeta table is used to store data associated with a particulate blog in multisite context. See more info in this blog post.</li>
<li>$registration_log  The Registration Log table.</li>
<li>$signups  The Signups table.</li>
<li>$site  The Site table contains a list of the networks (previously known as &#8220;sites&#8221; in WPMU) that are set up in the installation (usually there is only one site listed in this table).</li>
<li>$sitecategories  The Site Categories table.</li>
<li>$sitemeta  The Network Options (Site Meta) table contains any options that are applicable to the entire multisite installation.</li>
</ul>
<p>For more information about the tables WordPress creates and uses, look <a href="../../../../codex.wordpress.org/Database_Description.html">here</a>.</p>
	</section>
	<hr />
	<section class="source-content">
		<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 id="source" class="toc-heading" tabindex="-1" >Source <a href="#source" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Source</span></a></h2>
		<p>
			File: <a href="../../files/wp-includes/wp-db.php/index.html">wp-includes/wp-db.php</a>		</p>

					<div class="source-code-container">
				<pre class="brush: php; toolbar: false; first-line: 54">class wpdb {

	/**
	 * Whether to show SQL/DB errors.
	 *
	 * Default is to show errors if both WP_DEBUG and WP_DEBUG_DISPLAY evaluate to true.
	 *
	 * @since 0.71
	 *
	 * @var bool
	 */
	public $show_errors = false;

	/**
	 * Whether to suppress errors during the DB bootstrapping. Default false.
	 *
	 * @since 2.5.0
	 *
	 * @var bool
	 */
	public $suppress_errors = false;

	/**
	 * The error encountered during the last query.
	 *
	 * @since 2.5.0
	 *
	 * @var string
	 */
	public $last_error = '';

	/**
	 * The number of queries made.
	 *
	 * @since 1.2.0
	 *
	 * @var int
	 */
	public $num_queries = 0;

	/**
	 * Count of rows returned by the last query.
	 *
	 * @since 0.71
	 *
	 * @var int
	 */
	public $num_rows = 0;

	/**
	 * Count of rows affected by the last query.
	 *
	 * @since 0.71
	 *
	 * @var int
	 */
	public $rows_affected = 0;

	/**
	 * The ID generated for an AUTO_INCREMENT column by the last query (usually INSERT).
	 *
	 * @since 0.71
	 *
	 * @var int
	 */
	public $insert_id = 0;

	/**
	 * The last query made.
	 *
	 * @since 0.71
	 *
	 * @var string
	 */
	public $last_query;

	/**
	 * Results of the last query.
	 *
	 * @since 0.71
	 *
	 * @var stdClass[]|null
	 */
	public $last_result;

	/**
	 * Database query result.
	 *
	 * Possible values:
	 *
	 * - For successful SELECT, SHOW, DESCRIBE, or EXPLAIN queries:
	 *   - `mysqli_result` instance when the `mysqli` driver is in use
	 *   - `resource` when the older `mysql` driver is in use
	 * - `true` for other query types that were successful
	 * - `null` if a query is yet to be made or if the result has since been flushed
	 * - `false` if the query returned an error
	 *
	 * @since 0.71
	 *
	 * @var mysqli_result|resource|bool|null
	 */
	protected $result;

	/**
	 * Cached column info, for sanity checking data before inserting.
	 *
	 * @since 4.2.0
	 *
	 * @var array
	 */
	protected $col_meta = array();

	/**
	 * Calculated character sets keyed by table name.
	 *
	 * @since 4.2.0
	 *
	 * @var string[]
	 */
	protected $table_charset = array();

	/**
	 * Whether text fields in the current query need to be sanity checked.
	 *
	 * @since 4.2.0
	 *
	 * @var bool
	 */
	protected $check_current_query = true;

	/**
	 * Flag to ensure we don't run into recursion problems when checking the collation.
	 *
	 * @since 4.2.0
	 *
	 * @see wpdb::check_safe_collation()
	 * @var bool
	 */
	private $checking_collation = false;

	/**
	 * Saved info on the table column.
	 *
	 * @since 0.71
	 *
	 * @var array
	 */
	protected $col_info;

	/**
	 * Log of queries that were executed, for debugging purposes.
	 *
	 * @since 1.5.0
	 * @since 2.5.0 The third element in each query log was added to record the calling functions.
	 * @since 5.1.0 The fourth element in each query log was added to record the start time.
	 * @since 5.3.0 The fifth element in each query log was added to record custom data.
	 *
	 * @var array[] {
	 *     Array of arrays containing information about queries that were executed.
	 *
	 *     @type array ...$0 {
	 *         Data for each query.
	 *
	 *         @type string $0 The query's SQL.
	 *         @type float  $1 Total time spent on the query, in seconds.
	 *         @type string $2 Comma-separated list of the calling functions.
	 *         @type float  $3 Unix timestamp of the time at the start of the query.
	 *         @type array  $4 Custom query data.
	 *     }
	 * }
	 */
	public $queries;

	/**
	 * The number of times to retry reconnecting before dying. Default 5.
	 *
	 * @since 3.9.0
	 *
	 * @see wpdb::check_connection()
	 * @var int
	 */
	protected $reconnect_retries = 5;

	/**
	 * WordPress table prefix.
	 *
	 * You can set this to have multiple WordPress installations in a single database.
	 * The second reason is for possible security precautions.
	 *
	 * @since 2.5.0
	 *
	 * @var string
	 */
	public $prefix = '';

	/**
	 * WordPress base table prefix.
	 *
	 * @since 3.0.0
	 *
	 * @var string
	 */
	public $base_prefix;

	/**
	 * Whether the database queries are ready to start executing.
	 *
	 * @since 2.3.2
	 *
	 * @var bool
	 */
	public $ready = false;

	/**
	 * Blog ID.
	 *
	 * @since 3.0.0
	 *
	 * @var int
	 */
	public $blogid = 0;

	/**
	 * Site ID.
	 *
	 * @since 3.0.0
	 *
	 * @var int
	 */
	public $siteid = 0;

	/**
	 * List of WordPress per-site tables.
	 *
	 * @since 2.5.0
	 *
	 * @see wpdb::tables()
	 * @var string[]
	 */
	public $tables = array(
		'posts',
		'comments',
		'links',
		'options',
		'postmeta',
		'terms',
		'term_taxonomy',
		'term_relationships',
		'termmeta',
		'commentmeta',
	);

	/**
	 * List of deprecated WordPress tables.
	 *
	 * 'categories', 'post2cat', and 'link2cat' were deprecated in 2.3.0, db version 5539.
	 *
	 * @since 2.9.0
	 *
	 * @see wpdb::tables()
	 * @var string[]
	 */
	public $old_tables = array( 'categories', 'post2cat', 'link2cat' );

	/**
	 * List of WordPress global tables.
	 *
	 * @since 3.0.0
	 *
	 * @see wpdb::tables()
	 * @var string[]
	 */
	public $global_tables = array( 'users', 'usermeta' );

	/**
	 * List of Multisite global tables.
	 *
	 * @since 3.0.0
	 *
	 * @see wpdb::tables()
	 * @var string[]
	 */
	public $ms_global_tables = array(
		'blogs',
		'blogmeta',
		'signups',
		'site',
		'sitemeta',
		'sitecategories',
		'registration_log',
	);

	/**
	 * WordPress Comments table.
	 *
	 * @since 1.5.0
	 *
	 * @var string
	 */
	public $comments;

	/**
	 * WordPress Comment Metadata table.
	 *
	 * @since 2.9.0
	 *
	 * @var string
	 */
	public $commentmeta;

	/**
	 * WordPress Links table.
	 *
	 * @since 1.5.0
	 *
	 * @var string
	 */
	public $links;

	/**
	 * WordPress Options table.
	 *
	 * @since 1.5.0
	 *
	 * @var string
	 */
	public $options;

	/**
	 * WordPress Post Metadata table.
	 *
	 * @since 1.5.0
	 *
	 * @var string
	 */
	public $postmeta;

	/**
	 * WordPress Posts table.
	 *
	 * @since 1.5.0
	 *
	 * @var string
	 */
	public $posts;

	/**
	 * WordPress Terms table.
	 *
	 * @since 2.3.0
	 *
	 * @var string
	 */
	public $terms;

	/**
	 * WordPress Term Relationships table.
	 *
	 * @since 2.3.0
	 *
	 * @var string
	 */
	public $term_relationships;

	/**
	 * WordPress Term Taxonomy table.
	 *
	 * @since 2.3.0
	 *
	 * @var string
	 */
	public $term_taxonomy;

	/**
	 * WordPress Term Meta table.
	 *
	 * @since 4.4.0
	 *
	 * @var string
	 */
	public $termmeta;

	//
	// Global and Multisite tables
	//

	/**
	 * WordPress User Metadata table.
	 *
	 * @since 2.3.0
	 *
	 * @var string
	 */
	public $usermeta;

	/**
	 * WordPress Users table.
	 *
	 * @since 1.5.0
	 *
	 * @var string
	 */
	public $users;

	/**
	 * Multisite Blogs table.
	 *
	 * @since 3.0.0
	 *
	 * @var string
	 */
	public $blogs;

	/**
	 * Multisite Blog Metadata table.
	 *
	 * @since 5.1.0
	 *
	 * @var string
	 */
	public $blogmeta;

	/**
	 * Multisite Registration Log table.
	 *
	 * @since 3.0.0
	 *
	 * @var string
	 */
	public $registration_log;

	/**
	 * Multisite Signups table.
	 *
	 * @since 3.0.0
	 *
	 * @var string
	 */
	public $signups;

	/**
	 * Multisite Sites table.
	 *
	 * @since 3.0.0
	 *
	 * @var string
	 */
	public $site;

	/**
	 * Multisite Sitewide Terms table.
	 *
	 * @since 3.0.0
	 *
	 * @var string
	 */
	public $sitecategories;

	/**
	 * Multisite Site Metadata table.
	 *
	 * @since 3.0.0
	 *
	 * @var string
	 */
	public $sitemeta;

	/**
	 * Format specifiers for DB columns.
	 *
	 * Columns not listed here default to %s. Initialized during WP load.
	 * Keys are column names, values are format types: 'ID' =&gt; '%d'.
	 *
	 * @since 2.8.0
	 *
	 * @see wpdb::prepare()
	 * @see wpdb::insert()
	 * @see wpdb::update()
	 * @see wpdb::delete()
	 * @see wp_set_wpdb_vars()
	 * @var array
	 */
	public $field_types = array();

	/**
	 * Database table columns charset.
	 *
	 * @since 2.2.0
	 *
	 * @var string
	 */
	public $charset;

	/**
	 * Database table columns collate.
	 *
	 * @since 2.2.0
	 *
	 * @var string
	 */
	public $collate;

	/**
	 * Database Username.
	 *
	 * @since 2.9.0
	 *
	 * @var string
	 */
	protected $dbuser;

	/**
	 * Database Password.
	 *
	 * @since 3.1.0
	 *
	 * @var string
	 */
	protected $dbpassword;

	/**
	 * Database Name.
	 *
	 * @since 3.1.0
	 *
	 * @var string
	 */
	protected $dbname;

	/**
	 * Database Host.
	 *
	 * @since 3.1.0
	 *
	 * @var string
	 */
	protected $dbhost;

	/**
	 * Database handle.
	 *
	 * Possible values:
	 *
	 * - `mysqli` instance when the `mysqli` driver is in use
	 * - `resource` when the older `mysql` driver is in use
	 * - `null` if the connection is yet to be made or has been closed
	 * - `false` if the connection has failed
	 *
	 * @since 0.71
	 *
	 * @var mysqli|resource|false|null
	 */
	protected $dbh;

	/**
	 * A textual description of the last query/get_row/get_var call.
	 *
	 * @since 3.0.0
	 *
	 * @var string
	 */
	public $func_call;

	/**
	 * Whether MySQL is used as the database engine.
	 *
	 * Set in wpdb::db_connect() to true, by default. This is used when checking
	 * against the required MySQL version for WordPress. Normally, a replacement
	 * database drop-in (db.php) will skip these checks, but setting this to true
	 * will force the checks to occur.
	 *
	 * @since 3.3.0
	 *
	 * @var bool
	 */
	public $is_mysql = null;

	/**
	 * A list of incompatible SQL modes.
	 *
	 * @since 3.9.0
	 *
	 * @var string[]
	 */
	protected $incompatible_modes = array(
		'NO_ZERO_DATE',
		'ONLY_FULL_GROUP_BY',
		'STRICT_TRANS_TABLES',
		'STRICT_ALL_TABLES',
		'TRADITIONAL',
		'ANSI',
	);

	/**
	 * Whether to use mysqli over mysql. Default false.
	 *
	 * @since 3.9.0
	 *
	 * @var bool
	 */
	private $use_mysqli = false;

	/**
	 * Whether we've managed to successfully connect at some point.
	 *
	 * @since 3.9.0
	 *
	 * @var bool
	 */
	private $has_connected = false;

	/**
	 * Time when the last query was performed.
	 *
	 * Only set when `SAVEQUERIES` is defined and truthy.
	 *
	 * @since 1.5.0
	 *
	 * @var float
	 */
	public $time_start = null;

	/**
	 * The last SQL error that was encountered.
	 *
	 * @since 2.5.0
	 *
	 * @var WP_Error|string
	 */
	public $error = null;

	/**
	 * Connects to the database server and selects a database.
	 *
	 * Does the actual setting up
	 * of the class properties and connection to the database.
	 *
	 * @since 2.0.8
	 *
	 * @link https://core.trac.wordpress.org/ticket/3354
	 *
	 * @param string $dbuser     Database user.
	 * @param string $dbpassword Database password.
	 * @param string $dbname     Database name.
	 * @param string $dbhost     Database host.
	 */
	public function __construct( $dbuser, $dbpassword, $dbname, $dbhost ) {
		if ( WP_DEBUG &amp;&amp; WP_DEBUG_DISPLAY ) {
			$this-&gt;show_errors();
		}

		// Use the `mysqli` extension if it exists unless `WP_USE_EXT_MYSQL` is defined as true.
		if ( function_exists( 'mysqli_connect' ) ) {
			$this-&gt;use_mysqli = true;

			if ( defined( 'WP_USE_EXT_MYSQL' ) ) {
				$this-&gt;use_mysqli = ! WP_USE_EXT_MYSQL;
			}
		}

		$this-&gt;dbuser     = $dbuser;
		$this-&gt;dbpassword = $dbpassword;
		$this-&gt;dbname     = $dbname;
		$this-&gt;dbhost     = $dbhost;

		// wp-config.php creation will manually connect when ready.
		if ( defined( 'WP_SETUP_CONFIG' ) ) {
			return;
		}

		$this-&gt;db_connect();
	}

	/**
	 * Makes private properties readable for backward compatibility.
	 *
	 * @since 3.5.0
	 *
	 * @param string $name The private member to get, and optionally process.
	 * @return mixed The private member.
	 */
	public function __get( $name ) {
		if ( 'col_info' === $name ) {
			$this-&gt;load_col_info();
		}

		return $this-&gt;$name;
	}

	/**
	 * Makes private properties settable for backward compatibility.
	 *
	 * @since 3.5.0
	 *
	 * @param string $name  The private member to set.
	 * @param mixed  $value The value to set.
	 */
	public function __set( $name, $value ) {
		$protected_members = array(
			'col_meta',
			'table_charset',
			'check_current_query',
		);
		if ( in_array( $name, $protected_members, true ) ) {
			return;
		}
		$this-&gt;$name = $value;
	}

	/**
	 * Makes private properties check-able for backward compatibility.
	 *
	 * @since 3.5.0
	 *
	 * @param string $name The private member to check.
	 * @return bool If the member is set or not.
	 */
	public function __isset( $name ) {
		return isset( $this-&gt;$name );
	}

	/**
	 * Makes private properties un-settable for backward compatibility.
	 *
	 * @since 3.5.0
	 *
	 * @param string $name  The private member to unset
	 */
	public function __unset( $name ) {
		unset( $this-&gt;$name );
	}

	/**
	 * Sets $this-&gt;charset and $this-&gt;collate.
	 *
	 * @since 3.1.0
	 */
	public function init_charset() {
		$charset = '';
		$collate = '';

		if ( function_exists( 'is_multisite' ) &amp;&amp; is_multisite() ) {
			$charset = 'utf8';
			if ( defined( 'DB_COLLATE' ) &amp;&amp; DB_COLLATE ) {
				$collate = DB_COLLATE;
			} else {
				$collate = 'utf8_general_ci';
			}
		} elseif ( defined( 'DB_COLLATE' ) ) {
			$collate = DB_COLLATE;
		}

		if ( defined( 'DB_CHARSET' ) ) {
			$charset = DB_CHARSET;
		}

		$charset_collate = $this-&gt;determine_charset( $charset, $collate );

		$this-&gt;charset = $charset_collate['charset'];
		$this-&gt;collate = $charset_collate['collate'];
	}

	/**
	 * Determines the best charset and collation to use given a charset and collation.
	 *
	 * For example, when able, utf8mb4 should be used instead of utf8.
	 *
	 * @since 4.6.0
	 *
	 * @param string $charset The character set to check.
	 * @param string $collate The collation to check.
	 * @return array {
	 *     The most appropriate character set and collation to use.
	 *
	 *     @type string $charset Character set.
	 *     @type string $collate Collation.
	 * }
	 */
	public function determine_charset( $charset, $collate ) {
		if ( ( $this-&gt;use_mysqli &amp;&amp; ! ( $this-&gt;dbh instanceof mysqli ) ) || empty( $this-&gt;dbh ) ) {
			return compact( 'charset', 'collate' );
		}

		if ( 'utf8' === $charset &amp;&amp; $this-&gt;has_cap( 'utf8mb4' ) ) {
			$charset = 'utf8mb4';
		}

		if ( 'utf8mb4' === $charset &amp;&amp; ! $this-&gt;has_cap( 'utf8mb4' ) ) {
			$charset = 'utf8';
			$collate = str_replace( 'utf8mb4_', 'utf8_', $collate );
		}

		if ( 'utf8mb4' === $charset ) {
			// _general_ is outdated, so we can upgrade it to _unicode_, instead.
			if ( ! $collate || 'utf8_general_ci' === $collate ) {
				$collate = 'utf8mb4_unicode_ci';
			} else {
				$collate = str_replace( 'utf8_', 'utf8mb4_', $collate );
			}
		}

		// _unicode_520_ is a better collation, we should use that when it's available.
		if ( $this-&gt;has_cap( 'utf8mb4_520' ) &amp;&amp; 'utf8mb4_unicode_ci' === $collate ) {
			$collate = 'utf8mb4_unicode_520_ci';
		}

		return compact( 'charset', 'collate' );
	}

	/**
	 * Sets the connection's character set.
	 *
	 * @since 3.1.0
	 *
	 * @param mysqli|resource $dbh     The connection returned by `mysqli_connect()` or `mysql_connect()`.
	 * @param string          $charset Optional. The character set. Default null.
	 * @param string          $collate Optional. The collation. Default null.
	 */
	public function set_charset( $dbh, $charset = null, $collate = null ) {
		if ( ! isset( $charset ) ) {
			$charset = $this-&gt;charset;
		}
		if ( ! isset( $collate ) ) {
			$collate = $this-&gt;collate;
		}
		if ( $this-&gt;has_cap( 'collation' ) &amp;&amp; ! empty( $charset ) ) {
			$set_charset_succeeded = true;

			if ( $this-&gt;use_mysqli ) {
				if ( function_exists( 'mysqli_set_charset' ) &amp;&amp; $this-&gt;has_cap( 'set_charset' ) ) {
					$set_charset_succeeded = mysqli_set_charset( $dbh, $charset );
				}

				if ( $set_charset_succeeded ) {
					$query = $this-&gt;prepare( 'SET NAMES %s', $charset );
					if ( ! empty( $collate ) ) {
						$query .= $this-&gt;prepare( ' COLLATE %s', $collate );
					}
					mysqli_query( $dbh, $query );
				}
			} else {
				if ( function_exists( 'mysql_set_charset' ) &amp;&amp; $this-&gt;has_cap( 'set_charset' ) ) {
					$set_charset_succeeded = mysql_set_charset( $charset, $dbh );
				}
				if ( $set_charset_succeeded ) {
					$query = $this-&gt;prepare( 'SET NAMES %s', $charset );
					if ( ! empty( $collate ) ) {
						$query .= $this-&gt;prepare( ' COLLATE %s', $collate );
					}
					mysql_query( $query, $dbh );
				}
			}
		}
	}

	/**
	 * Changes the current SQL mode, and ensures its WordPress compatibility.
	 *
	 * If no modes are passed, it will ensure the current MySQL server modes are compatible.
	 *
	 * @since 3.9.0
	 *
	 * @param array $modes Optional. A list of SQL modes to set. Default empty array.
	 */
	public function set_sql_mode( $modes = array() ) {
		if ( empty( $modes ) ) {
			if ( $this-&gt;use_mysqli ) {
				$res = mysqli_query( $this-&gt;dbh, 'SELECT @@SESSION.sql_mode' );
			} else {
				$res = mysql_query( 'SELECT @@SESSION.sql_mode', $this-&gt;dbh );
			}

			if ( empty( $res ) ) {
				return;
			}

			if ( $this-&gt;use_mysqli ) {
				$modes_array = mysqli_fetch_array( $res );
				if ( empty( $modes_array[0] ) ) {
					return;
				}
				$modes_str = $modes_array[0];
			} else {
				$modes_str = mysql_result( $res, 0 );
			}

			if ( empty( $modes_str ) ) {
				return;
			}

			$modes = explode( ',', $modes_str );
		}

		$modes = array_change_key_case( $modes, CASE_UPPER );

		/**
		 * Filters the list of incompatible SQL modes to exclude.
		 *
		 * @since 3.9.0
		 *
		 * @param array $incompatible_modes An array of incompatible modes.
		 */
		$incompatible_modes = (array) apply_filters( 'incompatible_sql_modes', $this-&gt;incompatible_modes );

		foreach ( $modes as $i =&gt; $mode ) {
			if ( in_array( $mode, $incompatible_modes, true ) ) {
				unset( $modes[ $i ] );
			}
		}

		$modes_str = implode( ',', $modes );

		if ( $this-&gt;use_mysqli ) {
			mysqli_query( $this-&gt;dbh, &quot;SET SESSION sql_mode='$modes_str'&quot; );
		} else {
			mysql_query( &quot;SET SESSION sql_mode='$modes_str'&quot;, $this-&gt;dbh );
		}
	}

	/**
	 * Sets the table prefix for the WordPress tables.
	 *
	 * @since 2.5.0
	 *
	 * @param string $prefix          Alphanumeric name for the new prefix.
	 * @param bool   $set_table_names Optional. Whether the table names, e.g. wpdb::$posts,
	 *                                should be updated or not. Default true.
	 * @return string|WP_Error Old prefix or WP_Error on error.
	 */
	public function set_prefix( $prefix, $set_table_names = true ) {

		if ( preg_match( '|[^a-z0-9_]|i', $prefix ) ) {
			return new WP_Error( 'invalid_db_prefix', 'Invalid database prefix' );
		}

		$old_prefix = is_multisite() ? '' : $prefix;

		if ( isset( $this-&gt;base_prefix ) ) {
			$old_prefix = $this-&gt;base_prefix;
		}

		$this-&gt;base_prefix = $prefix;

		if ( $set_table_names ) {
			foreach ( $this-&gt;tables( 'global' ) as $table =&gt; $prefixed_table ) {
				$this-&gt;$table = $prefixed_table;
			}

			if ( is_multisite() &amp;&amp; empty( $this-&gt;blogid ) ) {
				return $old_prefix;
			}

			$this-&gt;prefix = $this-&gt;get_blog_prefix();

			foreach ( $this-&gt;tables( 'blog' ) as $table =&gt; $prefixed_table ) {
				$this-&gt;$table = $prefixed_table;
			}

			foreach ( $this-&gt;tables( 'old' ) as $table =&gt; $prefixed_table ) {
				$this-&gt;$table = $prefixed_table;
			}
		}
		return $old_prefix;
	}

	/**
	 * Sets blog ID.
	 *
	 * @since 3.0.0
	 *
	 * @param int $blog_id
	 * @param int $network_id Optional.
	 * @return int Previous blog ID.
	 */
	public function set_blog_id( $blog_id, $network_id = 0 ) {
		if ( ! empty( $network_id ) ) {
			$this-&gt;siteid = $network_id;
		}

		$old_blog_id  = $this-&gt;blogid;
		$this-&gt;blogid = $blog_id;

		$this-&gt;prefix = $this-&gt;get_blog_prefix();

		foreach ( $this-&gt;tables( 'blog' ) as $table =&gt; $prefixed_table ) {
			$this-&gt;$table = $prefixed_table;
		}

		foreach ( $this-&gt;tables( 'old' ) as $table =&gt; $prefixed_table ) {
			$this-&gt;$table = $prefixed_table;
		}

		return $old_blog_id;
	}

	/**
	 * Gets blog prefix.
	 *
	 * @since 3.0.0
	 *
	 * @param int $blog_id Optional.
	 * @return string Blog prefix.
	 */
	public function get_blog_prefix( $blog_id = null ) {
		if ( is_multisite() ) {
			if ( null === $blog_id ) {
				$blog_id = $this-&gt;blogid;
			}

			$blog_id = (int) $blog_id;

			if ( defined( 'MULTISITE' ) &amp;&amp; ( 0 === $blog_id || 1 === $blog_id ) ) {
				return $this-&gt;base_prefix;
			} else {
				return $this-&gt;base_prefix . $blog_id . '_';
			}
		} else {
			return $this-&gt;base_prefix;
		}
	}

	/**
	 * Returns an array of WordPress tables.
	 *
	 * Also allows for the `CUSTOM_USER_TABLE` and `CUSTOM_USER_META_TABLE` to override the WordPress users
	 * and usermeta tables that would otherwise be determined by the prefix.
	 *
	 * The `$scope` argument can take one of the following:
	 *
	 * - 'all' - returns 'all' and 'global' tables. No old tables are returned.
	 * - 'blog' - returns the blog-level tables for the queried blog.
	 * - 'global' - returns the global tables for the installation, returning multisite tables only on multisite.
	 * - 'ms_global' - returns the multisite global tables, regardless if current installation is multisite.
	 * - 'old' - returns tables which are deprecated.
	 *
	 * @since 3.0.0
	 *
	 * @uses wpdb::$tables
	 * @uses wpdb::$old_tables
	 * @uses wpdb::$global_tables
	 * @uses wpdb::$ms_global_tables
	 *
	 * @param string $scope   Optional. Possible values include 'all', 'global', 'ms_global', 'blog',
	 *                        or 'old' tables. Default 'all'.
	 * @param bool   $prefix  Optional. Whether to include table prefixes. If blog prefix is requested,
	 *                        then the custom users and usermeta tables will be mapped. Default true.
	 * @param int    $blog_id Optional. The blog_id to prefix. Used only when prefix is requested.
	 *                        Defaults to `wpdb::$blogid`.
	 * @return string[] Table names. When a prefix is requested, the key is the unprefixed table name.
	 */
	public function tables( $scope = 'all', $prefix = true, $blog_id = 0 ) {
		switch ( $scope ) {
			case 'all':
				$tables = array_merge( $this-&gt;global_tables, $this-&gt;tables );
				if ( is_multisite() ) {
					$tables = array_merge( $tables, $this-&gt;ms_global_tables );
				}
				break;
			case 'blog':
				$tables = $this-&gt;tables;
				break;
			case 'global':
				$tables = $this-&gt;global_tables;
				if ( is_multisite() ) {
					$tables = array_merge( $tables, $this-&gt;ms_global_tables );
				}
				break;
			case 'ms_global':
				$tables = $this-&gt;ms_global_tables;
				break;
			case 'old':
				$tables = $this-&gt;old_tables;
				break;
			default:
				return array();
		}

		if ( $prefix ) {
			if ( ! $blog_id ) {
				$blog_id = $this-&gt;blogid;
			}
			$blog_prefix   = $this-&gt;get_blog_prefix( $blog_id );
			$base_prefix   = $this-&gt;base_prefix;
			$global_tables = array_merge( $this-&gt;global_tables, $this-&gt;ms_global_tables );
			foreach ( $tables as $k =&gt; $table ) {
				if ( in_array( $table, $global_tables, true ) ) {
					$tables[ $table ] = $base_prefix . $table;
				} else {
					$tables[ $table ] = $blog_prefix . $table;
				}
				unset( $tables[ $k ] );
			}

			if ( isset( $tables['users'] ) &amp;&amp; defined( 'CUSTOM_USER_TABLE' ) ) {
				$tables['users'] = CUSTOM_USER_TABLE;
			}

			if ( isset( $tables['usermeta'] ) &amp;&amp; defined( 'CUSTOM_USER_META_TABLE' ) ) {
				$tables['usermeta'] = CUSTOM_USER_META_TABLE;
			}
		}

		return $tables;
	}

	/**
	 * Selects a database using the current or provided database connection.
	 *
	 * The database name will be changed based on the current database connection.
	 * On failure, the execution will bail and display a DB error.
	 *
	 * @since 0.71
	 *
	 * @param string          $db  Database name.
	 * @param mysqli|resource $dbh Optional database connection.
	 */
	public function select( $db, $dbh = null ) {
		if ( is_null( $dbh ) ) {
			$dbh = $this-&gt;dbh;
		}

		if ( $this-&gt;use_mysqli ) {
			$success = mysqli_select_db( $dbh, $db );
		} else {
			$success = mysql_select_db( $db, $dbh );
		}
		if ( ! $success ) {
			$this-&gt;ready = false;
			if ( ! did_action( 'template_redirect' ) ) {
				wp_load_translations_early();

				$message = '&lt;h1&gt;' . __( 'Can&amp;#8217;t select database' ) . &quot;&lt;/h1&gt;\n&quot;;

				$message .= '&lt;p&gt;' . sprintf(
					/* translators: %s: Database name. */
					__( 'We were able to connect to the database server (which means your username and password is okay) but not able to select the %s database.' ),
					'&lt;code&gt;' . htmlspecialchars( $db, ENT_QUOTES ) . '&lt;/code&gt;'
				) . &quot;&lt;/p&gt;\n&quot;;

				$message .= &quot;&lt;ul&gt;\n&quot;;
				$message .= '&lt;li&gt;' . __( 'Are you sure it exists?' ) . &quot;&lt;/li&gt;\n&quot;;

				$message .= '&lt;li&gt;' . sprintf(
					/* translators: 1: Database user, 2: Database name. */
					__( 'Does the user %1$s have permission to use the %2$s database?' ),
					'&lt;code&gt;' . htmlspecialchars( $this-&gt;dbuser, ENT_QUOTES ) . '&lt;/code&gt;',
					'&lt;code&gt;' . htmlspecialchars( $db, ENT_QUOTES ) . '&lt;/code&gt;'
				) . &quot;&lt;/li&gt;\n&quot;;

				$message .= '&lt;li&gt;' . sprintf(
					/* translators: %s: Database name. */
					__( 'On some systems the name of your database is prefixed with your username, so it would be like &lt;code&gt;username_%1$s&lt;/code&gt;. Could that be the problem?' ),
					htmlspecialchars( $db, ENT_QUOTES )
				) . &quot;&lt;/li&gt;\n&quot;;

				$message .= &quot;&lt;/ul&gt;\n&quot;;

				$message .= '&lt;p&gt;' . sprintf(
					/* translators: %s: Support forums URL. */
					__( 'If you don&amp;#8217;t know how to set up a database you should &lt;strong&gt;contact your host&lt;/strong&gt;. If all else fails you may find help at the &lt;a href=&quot;%s&quot;&gt;WordPress Support Forums&lt;/a&gt;.' ),
					__( 'https://wordpress.org/support/forums/' )
				) . &quot;&lt;/p&gt;\n&quot;;

				$this-&gt;bail( $message, 'db_select_fail' );
			}
		}
	}

	/**
	 * Do not use, deprecated.
	 *
	 * Use esc_sql() or wpdb::prepare() instead.
	 *
	 * @since 2.8.0
	 * @deprecated 3.6.0 Use wpdb::prepare()
	 * @see wpdb::prepare()
	 * @see esc_sql()
	 *
	 * @param string $string
	 * @return string
	 */
	public function _weak_escape( $string ) {
		if ( func_num_args() === 1 &amp;&amp; function_exists( '_deprecated_function' ) ) {
			_deprecated_function( __METHOD__, '3.6.0', 'wpdb::prepare() or esc_sql()' );
		}
		return addslashes( $string );
	}

	/**
	 * Real escape, using mysqli_real_escape_string() or mysql_real_escape_string().
	 *
	 * @since 2.8.0
	 *
	 * @see mysqli_real_escape_string()
	 * @see mysql_real_escape_string()
	 *
	 * @param string $string String to escape.
	 * @return string Escaped string.
	 */
	public function _real_escape( $string ) {
		if ( ! is_scalar( $string ) ) {
			return '';
		}

		if ( $this-&gt;dbh ) {
			if ( $this-&gt;use_mysqli ) {
				$escaped = mysqli_real_escape_string( $this-&gt;dbh, $string );
			} else {
				$escaped = mysql_real_escape_string( $string, $this-&gt;dbh );
			}
		} else {
			$class = get_class( $this );

			wp_load_translations_early();
			/* translators: %s: Database access abstraction class, usually wpdb or a class extending wpdb. */
			_doing_it_wrong( $class, sprintf( __( '%s must set a database connection for use with escaping.' ), $class ), '3.6.0' );

			$escaped = addslashes( $string );
		}

		return $this-&gt;add_placeholder_escape( $escaped );
	}

	/**
	 * Escapes data. Works on arrays.
	 *
	 * @since 2.8.0
	 *
	 * @uses wpdb::_real_escape()
	 *
	 * @param string|array $data Data to escape.
	 * @return string|array Escaped data, in the same type as supplied.
	 */
	public function _escape( $data ) {
		if ( is_array( $data ) ) {
			foreach ( $data as $k =&gt; $v ) {
				if ( is_array( $v ) ) {
					$data[ $k ] = $this-&gt;_escape( $v );
				} else {
					$data[ $k ] = $this-&gt;_real_escape( $v );
				}
			}
		} else {
			$data = $this-&gt;_real_escape( $data );
		}

		return $data;
	}

	/**
	 * Do not use, deprecated.
	 *
	 * Use esc_sql() or wpdb::prepare() instead.
	 *
	 * @since 0.71
	 * @deprecated 3.6.0 Use wpdb::prepare()
	 * @see wpdb::prepare()
	 * @see esc_sql()
	 *
	 * @param string|array $data Data to escape.
	 * @return string|array Escaped data, in the same type as supplied.
	 */
	public function escape( $data ) {
		if ( func_num_args() === 1 &amp;&amp; function_exists( '_deprecated_function' ) ) {
			_deprecated_function( __METHOD__, '3.6.0', 'wpdb::prepare() or esc_sql()' );
		}
		if ( is_array( $data ) ) {
			foreach ( $data as $k =&gt; $v ) {
				if ( is_array( $v ) ) {
					$data[ $k ] = $this-&gt;escape( $v, 'recursive' );
				} else {
					$data[ $k ] = $this-&gt;_weak_escape( $v, 'internal' );
				}
			}
		} else {
			$data = $this-&gt;_weak_escape( $data, 'internal' );
		}

		return $data;
	}

	/**
	 * Escapes content by reference for insertion into the database, for security.
	 *
	 * @uses wpdb::_real_escape()
	 *
	 * @since 2.3.0
	 *
	 * @param string $string String to escape.
	 */
	public function escape_by_ref( &amp;$string ) {
		if ( ! is_float( $string ) ) {
			$string = $this-&gt;_real_escape( $string );
		}
	}

	/**
	 * Prepares a SQL query for safe execution.
	 *
	 * Uses sprintf()-like syntax. The following placeholders can be used in the query string:
	 *
	 * - %d (integer)
	 * - %f (float)
	 * - %s (string)
	 *
	 * All placeholders MUST be left unquoted in the query string. A corresponding argument
	 * MUST be passed for each placeholder.
	 *
	 * Note: There is one exception to the above: for compatibility with old behavior,
	 * numbered or formatted string placeholders (eg, `%1$s`, `%5s`) will not have quotes
	 * added by this function, so should be passed with appropriate quotes around them.
	 *
	 * Literal percentage signs (`%`) in the query string must be written as `%%`. Percentage wildcards
	 * (for example, to use in LIKE syntax) must be passed via a substitution argument containing
	 * the complete LIKE string, these cannot be inserted directly in the query string.
	 * Also see wpdb::esc_like().
	 *
	 * Arguments may be passed as individual arguments to the method, or as a single array
	 * containing all arguments. A combination of the two is not supported.
	 *
	 * Examples:
	 *
	 *     $wpdb-&gt;prepare( &quot;SELECT * FROM `table` WHERE `column` = %s AND `field` = %d OR `other_field` LIKE %s&quot;, array( 'foo', 1337, '%bar' ) );
	 *     $wpdb-&gt;prepare( &quot;SELECT DATE_FORMAT(`field`, '%%c') FROM `table` WHERE `column` = %s&quot;, 'foo' );
	 *
	 * @since 2.3.0
	 * @since 5.3.0 Formalized the existing and already documented `...$args` parameter
	 *              by updating the function signature. The second parameter was changed
	 *              from `$args` to `...$args`.
	 *
	 * @link https://www.php.net/sprintf Description of syntax.
	 *
	 * @param string      $query   Query statement with sprintf()-like placeholders.
	 * @param array|mixed $args    The array of variables to substitute into the query's placeholders
	 *                             if being called with an array of arguments, or the first variable
	 *                             to substitute into the query's placeholders if being called with
	 *                             individual arguments.
	 * @param mixed       ...$args Further variables to substitute into the query's placeholders
	 *                             if being called with individual arguments.
	 * @return string|void Sanitized query string, if there is a query to prepare.
	 */
	public function prepare( $query, ...$args ) {
		if ( is_null( $query ) ) {
			return;
		}

		// This is not meant to be foolproof -- but it will catch obviously incorrect usage.
		if ( strpos( $query, '%' ) === false ) {
			wp_load_translations_early();
			_doing_it_wrong(
				'wpdb::prepare',
				sprintf(
					/* translators: %s: wpdb::prepare() */
					__( 'The query argument of %s must have a placeholder.' ),
					'wpdb::prepare()'
				),
				'3.9.0'
			);
		}

		// If args were passed as an array (as in vsprintf), move them up.
		$passed_as_array = false;
		if ( isset( $args[0] ) &amp;&amp; is_array( $args[0] ) &amp;&amp; 1 === count( $args ) ) {
			$passed_as_array = true;
			$args            = $args[0];
		}

		foreach ( $args as $arg ) {
			if ( ! is_scalar( $arg ) &amp;&amp; ! is_null( $arg ) ) {
				wp_load_translations_early();
				_doing_it_wrong(
					'wpdb::prepare',
					sprintf(
						/* translators: %s: Value type. */
						__( 'Unsupported value type (%s).' ),
						gettype( $arg )
					),
					'4.8.2'
				);
			}
		}

		/*
		 * Specify the formatting allowed in a placeholder. The following are allowed:
		 *
		 * - Sign specifier. eg, $+d
		 * - Numbered placeholders. eg, %1$s
		 * - Padding specifier, including custom padding characters. eg, %05s, %'#5s
		 * - Alignment specifier. eg, %05-s
		 * - Precision specifier. eg, %.2f
		 */
		$allowed_format = '(?:[1-9][0-9]*[$])?[-+0-9]*(?: |0|\'.)?[-+0-9]*(?:\.[0-9]+)?';

		/*
		 * If a %s placeholder already has quotes around it, removing the existing quotes and re-inserting them
		 * ensures the quotes are consistent.
		 *
		 * For backward compatibility, this is only applied to %s, and not to placeholders like %1$s, which are frequently
		 * used in the middle of longer strings, or as table name placeholders.
		 */
		$query = str_replace( &quot;'%s'&quot;, '%s', $query ); // Strip any existing single quotes.
		$query = str_replace( '&quot;%s&quot;', '%s', $query ); // Strip any existing double quotes.
		$query = preg_replace( '/(?&lt;!%)%s/', &quot;'%s'&quot;, $query ); // Quote the strings, avoiding escaped strings like %%s.

		$query = preg_replace( &quot;/(?&lt;!%)(%($allowed_format)?f)/&quot;, '%\\2F', $query ); // Force floats to be locale-unaware.

		$query = preg_replace( &quot;/%(?:%|$|(?!($allowed_format)?[sdF]))/&quot;, '%%\\1', $query ); // Escape any unescaped percents.

		// Count the number of valid placeholders in the query.
		$placeholders = preg_match_all( &quot;/(^|[^%]|(%%)+)%($allowed_format)?[sdF]/&quot;, $query, $matches );

		$args_count = count( $args );

		if ( $args_count !== $placeholders ) {
			if ( 1 === $placeholders &amp;&amp; $passed_as_array ) {
				// If the passed query only expected one argument, but the wrong number of arguments were sent as an array, bail.
				wp_load_translations_early();
				_doing_it_wrong(
					'wpdb::prepare',
					__( 'The query only expected one placeholder, but an array of multiple placeholders was sent.' ),
					'4.9.0'
				);

				return;
			} else {
				/*
				 * If we don't have the right number of placeholders, but they were passed as individual arguments,
				 * or we were expecting multiple arguments in an array, throw a warning.
				 */
				wp_load_translations_early();
				_doing_it_wrong(
					'wpdb::prepare',
					sprintf(
						/* translators: 1: Number of placeholders, 2: Number of arguments passed. */
						__( 'The query does not contain the correct number of placeholders (%1$d) for the number of arguments passed (%2$d).' ),
						$placeholders,
						$args_count
					),
					'4.8.3'
				);

				/*
				 * If we don't have enough arguments to match the placeholders,
				 * return an empty string to avoid a fatal error on PHP 8.
				 */
				if ( $args_count &lt; $placeholders ) {
					$max_numbered_placeholder = ! empty( $matches[3] ) ? max( array_map( 'intval', $matches[3] ) ) : 0;

					if ( ! $max_numbered_placeholder || $args_count &lt; $max_numbered_placeholder ) {
						return '';
					}
				}
			}
		}

		array_walk( $args, array( $this, 'escape_by_ref' ) );
		$query = vsprintf( $query, $args );

		return $this-&gt;add_placeholder_escape( $query );
	}

	/**
	 * First half of escaping for `LIKE` special characters `%` and `_` before preparing for SQL.
	 *
	 * Use this only before wpdb::prepare() or esc_sql(). Reversing the order is very bad for security.
	 *
	 * Example Prepared Statement:
	 *
	 *     $wild = '%';
	 *     $find = 'only 43% of planets';
	 *     $like = $wild . $wpdb-&gt;esc_like( $find ) . $wild;
	 *     $sql  = $wpdb-&gt;prepare( &quot;SELECT * FROM $wpdb-&gt;posts WHERE post_content LIKE %s&quot;, $like );
	 *
	 * Example Escape Chain:
	 *
	 *     $sql  = esc_sql( $wpdb-&gt;esc_like( $input ) );
	 *
	 * @since 4.0.0
	 *
	 * @param string $text The raw text to be escaped. The input typed by the user
	 *                     should have no extra or deleted slashes.
	 * @return string Text in the form of a LIKE phrase. The output is not SQL safe.
	 *                Call wpdb::prepare() or wpdb::_real_escape() next.
	 */
	public function esc_like( $text ) {
		return addcslashes( $text, '_%\\' );
	}

	/**
	 * Prints SQL/DB error.
	 *
	 * @since 0.71
	 *
	 * @global array $EZSQL_ERROR Stores error information of query and error string.
	 *
	 * @param string $str The error to display.
	 * @return void|false Void if the showing of errors is enabled, false if disabled.
	 */
	public function print_error( $str = '' ) {
		global $EZSQL_ERROR;

		if ( ! $str ) {
			if ( $this-&gt;use_mysqli ) {
				$str = mysqli_error( $this-&gt;dbh );
			} else {
				$str = mysql_error( $this-&gt;dbh );
			}
		}
		$EZSQL_ERROR[] = array(
			'query'     =&gt; $this-&gt;last_query,
			'error_str' =&gt; $str,
		);

		if ( $this-&gt;suppress_errors ) {
			return false;
		}

		wp_load_translations_early();

		$caller = $this-&gt;get_caller();
		if ( $caller ) {
			/* translators: 1: Database error message, 2: SQL query, 3: Name of the calling function. */
			$error_str = sprintf( __( 'WordPress database error %1$s for query %2$s made by %3$s' ), $str, $this-&gt;last_query, $caller );
		} else {
			/* translators: 1: Database error message, 2: SQL query. */
			$error_str = sprintf( __( 'WordPress database error %1$s for query %2$s' ), $str, $this-&gt;last_query );
		}

		error_log( $error_str );

		// Are we showing errors?
		if ( ! $this-&gt;show_errors ) {
			return false;
		}

		// If there is an error then take note of it.
		if ( is_multisite() ) {
			$msg = sprintf(
				&quot;%s [%s]\n%s\n&quot;,
				__( 'WordPress database error:' ),
				$str,
				$this-&gt;last_query
			);

			if ( defined( 'ERRORLOGFILE' ) ) {
				error_log( $msg, 3, ERRORLOGFILE );
			}
			if ( defined( 'DIEONDBERROR' ) ) {
				wp_die( $msg );
			}
		} else {
			$str   = htmlspecialchars( $str, ENT_QUOTES );
			$query = htmlspecialchars( $this-&gt;last_query, ENT_QUOTES );

			printf(
				'&lt;div id=&quot;error&quot;&gt;&lt;p class=&quot;wpdberror&quot;&gt;&lt;strong&gt;%s&lt;/strong&gt; [%s]&lt;br /&gt;&lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&lt;/div&gt;',
				__( 'WordPress database error:' ),
				$str,
				$query
			);
		}
	}

	/**
	 * Enables showing of database errors.
	 *
	 * This function should be used only to enable showing of errors.
	 * wpdb::hide_errors() should be used instead for hiding errors.
	 *
	 * @since 0.71
	 *
	 * @see wpdb::hide_errors()
	 *
	 * @param bool $show Optional. Whether to show errors. Default true.
	 * @return bool Whether showing of errors was previously active.
	 */
	public function show_errors( $show = true ) {
		$errors            = $this-&gt;show_errors;
		$this-&gt;show_errors = $show;
		return $errors;
	}

	/**
	 * Disables showing of database errors.
	 *
	 * By default database errors are not shown.
	 *
	 * @since 0.71
	 *
	 * @see wpdb::show_errors()
	 *
	 * @return bool Whether showing of errors was previously active.
	 */
	public function hide_errors() {
		$show              = $this-&gt;show_errors;
		$this-&gt;show_errors = false;
		return $show;
	}

	/**
	 * Enables or disables suppressing of database errors.
	 *
	 * By default database errors are suppressed.
	 *
	 * @since 2.5.0
	 *
	 * @see wpdb::hide_errors()
	 *
	 * @param bool $suppress Optional. Whether to suppress errors. Default true.
	 * @return bool Whether suppressing of errors was previously active.
	 */
	public function suppress_errors( $suppress = true ) {
		$errors                = $this-&gt;suppress_errors;
		$this-&gt;suppress_errors = (bool) $suppress;
		return $errors;
	}

	/**
	 * Kills cached query results.
	 *
	 * @since 0.71
	 */
	public function flush() {
		$this-&gt;last_result   = array();
		$this-&gt;col_info      = null;
		$this-&gt;last_query    = null;
		$this-&gt;rows_affected = 0;
		$this-&gt;num_rows      = 0;
		$this-&gt;last_error    = '';

		if ( $this-&gt;use_mysqli &amp;&amp; $this-&gt;result instanceof mysqli_result ) {
			mysqli_free_result( $this-&gt;result );
			$this-&gt;result = null;

			// Sanity check before using the handle.
			if ( empty( $this-&gt;dbh ) || ! ( $this-&gt;dbh instanceof mysqli ) ) {
				return;
			}

			// Clear out any results from a multi-query.
			while ( mysqli_more_results( $this-&gt;dbh ) ) {
				mysqli_next_result( $this-&gt;dbh );
			}
		} elseif ( is_resource( $this-&gt;result ) ) {
			mysql_free_result( $this-&gt;result );
		}
	}

	/**
	 * Connects to and selects database.
	 *
	 * If `$allow_bail` is false, the lack of database connection will need to be handled manually.
	 *
	 * @since 3.0.0
	 * @since 3.9.0 $allow_bail parameter added.
	 *
	 * @param bool $allow_bail Optional. Allows the function to bail. Default true.
	 * @return bool True with a successful connection, false on failure.
	 */
	public function db_connect( $allow_bail = true ) {
		$this-&gt;is_mysql = true;

		/*
		 * Deprecated in 3.9+ when using MySQLi. No equivalent
		 * $new_link parameter exists for mysqli_* functions.
		 */
		$new_link     = defined( 'MYSQL_NEW_LINK' ) ? MYSQL_NEW_LINK : true;
		$client_flags = defined( 'MYSQL_CLIENT_FLAGS' ) ? MYSQL_CLIENT_FLAGS : 0;

		if ( $this-&gt;use_mysqli ) {
			/*
			 * Set the MySQLi error reporting off because WordPress handles its own.
			 * This is due to the default value change from `MYSQLI_REPORT_OFF`
			 * to `MYSQLI_REPORT_ERROR|MYSQLI_REPORT_STRICT` in PHP 8.1.
			 */
			mysqli_report( MYSQLI_REPORT_OFF );

			$this-&gt;dbh = mysqli_init();

			$host    = $this-&gt;dbhost;
			$port    = null;
			$socket  = null;
			$is_ipv6 = false;

			$host_data = $this-&gt;parse_db_host( $this-&gt;dbhost );
			if ( $host_data ) {
				list( $host, $port, $socket, $is_ipv6 ) = $host_data;
			}

			/*
			 * If using the `mysqlnd` library, the IPv6 address needs to be enclosed
			 * in square brackets, whereas it doesn't while using the `libmysqlclient` library.
			 * @see https://bugs.php.net/bug.php?id=67563
			 */
			if ( $is_ipv6 &amp;&amp; extension_loaded( 'mysqlnd' ) ) {
				$host = &quot;[$host]&quot;;
			}

			if ( WP_DEBUG ) {
				mysqli_real_connect( $this-&gt;dbh, $host, $this-&gt;dbuser, $this-&gt;dbpassword, null, $port, $socket, $client_flags );
			} else {
				// phpcs:ignore WordPress.PHP.NoSilencedErrors.Discouraged
				@mysqli_real_connect( $this-&gt;dbh, $host, $this-&gt;dbuser, $this-&gt;dbpassword, null, $port, $socket, $client_flags );
			}

			if ( $this-&gt;dbh-&gt;connect_errno ) {
				$this-&gt;dbh = null;

				/*
				 * It's possible ext/mysqli is misconfigured. Fall back to ext/mysql if:
				 *  - We haven't previously connected, and
				 *  - WP_USE_EXT_MYSQL isn't set to false, and
				 *  - ext/mysql is loaded.
				 */
				$attempt_fallback = true;

				if ( $this-&gt;has_connected ) {
					$attempt_fallback = false;
				} elseif ( defined( 'WP_USE_EXT_MYSQL' ) &amp;&amp; ! WP_USE_EXT_MYSQL ) {
					$attempt_fallback = false;
				} elseif ( ! function_exists( 'mysql_connect' ) ) {
					$attempt_fallback = false;
				}

				if ( $attempt_fallback ) {
					$this-&gt;use_mysqli = false;
					return $this-&gt;db_connect( $allow_bail );
				}
			}
		} else {
			if ( WP_DEBUG ) {
				$this-&gt;dbh = mysql_connect( $this-&gt;dbhost, $this-&gt;dbuser, $this-&gt;dbpassword, $new_link, $client_flags );
			} else {
				// phpcs:ignore WordPress.PHP.NoSilencedErrors.Discouraged
				$this-&gt;dbh = @mysql_connect( $this-&gt;dbhost, $this-&gt;dbuser, $this-&gt;dbpassword, $new_link, $client_flags );
			}
		}

		if ( ! $this-&gt;dbh &amp;&amp; $allow_bail ) {
			wp_load_translations_early();

			// Load custom DB error template, if present.
			if ( file_exists( WP_CONTENT_DIR . '/db-error.php' ) ) {
				require_once WP_CONTENT_DIR . '/db-error.php';
				die();
			}

			$message = '&lt;h1&gt;' . __( 'Error establishing a database connection' ) . &quot;&lt;/h1&gt;\n&quot;;

			$message .= '&lt;p&gt;' . sprintf(
				/* translators: 1: wp-config.php, 2: Database host. */
				__( 'This either means that the username and password information in your %1$s file is incorrect or we can&amp;#8217;t contact the database server at %2$s. This could mean your host&amp;#8217;s database server is down.' ),
				'&lt;code&gt;wp-config.php&lt;/code&gt;',
				'&lt;code&gt;' . htmlspecialchars( $this-&gt;dbhost, ENT_QUOTES ) . '&lt;/code&gt;'
			) . &quot;&lt;/p&gt;\n&quot;;

			$message .= &quot;&lt;ul&gt;\n&quot;;
			$message .= '&lt;li&gt;' . __( 'Are you sure you have the correct username and password?' ) . &quot;&lt;/li&gt;\n&quot;;
			$message .= '&lt;li&gt;' . __( 'Are you sure you have typed the correct hostname?' ) . &quot;&lt;/li&gt;\n&quot;;
			$message .= '&lt;li&gt;' . __( 'Are you sure the database server is running?' ) . &quot;&lt;/li&gt;\n&quot;;
			$message .= &quot;&lt;/ul&gt;\n&quot;;

			$message .= '&lt;p&gt;' . sprintf(
				/* translators: %s: Support forums URL. */
				__( 'If you&amp;#8217;re unsure what these terms mean you should probably contact your host. If you still need help you can always visit the &lt;a href=&quot;%s&quot;&gt;WordPress Support Forums&lt;/a&gt;.' ),
				__( 'https://wordpress.org/support/forums/' )
			) . &quot;&lt;/p&gt;\n&quot;;

			$this-&gt;bail( $message, 'db_connect_fail' );

			return false;
		} elseif ( $this-&gt;dbh ) {
			if ( ! $this-&gt;has_connected ) {
				$this-&gt;init_charset();
			}

			$this-&gt;has_connected = true;

			$this-&gt;set_charset( $this-&gt;dbh );

			$this-&gt;ready = true;
			$this-&gt;set_sql_mode();
			$this-&gt;select( $this-&gt;dbname, $this-&gt;dbh );

			return true;
		}

		return false;
	}

	/**
	 * Parses the DB_HOST setting to interpret it for mysqli_real_connect().
	 *
	 * mysqli_real_connect() doesn't support the host param including a port or socket
	 * like mysql_connect() does. This duplicates how mysql_connect() detects a port
	 * and/or socket file.
	 *
	 * @since 4.9.0
	 *
	 * @param string $host The DB_HOST setting to parse.
	 * @return array|false Array containing the host, the port, the socket and
	 *                     whether it is an IPv6 address, in that order.
	 *                     False if $host couldn't be parsed.
	 */
	public function parse_db_host( $host ) {
		$port    = null;
		$socket  = null;
		$is_ipv6 = false;

		// First peel off the socket parameter from the right, if it exists.
		$socket_pos = strpos( $host, ':/' );
		if ( false !== $socket_pos ) {
			$socket = substr( $host, $socket_pos + 1 );
			$host   = substr( $host, 0, $socket_pos );
		}

		// We need to check for an IPv6 address first.
		// An IPv6 address will always contain at least two colons.
		if ( substr_count( $host, ':' ) &gt; 1 ) {
			$pattern = '#^(?:\[)?(?P&lt;host&gt;[0-9a-fA-F:]+)(?:\]:(?P&lt;port&gt;[\d]+))?#';
			$is_ipv6 = true;
		} else {
			// We seem to be dealing with an IPv4 address.
			$pattern = '#^(?P&lt;host&gt;[^:/]*)(?::(?P&lt;port&gt;[\d]+))?#';
		}

		$matches = array();
		$result  = preg_match( $pattern, $host, $matches );

		if ( 1 !== $result ) {
			// Couldn't parse the address, bail.
			return false;
		}

		$host = '';
		foreach ( array( 'host', 'port' ) as $component ) {
			if ( ! empty( $matches[ $component ] ) ) {
				$$component = $matches[ $component ];
			}
		}

		return array( $host, $port, $socket, $is_ipv6 );
	}

	/**
	 * Checks that the connection to the database is still up. If not, try to reconnect.
	 *
	 * If this function is unable to reconnect, it will forcibly die, or if called
	 * after the {@see 'template_redirect'} hook has been fired, return false instead.
	 *
	 * If `$allow_bail` is false, the lack of database connection will need to be handled manually.
	 *
	 * @since 3.9.0
	 *
	 * @param bool $allow_bail Optional. Allows the function to bail. Default true.
	 * @return bool|void True if the connection is up.
	 */
	public function check_connection( $allow_bail = true ) {
		if ( $this-&gt;use_mysqli ) {
			if ( ! empty( $this-&gt;dbh ) &amp;&amp; mysqli_ping( $this-&gt;dbh ) ) {
				return true;
			}
		} else {
			if ( ! empty( $this-&gt;dbh ) &amp;&amp; mysql_ping( $this-&gt;dbh ) ) {
				return true;
			}
		}

		$error_reporting = false;

		// Disable warnings, as we don't want to see a multitude of &quot;unable to connect&quot; messages.
		if ( WP_DEBUG ) {
			$error_reporting = error_reporting();
			error_reporting( $error_reporting &amp; ~E_WARNING );
		}

		for ( $tries = 1; $tries &lt;= $this-&gt;reconnect_retries; $tries++ ) {
			// On the last try, re-enable warnings. We want to see a single instance
			// of the &quot;unable to connect&quot; message on the bail() screen, if it appears.
			if ( $this-&gt;reconnect_retries === $tries &amp;&amp; WP_DEBUG ) {
				error_reporting( $error_reporting );
			}

			if ( $this-&gt;db_connect( false ) ) {
				if ( $error_reporting ) {
					error_reporting( $error_reporting );
				}

				return true;
			}

			sleep( 1 );
		}

		// If template_redirect has already happened, it's too late for wp_die()/dead_db().
		// Let's just return and hope for the best.
		if ( did_action( 'template_redirect' ) ) {
			return false;
		}

		if ( ! $allow_bail ) {
			return false;
		}

		wp_load_translations_early();

		$message = '&lt;h1&gt;' . __( 'Error reconnecting to the database' ) . &quot;&lt;/h1&gt;\n&quot;;

		$message .= '&lt;p&gt;' . sprintf(
			/* translators: %s: Database host. */
			__( 'This means that we lost contact with the database server at %s. This could mean your host&amp;#8217;s database server is down.' ),
			'&lt;code&gt;' . htmlspecialchars( $this-&gt;dbhost, ENT_QUOTES ) . '&lt;/code&gt;'
		) . &quot;&lt;/p&gt;\n&quot;;

		$message .= &quot;&lt;ul&gt;\n&quot;;
		$message .= '&lt;li&gt;' . __( 'Are you sure the database server is running?' ) . &quot;&lt;/li&gt;\n&quot;;
		$message .= '&lt;li&gt;' . __( 'Are you sure the database server is not under particularly heavy load?' ) . &quot;&lt;/li&gt;\n&quot;;
		$message .= &quot;&lt;/ul&gt;\n&quot;;

		$message .= '&lt;p&gt;' . sprintf(
			/* translators: %s: Support forums URL. */
			__( 'If you&amp;#8217;re unsure what these terms mean you should probably contact your host. If you still need help you can always visit the &lt;a href=&quot;%s&quot;&gt;WordPress Support Forums&lt;/a&gt;.' ),
			__( 'https://wordpress.org/support/forums/' )
		) . &quot;&lt;/p&gt;\n&quot;;

		// We weren't able to reconnect, so we better bail.
		$this-&gt;bail( $message, 'db_connect_fail' );

		// Call dead_db() if bail didn't die, because this database is no more.
		// It has ceased to be (at least temporarily).
		dead_db();
	}

	/**
	 * Performs a database query, using current database connection.
	 *
	 * More information can be found on the documentation page.
	 *
	 * @since 0.71
	 *
	 * @link https://developer.wordpress.org/reference/classes/wpdb/
	 *
	 * @param string $query Database query.
	 * @return int|bool Boolean true for CREATE, ALTER, TRUNCATE and DROP queries. Number of rows
	 *                  affected/selected for all other queries. Boolean false on error.
	 */
	public function query( $query ) {
		if ( ! $this-&gt;ready ) {
			$this-&gt;check_current_query = true;
			return false;
		}

		/**
		 * Filters the database query.
		 *
		 * Some queries are made before the plugins have been loaded,
		 * and thus cannot be filtered with this method.
		 *
		 * @since 2.1.0
		 *
		 * @param string $query Database query.
		 */
		$query = apply_filters( 'query', $query );

		if ( ! $query ) {
			$this-&gt;insert_id = 0;
			return false;
		}

		$this-&gt;flush();

		// Log how the function was called.
		$this-&gt;func_call = &quot;\$db-&gt;query(\&quot;$query\&quot;)&quot;;

		// If we're writing to the database, make sure the query will write safely.
		if ( $this-&gt;check_current_query &amp;&amp; ! $this-&gt;check_ascii( $query ) ) {
			$stripped_query = $this-&gt;strip_invalid_text_from_query( $query );
			// strip_invalid_text_from_query() can perform queries, so we need
			// to flush again, just to make sure everything is clear.
			$this-&gt;flush();
			if ( $stripped_query !== $query ) {
				$this-&gt;insert_id  = 0;
				$this-&gt;last_query = $query;

				wp_load_translations_early();

				$this-&gt;last_error = __( 'WordPress database error: Could not perform query because it contains invalid data.' );

				return false;
			}
		}

		$this-&gt;check_current_query = true;

		// Keep track of the last query for debug.
		$this-&gt;last_query = $query;

		$this-&gt;_do_query( $query );

		// Database server has gone away, try to reconnect.
		$mysql_errno = 0;
		if ( ! empty( $this-&gt;dbh ) ) {
			if ( $this-&gt;use_mysqli ) {
				if ( $this-&gt;dbh instanceof mysqli ) {
					$mysql_errno = mysqli_errno( $this-&gt;dbh );
				} else {
					// $dbh is defined, but isn't a real connection.
					// Something has gone horribly wrong, let's try a reconnect.
					$mysql_errno = 2006;
				}
			} else {
				if ( is_resource( $this-&gt;dbh ) ) {
					$mysql_errno = mysql_errno( $this-&gt;dbh );
				} else {
					$mysql_errno = 2006;
				}
			}
		}

		if ( empty( $this-&gt;dbh ) || 2006 === $mysql_errno ) {
			if ( $this-&gt;check_connection() ) {
				$this-&gt;_do_query( $query );
			} else {
				$this-&gt;insert_id = 0;
				return false;
			}
		}

		// If there is an error then take note of it.
		if ( $this-&gt;use_mysqli ) {
			if ( $this-&gt;dbh instanceof mysqli ) {
				$this-&gt;last_error = mysqli_error( $this-&gt;dbh );
			} else {
				$this-&gt;last_error = __( 'Unable to retrieve the error message from MySQL' );
			}
		} else {
			if ( is_resource( $this-&gt;dbh ) ) {
				$this-&gt;last_error = mysql_error( $this-&gt;dbh );
			} else {
				$this-&gt;last_error = __( 'Unable to retrieve the error message from MySQL' );
			}
		}

		if ( $this-&gt;last_error ) {
			// Clear insert_id on a subsequent failed insert.
			if ( $this-&gt;insert_id &amp;&amp; preg_match( '/^\s*(insert|replace)\s/i', $query ) ) {
				$this-&gt;insert_id = 0;
			}

			$this-&gt;print_error();
			return false;
		}

		if ( preg_match( '/^\s*(create|alter|truncate|drop)\s/i', $query ) ) {
			$return_val = $this-&gt;result;
		} elseif ( preg_match( '/^\s*(insert|delete|update|replace)\s/i', $query ) ) {
			if ( $this-&gt;use_mysqli ) {
				$this-&gt;rows_affected = mysqli_affected_rows( $this-&gt;dbh );
			} else {
				$this-&gt;rows_affected = mysql_affected_rows( $this-&gt;dbh );
			}
			// Take note of the insert_id.
			if ( preg_match( '/^\s*(insert|replace)\s/i', $query ) ) {
				if ( $this-&gt;use_mysqli ) {
					$this-&gt;insert_id = mysqli_insert_id( $this-&gt;dbh );
				} else {
					$this-&gt;insert_id = mysql_insert_id( $this-&gt;dbh );
				}
			}
			// Return number of rows affected.
			$return_val = $this-&gt;rows_affected;
		} else {
			$num_rows = 0;
			if ( $this-&gt;use_mysqli &amp;&amp; $this-&gt;result instanceof mysqli_result ) {
				while ( $row = mysqli_fetch_object( $this-&gt;result ) ) {
					$this-&gt;last_result[ $num_rows ] = $row;
					$num_rows++;
				}
			} elseif ( is_resource( $this-&gt;result ) ) {
				while ( $row = mysql_fetch_object( $this-&gt;result ) ) {
					$this-&gt;last_result[ $num_rows ] = $row;
					$num_rows++;
				}
			}

			// Log and return the number of rows selected.
			$this-&gt;num_rows = $num_rows;
			$return_val     = $num_rows;
		}

		return $return_val;
	}

	/**
	 * Internal function to perform the mysql_query() call.
	 *
	 * @since 3.9.0
	 *
	 * @see wpdb::query()
	 *
	 * @param string $query The query to run.
	 */
	private function _do_query( $query ) {
		if ( defined( 'SAVEQUERIES' ) &amp;&amp; SAVEQUERIES ) {
			$this-&gt;timer_start();
		}

		if ( ! empty( $this-&gt;dbh ) &amp;&amp; $this-&gt;use_mysqli ) {
			$this-&gt;result = mysqli_query( $this-&gt;dbh, $query );
		} elseif ( ! empty( $this-&gt;dbh ) ) {
			$this-&gt;result = mysql_query( $query, $this-&gt;dbh );
		}
		$this-&gt;num_queries++;

		if ( defined( 'SAVEQUERIES' ) &amp;&amp; SAVEQUERIES ) {
			$this-&gt;log_query(
				$query,
				$this-&gt;timer_stop(),
				$this-&gt;get_caller(),
				$this-&gt;time_start,
				array()
			);
		}
	}

	/**
	 * Logs query data.
	 *
	 * @since 5.3.0
	 *
	 * @param string $query           The query's SQL.
	 * @param float  $query_time      Total time spent on the query, in seconds.
	 * @param string $query_callstack Comma-separated list of the calling functions.
	 * @param float  $query_start     Unix timestamp of the time at the start of the query.
	 * @param array  $query_data      Custom query data.
	 */
	public function log_query( $query, $query_time, $query_callstack, $query_start, $query_data ) {
		/**
		 * Filters the custom data to log alongside a query.
		 *
		 * Caution should be used when modifying any of this data, it is recommended that any additional
		 * information you need to store about a query be added as a new associative array element.
		 *
		 * @since 5.3.0
		 *
		 * @param array  $query_data      Custom query data.
		 * @param string $query           The query's SQL.
		 * @param float  $query_time      Total time spent on the query, in seconds.
		 * @param string $query_callstack Comma-separated list of the calling functions.
		 * @param float  $query_start     Unix timestamp of the time at the start of the query.
		 */
		$query_data = apply_filters( 'log_query_custom_data', $query_data, $query, $query_time, $query_callstack, $query_start );

		$this-&gt;queries[] = array(
			$query,
			$query_time,
			$query_callstack,
			$query_start,
			$query_data,
		);
	}

	/**
	 * Generates and returns a placeholder escape string for use in queries returned by ::prepare().
	 *
	 * @since 4.8.3
	 *
	 * @return string String to escape placeholders.
	 */
	public function placeholder_escape() {
		static $placeholder;

		if ( ! $placeholder ) {
			// If ext/hash is not present, compat.php's hash_hmac() does not support sha256.
			$algo = function_exists( 'hash' ) ? 'sha256' : 'sha1';
			// Old WP installs may not have AUTH_SALT defined.
			$salt = defined( 'AUTH_SALT' ) &amp;&amp; AUTH_SALT ? AUTH_SALT : (string) rand();

			$placeholder = '{' . hash_hmac( $algo, uniqid( $salt, true ), $salt ) . '}';
		}

		/*
		 * Add the filter to remove the placeholder escaper. Uses priority 0, so that anything
		 * else attached to this filter will receive the query with the placeholder string removed.
		 */
		if ( false === has_filter( 'query', array( $this, 'remove_placeholder_escape' ) ) ) {
			add_filter( 'query', array( $this, 'remove_placeholder_escape' ), 0 );
		}

		return $placeholder;
	}

	/**
	 * Adds a placeholder escape string, to escape anything that resembles a printf() placeholder.
	 *
	 * @since 4.8.3
	 *
	 * @param string $query The query to escape.
	 * @return string The query with the placeholder escape string inserted where necessary.
	 */
	public function add_placeholder_escape( $query ) {
		/*
		 * To prevent returning anything that even vaguely resembles a placeholder,
		 * we clobber every % we can find.
		 */
		return str_replace( '%', $this-&gt;placeholder_escape(), $query );
	}

	/**
	 * Removes the placeholder escape strings from a query.
	 *
	 * @since 4.8.3
	 *
	 * @param string $query The query from which the placeholder will be removed.
	 * @return string The query with the placeholder removed.
	 */
	public function remove_placeholder_escape( $query ) {
		return str_replace( $this-&gt;placeholder_escape(), '%', $query );
	}

	/**
	 * Inserts a row into the table.
	 *
	 * Examples:
	 *
	 *     wpdb::insert( 'table', array( 'column' =&gt; 'foo', 'field' =&gt; 'bar' ) )
	 *     wpdb::insert( 'table', array( 'column' =&gt; 'foo', 'field' =&gt; 1337 ), array( '%s', '%d' ) )
	 *
	 * @since 2.5.0
	 *
	 * @see wpdb::prepare()
	 * @see wpdb::$field_types
	 * @see wp_set_wpdb_vars()
	 *
	 * @param string       $table  Table name.
	 * @param array        $data   Data to insert (in column =&gt; value pairs).
	 *                             Both $data columns and $data values should be &quot;raw&quot; (neither should be SQL escaped).
	 *                             Sending a null value will cause the column to be set to NULL - the corresponding
	 *                             format is ignored in this case.
	 * @param array|string $format Optional. An array of formats to be mapped to each of the value in $data.
	 *                             If string, that format will be used for all of the values in $data.
	 *                             A format is one of '%d', '%f', '%s' (integer, float, string).
	 *                             If omitted, all values in $data will be treated as strings unless otherwise
	 *                             specified in wpdb::$field_types.
	 * @return int|false The number of rows inserted, or false on error.
	 */
	public function insert( $table, $data, $format = null ) {
		return $this-&gt;_insert_replace_helper( $table, $data, $format, 'INSERT' );
	}

	/**
	 * Replaces a row in the table.
	 *
	 * Examples:
	 *
	 *     wpdb::replace( 'table', array( 'column' =&gt; 'foo', 'field' =&gt; 'bar' ) )
	 *     wpdb::replace( 'table', array( 'column' =&gt; 'foo', 'field' =&gt; 1337 ), array( '%s', '%d' ) )
	 *
	 * @since 3.0.0
	 *
	 * @see wpdb::prepare()
	 * @see wpdb::$field_types
	 * @see wp_set_wpdb_vars()
	 *
	 * @param string       $table  Table name.
	 * @param array        $data   Data to insert (in column =&gt; value pairs).
	 *                             Both $data columns and $data values should be &quot;raw&quot; (neither should be SQL escaped).
	 *                             Sending a null value will cause the column to be set to NULL - the corresponding
	 *                             format is ignored in this case.
	 * @param array|string $format Optional. An array of formats to be mapped to each of the value in $data.
	 *                             If string, that format will be used for all of the values in $data.
	 *                             A format is one of '%d', '%f', '%s' (integer, float, string).
	 *                             If omitted, all values in $data will be treated as strings unless otherwise
	 *                             specified in wpdb::$field_types.
	 * @return int|false The number of rows affected, or false on error.
	 */
	public function replace( $table, $data, $format = null ) {
		return $this-&gt;_insert_replace_helper( $table, $data, $format, 'REPLACE' );
	}

	/**
	 * Helper function for insert and replace.
	 *
	 * Runs an insert or replace query based on $type argument.
	 *
	 * @since 3.0.0
	 *
	 * @see wpdb::prepare()
	 * @see wpdb::$field_types
	 * @see wp_set_wpdb_vars()
	 *
	 * @param string       $table  Table name.
	 * @param array        $data   Data to insert (in column =&gt; value pairs).
	 *                             Both $data columns and $data values should be &quot;raw&quot; (neither should be SQL escaped).
	 *                             Sending a null value will cause the column to be set to NULL - the corresponding
	 *                             format is ignored in this case.
	 * @param array|string $format Optional. An array of formats to be mapped to each of the value in $data.
	 *                             If string, that format will be used for all of the values in $data.
	 *                             A format is one of '%d', '%f', '%s' (integer, float, string).
	 *                             If omitted, all values in $data will be treated as strings unless otherwise
	 *                             specified in wpdb::$field_types.
	 * @param string       $type   Optional. Type of operation. Possible values include 'INSERT' or 'REPLACE'.
	 *                             Default 'INSERT'.
	 * @return int|false The number of rows affected, or false on error.
	 */
	public function _insert_replace_helper( $table, $data, $format = null, $type = 'INSERT' ) {
		$this-&gt;insert_id = 0;

		if ( ! in_array( strtoupper( $type ), array( 'REPLACE', 'INSERT' ), true ) ) {
			return false;
		}

		$data = $this-&gt;process_fields( $table, $data, $format );
		if ( false === $data ) {
			return false;
		}

		$formats = array();
		$values  = array();
		foreach ( $data as $value ) {
			if ( is_null( $value['value'] ) ) {
				$formats[] = 'NULL';
				continue;
			}

			$formats[] = $value['format'];
			$values[]  = $value['value'];
		}

		$fields  = '`' . implode( '`, `', array_keys( $data ) ) . '`';
		$formats = implode( ', ', $formats );

		$sql = &quot;$type INTO `$table` ($fields) VALUES ($formats)&quot;;

		$this-&gt;check_current_query = false;
		return $this-&gt;query( $this-&gt;prepare( $sql, $values ) );
	}

	/**
	 * Updates a row in the table.
	 *
	 * Examples:
	 *
	 *     wpdb::update( 'table', array( 'column' =&gt; 'foo', 'field' =&gt; 'bar' ), array( 'ID' =&gt; 1 ) )
	 *     wpdb::update( 'table', array( 'column' =&gt; 'foo', 'field' =&gt; 1337 ), array( 'ID' =&gt; 1 ), array( '%s', '%d' ), array( '%d' ) )
	 *
	 * @since 2.5.0
	 *
	 * @see wpdb::prepare()
	 * @see wpdb::$field_types
	 * @see wp_set_wpdb_vars()
	 *
	 * @param string       $table        Table name.
	 * @param array        $data         Data to update (in column =&gt; value pairs).
	 *                                   Both $data columns and $data values should be &quot;raw&quot; (neither should be SQL escaped).
	 *                                   Sending a null value will cause the column to be set to NULL - the corresponding
	 *                                   format is ignored in this case.
	 * @param array        $where        A named array of WHERE clauses (in column =&gt; value pairs).
	 *                                   Multiple clauses will be joined with ANDs.
	 *                                   Both $where columns and $where values should be &quot;raw&quot;.
	 *                                   Sending a null value will create an IS NULL comparison - the corresponding
	 *                                   format will be ignored in this case.
	 * @param array|string $format       Optional. An array of formats to be mapped to each of the values in $data.
	 *                                   If string, that format will be used for all of the values in $data.
	 *                                   A format is one of '%d', '%f', '%s' (integer, float, string).
	 *                                   If omitted, all values in $data will be treated as strings unless otherwise
	 *                                   specified in wpdb::$field_types.
	 * @param array|string $where_format Optional. An array of formats to be mapped to each of the values in $where.
	 *                                   If string, that format will be used for all of the items in $where.
	 *                                   A format is one of '%d', '%f', '%s' (integer, float, string).
	 *                                   If omitted, all values in $where will be treated as strings.
	 * @return int|false The number of rows updated, or false on error.
	 */
	public function update( $table, $data, $where, $format = null, $where_format = null ) {
		if ( ! is_array( $data ) || ! is_array( $where ) ) {
			return false;
		}

		$data = $this-&gt;process_fields( $table, $data, $format );
		if ( false === $data ) {
			return false;
		}
		$where = $this-&gt;process_fields( $table, $where, $where_format );
		if ( false === $where ) {
			return false;
		}

		$fields     = array();
		$conditions = array();
		$values     = array();
		foreach ( $data as $field =&gt; $value ) {
			if ( is_null( $value['value'] ) ) {
				$fields[] = &quot;`$field` = NULL&quot;;
				continue;
			}

			$fields[] = &quot;`$field` = &quot; . $value['format'];
			$values[] = $value['value'];
		}
		foreach ( $where as $field =&gt; $value ) {
			if ( is_null( $value['value'] ) ) {
				$conditions[] = &quot;`$field` IS NULL&quot;;
				continue;
			}

			$conditions[] = &quot;`$field` = &quot; . $value['format'];
			$values[]     = $value['value'];
		}

		$fields     = implode( ', ', $fields );
		$conditions = implode( ' AND ', $conditions );

		$sql = &quot;UPDATE `$table` SET $fields WHERE $conditions&quot;;

		$this-&gt;check_current_query = false;
		return $this-&gt;query( $this-&gt;prepare( $sql, $values ) );
	}

	/**
	 * Deletes a row in the table.
	 *
	 * Examples:
	 *
	 *     wpdb::delete( 'table', array( 'ID' =&gt; 1 ) )
	 *     wpdb::delete( 'table', array( 'ID' =&gt; 1 ), array( '%d' ) )
	 *
	 * @since 3.4.0
	 *
	 * @see wpdb::prepare()
	 * @see wpdb::$field_types
	 * @see wp_set_wpdb_vars()
	 *
	 * @param string       $table        Table name.
	 * @param array        $where        A named array of WHERE clauses (in column =&gt; value pairs).
	 *                                   Multiple clauses will be joined with ANDs.
	 *                                   Both $where columns and $where values should be &quot;raw&quot;.
	 *                                   Sending a null value will create an IS NULL comparison - the corresponding
	 *                                   format will be ignored in this case.
	 * @param array|string $where_format Optional. An array of formats to be mapped to each of the values in $where.
	 *                                   If string, that format will be used for all of the items in $where.
	 *                                   A format is one of '%d', '%f', '%s' (integer, float, string).
	 *                                   If omitted, all values in $data will be treated as strings unless otherwise
	 *                                   specified in wpdb::$field_types.
	 * @return int|false The number of rows updated, or false on error.
	 */
	public function delete( $table, $where, $where_format = null ) {
		if ( ! is_array( $where ) ) {
			return false;
		}

		$where = $this-&gt;process_fields( $table, $where, $where_format );
		if ( false === $where ) {
			return false;
		}

		$conditions = array();
		$values     = array();
		foreach ( $where as $field =&gt; $value ) {
			if ( is_null( $value['value'] ) ) {
				$conditions[] = &quot;`$field` IS NULL&quot;;
				continue;
			}

			$conditions[] = &quot;`$field` = &quot; . $value['format'];
			$values[]     = $value['value'];
		}

		$conditions = implode( ' AND ', $conditions );

		$sql = &quot;DELETE FROM `$table` WHERE $conditions&quot;;

		$this-&gt;check_current_query = false;
		return $this-&gt;query( $this-&gt;prepare( $sql, $values ) );
	}

	/**
	 * Processes arrays of field/value pairs and field formats.
	 *
	 * This is a helper method for wpdb's CRUD methods, which take field/value pairs
	 * for inserts, updates, and where clauses. This method first pairs each value
	 * with a format. Then it determines the charset of that field, using that
	 * to determine if any invalid text would be stripped. If text is stripped,
	 * then field processing is rejected and the query fails.
	 *
	 * @since 4.2.0
	 *
	 * @param string $table  Table name.
	 * @param array  $data   Field/value pair.
	 * @param mixed  $format Format for each field.
	 * @return array|false An array of fields that contain paired value and formats.
	 *                     False for invalid values.
	 */
	protected function process_fields( $table, $data, $format ) {
		$data = $this-&gt;process_field_formats( $data, $format );
		if ( false === $data ) {
			return false;
		}

		$data = $this-&gt;process_field_charsets( $data, $table );
		if ( false === $data ) {
			return false;
		}

		$data = $this-&gt;process_field_lengths( $data, $table );
		if ( false === $data ) {
			return false;
		}

		$converted_data = $this-&gt;strip_invalid_text( $data );

		if ( $data !== $converted_data ) {

			$problem_fields = array();
			foreach ( $data as $field =&gt; $value ) {
				if ( $value !== $converted_data[ $field ] ) {
					$problem_fields[] = $field;
				}
			}

			wp_load_translations_early();

			if ( 1 === count( $problem_fields ) ) {
				$this-&gt;last_error = sprintf(
					/* translators: %s: Database field where the error occurred. */
					__( 'WordPress database error: Processing the value for the following field failed: %s. The supplied value may be too long or contains invalid data.' ),
					reset( $problem_fields )
				);
			} else {
				$this-&gt;last_error = sprintf(
					/* translators: %s: Database fields where the error occurred. */
					__( 'WordPress database error: Processing the values for the following fields failed: %s. The supplied values may be too long or contain invalid data.' ),
					implode( ', ', $problem_fields )
				);
			}

			return false;
		}

		return $data;
	}

	/**
	 * Prepares arrays of value/format pairs as passed to wpdb CRUD methods.
	 *
	 * @since 4.2.0
	 *
	 * @param array $data   Array of fields to values.
	 * @param mixed $format Formats to be mapped to the values in $data.
	 * @return array Array, keyed by field names with values being an array
	 *               of 'value' and 'format' keys.
	 */
	protected function process_field_formats( $data, $format ) {
		$formats          = (array) $format;
		$original_formats = $formats;

		foreach ( $data as $field =&gt; $value ) {
			$value = array(
				'value'  =&gt; $value,
				'format' =&gt; '%s',
			);

			if ( ! empty( $format ) ) {
				$value['format'] = array_shift( $formats );
				if ( ! $value['format'] ) {
					$value['format'] = reset( $original_formats );
				}
			} elseif ( isset( $this-&gt;field_types[ $field ] ) ) {
				$value['format'] = $this-&gt;field_types[ $field ];
			}

			$data[ $field ] = $value;
		}

		return $data;
	}

	/**
	 * Adds field charsets to field/value/format arrays generated by wpdb::process_field_formats().
	 *
	 * @since 4.2.0
	 *
	 * @param array  $data  As it comes from the wpdb::process_field_formats() method.
	 * @param string $table Table name.
	 * @return array|false The same array as $data with additional 'charset' keys.
	 *                     False on failure.
	 */
	protected function process_field_charsets( $data, $table ) {
		foreach ( $data as $field =&gt; $value ) {
			if ( '%d' === $value['format'] || '%f' === $value['format'] ) {
				/*
				 * We can skip this field if we know it isn't a string.
				 * This checks %d/%f versus ! %s because its sprintf() could take more.
				 */
				$value['charset'] = false;
			} else {
				$value['charset'] = $this-&gt;get_col_charset( $table, $field );
				if ( is_wp_error( $value['charset'] ) ) {
					return false;
				}
			}

			$data[ $field ] = $value;
		}

		return $data;
	}

	/**
	 * For string fields, records the maximum string length that field can safely save.
	 *
	 * @since 4.2.1
	 *
	 * @param array  $data  As it comes from the wpdb::process_field_charsets() method.
	 * @param string $table Table name.
	 * @return array|false The same array as $data with additional 'length' keys, or false if
	 *                     any of the values were too long for their corresponding field.
	 */
	protected function process_field_lengths( $data, $table ) {
		foreach ( $data as $field =&gt; $value ) {
			if ( '%d' === $value['format'] || '%f' === $value['format'] ) {
				/*
				 * We can skip this field if we know it isn't a string.
				 * This checks %d/%f versus ! %s because its sprintf() could take more.
				 */
				$value['length'] = false;
			} else {
				$value['length'] = $this-&gt;get_col_length( $table, $field );
				if ( is_wp_error( $value['length'] ) ) {
					return false;
				}
			}

			$data[ $field ] = $value;
		}

		return $data;
	}

	/**
	 * Retrieves one variable from the database.
	 *
	 * Executes a SQL query and returns the value from the SQL result.
	 * If the SQL result contains more than one column and/or more than one row,
	 * the value in the column and row specified is returned. If $query is null,
	 * the value in the specified column and row from the previous SQL result is returned.
	 *
	 * @since 0.71
	 *
	 * @param string|null $query Optional. SQL query. Defaults to null, use the result from the previous query.
	 * @param int         $x     Optional. Column of value to return. Indexed from 0.
	 * @param int         $y     Optional. Row of value to return. Indexed from 0.
	 * @return string|null Database query result (as string), or null on failure.
	 */
	public function get_var( $query = null, $x = 0, $y = 0 ) {
		$this-&gt;func_call = &quot;\$db-&gt;get_var(\&quot;$query\&quot;, $x, $y)&quot;;

		if ( $query ) {
			if ( $this-&gt;check_current_query &amp;&amp; $this-&gt;check_safe_collation( $query ) ) {
				$this-&gt;check_current_query = false;
			}

			$this-&gt;query( $query );
		}

		// Extract var out of cached results based on x,y vals.
		if ( ! empty( $this-&gt;last_result[ $y ] ) ) {
			$values = array_values( get_object_vars( $this-&gt;last_result[ $y ] ) );
		}

		// If there is a value return it, else return null.
		return ( isset( $values[ $x ] ) &amp;&amp; '' !== $values[ $x ] ) ? $values[ $x ] : null;
	}

	/**
	 * Retrieves one row from the database.
	 *
	 * Executes a SQL query and returns the row from the SQL result.
	 *
	 * @since 0.71
	 *
	 * @param string|null $query  SQL query.
	 * @param string      $output Optional. The required return type. One of OBJECT, ARRAY_A, or ARRAY_N, which
	 *                            correspond to an stdClass object, an associative array, or a numeric array,
	 *                            respectively. Default OBJECT.
	 * @param int         $y      Optional. Row to return. Indexed from 0.
	 * @return array|object|null|void Database query result in format specified by $output or null on failure.
	 */
	public function get_row( $query = null, $output = OBJECT, $y = 0 ) {
		$this-&gt;func_call = &quot;\$db-&gt;get_row(\&quot;$query\&quot;,$output,$y)&quot;;

		if ( $query ) {
			if ( $this-&gt;check_current_query &amp;&amp; $this-&gt;check_safe_collation( $query ) ) {
				$this-&gt;check_current_query = false;
			}

			$this-&gt;query( $query );
		} else {
			return null;
		}

		if ( ! isset( $this-&gt;last_result[ $y ] ) ) {
			return null;
		}

		if ( OBJECT === $output ) {
			return $this-&gt;last_result[ $y ] ? $this-&gt;last_result[ $y ] : null;
		} elseif ( ARRAY_A === $output ) {
			return $this-&gt;last_result[ $y ] ? get_object_vars( $this-&gt;last_result[ $y ] ) : null;
		} elseif ( ARRAY_N === $output ) {
			return $this-&gt;last_result[ $y ] ? array_values( get_object_vars( $this-&gt;last_result[ $y ] ) ) : null;
		} elseif ( OBJECT === strtoupper( $output ) ) {
			// Back compat for OBJECT being previously case-insensitive.
			return $this-&gt;last_result[ $y ] ? $this-&gt;last_result[ $y ] : null;
		} else {
			$this-&gt;print_error( ' $db-&gt;get_row(string query, output type, int offset) -- Output type must be one of: OBJECT, ARRAY_A, ARRAY_N' );
		}
	}

	/**
	 * Retrieves one column from the database.
	 *
	 * Executes a SQL query and returns the column from the SQL result.
	 * If the SQL result contains more than one column, the column specified is returned.
	 * If $query is null, the specified column from the previous SQL result is returned.
	 *
	 * @since 0.71
	 *
	 * @param string|null $query Optional. SQL query. Defaults to previous query.
	 * @param int         $x     Optional. Column to return. Indexed from 0.
	 * @return array Database query result. Array indexed from 0 by SQL result row number.
	 */
	public function get_col( $query = null, $x = 0 ) {
		if ( $query ) {
			if ( $this-&gt;check_current_query &amp;&amp; $this-&gt;check_safe_collation( $query ) ) {
				$this-&gt;check_current_query = false;
			}

			$this-&gt;query( $query );
		}

		$new_array = array();
		// Extract the column values.
		if ( $this-&gt;last_result ) {
			for ( $i = 0, $j = count( $this-&gt;last_result ); $i &lt; $j; $i++ ) {
				$new_array[ $i ] = $this-&gt;get_var( null, $x, $i );
			}
		}
		return $new_array;
	}

	/**
	 * Retrieves an entire SQL result set from the database (i.e., many rows).
	 *
	 * Executes a SQL query and returns the entire SQL result.
	 *
	 * @since 0.71
	 *
	 * @param string $query  SQL query.
	 * @param string $output Optional. Any of ARRAY_A | ARRAY_N | OBJECT | OBJECT_K constants.
	 *                       With one of the first three, return an array of rows indexed
	 *                       from 0 by SQL result row number. Each row is an associative array
	 *                       (column =&gt; value, ...), a numerically indexed array (0 =&gt; value, ...),
	 *                       or an object ( -&gt;column = value ), respectively. With OBJECT_K,
	 *                       return an associative array of row objects keyed by the value
	 *                       of each row's first column's value. Duplicate keys are discarded.
	 * @return array|object|null Database query results.
	 */
	public function get_results( $query = null, $output = OBJECT ) {
		$this-&gt;func_call = &quot;\$db-&gt;get_results(\&quot;$query\&quot;, $output)&quot;;

		if ( $query ) {
			if ( $this-&gt;check_current_query &amp;&amp; $this-&gt;check_safe_collation( $query ) ) {
				$this-&gt;check_current_query = false;
			}

			$this-&gt;query( $query );
		} else {
			return null;
		}

		$new_array = array();
		if ( OBJECT === $output ) {
			// Return an integer-keyed array of row objects.
			return $this-&gt;last_result;
		} elseif ( OBJECT_K === $output ) {
			// Return an array of row objects with keys from column 1.
			// (Duplicates are discarded.)
			if ( $this-&gt;last_result ) {
				foreach ( $this-&gt;last_result as $row ) {
					$var_by_ref = get_object_vars( $row );
					$key        = array_shift( $var_by_ref );
					if ( ! isset( $new_array[ $key ] ) ) {
						$new_array[ $key ] = $row;
					}
				}
			}
			return $new_array;
		} elseif ( ARRAY_A === $output || ARRAY_N === $output ) {
			// Return an integer-keyed array of...
			if ( $this-&gt;last_result ) {
				foreach ( (array) $this-&gt;last_result as $row ) {
					if ( ARRAY_N === $output ) {
						// ...integer-keyed row arrays.
						$new_array[] = array_values( get_object_vars( $row ) );
					} else {
						// ...column name-keyed row arrays.
						$new_array[] = get_object_vars( $row );
					}
				}
			}
			return $new_array;
		} elseif ( strtoupper( $output ) === OBJECT ) {
			// Back compat for OBJECT being previously case-insensitive.
			return $this-&gt;last_result;
		}
		return null;
	}

	/**
	 * Retrieves the character set for the given table.
	 *
	 * @since 4.2.0
	 *
	 * @param string $table Table name.
	 * @return string|WP_Error Table character set, WP_Error object if it couldn't be found.
	 */
	protected function get_table_charset( $table ) {
		$tablekey = strtolower( $table );

		/**
		 * Filters the table charset value before the DB is checked.
		 *
		 * Returning a non-null value from the filter will effectively short-circuit
		 * checking the DB for the charset, returning that value instead.
		 *
		 * @since 4.2.0
		 *
		 * @param string|WP_Error|null $charset The character set to use, WP_Error object
		 *                                      if it couldn't be found. Default null.
		 * @param string               $table   The name of the table being checked.
		 */
		$charset = apply_filters( 'pre_get_table_charset', null, $table );
		if ( null !== $charset ) {
			return $charset;
		}

		if ( isset( $this-&gt;table_charset[ $tablekey ] ) ) {
			return $this-&gt;table_charset[ $tablekey ];
		}

		$charsets = array();
		$columns  = array();

		$table_parts = explode( '.', $table );
		$table       = '`' . implode( '`.`', $table_parts ) . '`';
		$results     = $this-&gt;get_results( &quot;SHOW FULL COLUMNS FROM $table&quot; );
		if ( ! $results ) {
			return new WP_Error( 'wpdb_get_table_charset_failure', __( 'Could not retrieve table charset.' ) );
		}

		foreach ( $results as $column ) {
			$columns[ strtolower( $column-&gt;Field ) ] = $column;
		}

		$this-&gt;col_meta[ $tablekey ] = $columns;

		foreach ( $columns as $column ) {
			if ( ! empty( $column-&gt;Collation ) ) {
				list( $charset ) = explode( '_', $column-&gt;Collation );

				// If the current connection can't support utf8mb4 characters, let's only send 3-byte utf8 characters.
				if ( 'utf8mb4' === $charset &amp;&amp; ! $this-&gt;has_cap( 'utf8mb4' ) ) {
					$charset = 'utf8';
				}

				$charsets[ strtolower( $charset ) ] = true;
			}

			list( $type ) = explode( '(', $column-&gt;Type );

			// A binary/blob means the whole query gets treated like this.
			if ( in_array( strtoupper( $type ), array( 'BINARY', 'VARBINARY', 'TINYBLOB', 'MEDIUMBLOB', 'BLOB', 'LONGBLOB' ), true ) ) {
				$this-&gt;table_charset[ $tablekey ] = 'binary';
				return 'binary';
			}
		}

		// utf8mb3 is an alias for utf8.
		if ( isset( $charsets['utf8mb3'] ) ) {
			$charsets['utf8'] = true;
			unset( $charsets['utf8mb3'] );
		}

		// Check if we have more than one charset in play.
		$count = count( $charsets );
		if ( 1 === $count ) {
			$charset = key( $charsets );
		} elseif ( 0 === $count ) {
			// No charsets, assume this table can store whatever.
			$charset = false;
		} else {
			// More than one charset. Remove latin1 if present and recalculate.
			unset( $charsets['latin1'] );
			$count = count( $charsets );
			if ( 1 === $count ) {
				// Only one charset (besides latin1).
				$charset = key( $charsets );
			} elseif ( 2 === $count &amp;&amp; isset( $charsets['utf8'], $charsets['utf8mb4'] ) ) {
				// Two charsets, but they're utf8 and utf8mb4, use utf8.
				$charset = 'utf8';
			} else {
				// Two mixed character sets. ascii.
				$charset = 'ascii';
			}
		}

		$this-&gt;table_charset[ $tablekey ] = $charset;
		return $charset;
	}

	/**
	 * Retrieves the character set for the given column.
	 *
	 * @since 4.2.0
	 *
	 * @param string $table  Table name.
	 * @param string $column Column name.
	 * @return string|false|WP_Error Column character set as a string. False if the column has
	 *                               no character set. WP_Error object if there was an error.
	 */
	public function get_col_charset( $table, $column ) {
		$tablekey  = strtolower( $table );
		$columnkey = strtolower( $column );

		/**
		 * Filters the column charset value before the DB is checked.
		 *
		 * Passing a non-null value to the filter will short-circuit
		 * checking the DB for the charset, returning that value instead.
		 *
		 * @since 4.2.0
		 *
		 * @param string|null $charset The character set to use. Default null.
		 * @param string      $table   The name of the table being checked.
		 * @param string      $column  The name of the column being checked.
		 */
		$charset = apply_filters( 'pre_get_col_charset', null, $table, $column );
		if ( null !== $charset ) {
			return $charset;
		}

		// Skip this entirely if this isn't a MySQL database.
		if ( empty( $this-&gt;is_mysql ) ) {
			return false;
		}

		if ( empty( $this-&gt;table_charset[ $tablekey ] ) ) {
			// This primes column information for us.
			$table_charset = $this-&gt;get_table_charset( $table );
			if ( is_wp_error( $table_charset ) ) {
				return $table_charset;
			}
		}

		// If still no column information, return the table charset.
		if ( empty( $this-&gt;col_meta[ $tablekey ] ) ) {
			return $this-&gt;table_charset[ $tablekey ];
		}

		// If this column doesn't exist, return the table charset.
		if ( empty( $this-&gt;col_meta[ $tablekey ][ $columnkey ] ) ) {
			return $this-&gt;table_charset[ $tablekey ];
		}

		// Return false when it's not a string column.
		if ( empty( $this-&gt;col_meta[ $tablekey ][ $columnkey ]-&gt;Collation ) ) {
			return false;
		}

		list( $charset ) = explode( '_', $this-&gt;col_meta[ $tablekey ][ $columnkey ]-&gt;Collation );
		return $charset;
	}

	/**
	 * Retrieves the maximum string length allowed in a given column.
	 *
	 * The length may either be specified as a byte length or a character length.
	 *
	 * @since 4.2.1
	 *
	 * @param string $table  Table name.
	 * @param string $column Column name.
	 * @return array|false|WP_Error array( 'length' =&gt; (int), 'type' =&gt; 'byte' | 'char' ).
	 *                              False if the column has no length (for example, numeric column).
	 *                              WP_Error object if there was an error.
	 */
	public function get_col_length( $table, $column ) {
		$tablekey  = strtolower( $table );
		$columnkey = strtolower( $column );

		// Skip this entirely if this isn't a MySQL database.
		if ( empty( $this-&gt;is_mysql ) ) {
			return false;
		}

		if ( empty( $this-&gt;col_meta[ $tablekey ] ) ) {
			// This primes column information for us.
			$table_charset = $this-&gt;get_table_charset( $table );
			if ( is_wp_error( $table_charset ) ) {
				return $table_charset;
			}
		}

		if ( empty( $this-&gt;col_meta[ $tablekey ][ $columnkey ] ) ) {
			return false;
		}

		$typeinfo = explode( '(', $this-&gt;col_meta[ $tablekey ][ $columnkey ]-&gt;Type );

		$type = strtolower( $typeinfo[0] );
		if ( ! empty( $typeinfo[1] ) ) {
			$length = trim( $typeinfo[1], ')' );
		} else {
			$length = false;
		}

		switch ( $type ) {
			case 'char':
			case 'varchar':
				return array(
					'type'   =&gt; 'char',
					'length' =&gt; (int) $length,
				);

			case 'binary':
			case 'varbinary':
				return array(
					'type'   =&gt; 'byte',
					'length' =&gt; (int) $length,
				);

			case 'tinyblob':
			case 'tinytext':
				return array(
					'type'   =&gt; 'byte',
					'length' =&gt; 255,        // 2^8 - 1
				);

			case 'blob':
			case 'text':
				return array(
					'type'   =&gt; 'byte',
					'length' =&gt; 65535,      // 2^16 - 1
				);

			case 'mediumblob':
			case 'mediumtext':
				return array(
					'type'   =&gt; 'byte',
					'length' =&gt; 16777215,   // 2^24 - 1
				);

			case 'longblob':
			case 'longtext':
				return array(
					'type'   =&gt; 'byte',
					'length' =&gt; 4294967295, // 2^32 - 1
				);

			default:
				return false;
		}
	}

	/**
	 * Checks if a string is ASCII.
	 *
	 * The negative regex is faster for non-ASCII strings, as it allows
	 * the search to finish as soon as it encounters a non-ASCII character.
	 *
	 * @since 4.2.0
	 *
	 * @param string $string String to check.
	 * @return bool True if ASCII, false if not.
	 */
	protected function check_ascii( $string ) {
		if ( function_exists( 'mb_check_encoding' ) ) {
			if ( mb_check_encoding( $string, 'ASCII' ) ) {
				return true;
			}
		} elseif ( ! preg_match( '/[^\x00-\x7F]/', $string ) ) {
			return true;
		}

		return false;
	}

	/**
	 * Checks if the query is accessing a collation considered safe on the current version of MySQL.
	 *
	 * @since 4.2.0
	 *
	 * @param string $query The query to check.
	 * @return bool True if the collation is safe, false if it isn't.
	 */
	protected function check_safe_collation( $query ) {
		if ( $this-&gt;checking_collation ) {
			return true;
		}

		// We don't need to check the collation for queries that don't read data.
		$query = ltrim( $query, &quot;\r\n\t (&quot; );
		if ( preg_match( '/^(?:SHOW|DESCRIBE|DESC|EXPLAIN|CREATE)\s/i', $query ) ) {
			return true;
		}

		// All-ASCII queries don't need extra checking.
		if ( $this-&gt;check_ascii( $query ) ) {
			return true;
		}

		$table = $this-&gt;get_table_from_query( $query );
		if ( ! $table ) {
			return false;
		}

		$this-&gt;checking_collation = true;
		$collation                = $this-&gt;get_table_charset( $table );
		$this-&gt;checking_collation = false;

		// Tables with no collation, or latin1 only, don't need extra checking.
		if ( false === $collation || 'latin1' === $collation ) {
			return true;
		}

		$table = strtolower( $table );
		if ( empty( $this-&gt;col_meta[ $table ] ) ) {
			return false;
		}

		// If any of the columns don't have one of these collations, it needs more sanity checking.
		foreach ( $this-&gt;col_meta[ $table ] as $col ) {
			if ( empty( $col-&gt;Collation ) ) {
				continue;
			}

			if ( ! in_array( $col-&gt;Collation, array( 'utf8_general_ci', 'utf8_bin', 'utf8mb4_general_ci', 'utf8mb4_bin' ), true ) ) {
				return false;
			}
		}

		return true;
	}

	/**
	 * Strips any invalid characters based on value/charset pairs.
	 *
	 * @since 4.2.0
	 *
	 * @param array $data Array of value arrays. Each value array has the keys 'value' and 'charset'.
	 *                    An optional 'ascii' key can be set to false to avoid redundant ASCII checks.
	 * @return array|WP_Error The $data parameter, with invalid characters removed from each value.
	 *                        This works as a passthrough: any additional keys such as 'field' are
	 *                        retained in each value array. If we cannot remove invalid characters,
	 *                        a WP_Error object is returned.
	 */
	protected function strip_invalid_text( $data ) {
		$db_check_string = false;

		foreach ( $data as &amp;$value ) {
			$charset = $value['charset'];

			if ( is_array( $value['length'] ) ) {
				$length                  = $value['length']['length'];
				$truncate_by_byte_length = 'byte' === $value['length']['type'];
			} else {
				$length = false;
				// Since we have no length, we'll never truncate. Initialize the variable to false.
				// True would take us through an unnecessary (for this case) codepath below.
				$truncate_by_byte_length = false;
			}

			// There's no charset to work with.
			if ( false === $charset ) {
				continue;
			}

			// Column isn't a string.
			if ( ! is_string( $value['value'] ) ) {
				continue;
			}

			$needs_validation = true;
			if (
				// latin1 can store any byte sequence.
				'latin1' === $charset
			||
				// ASCII is always OK.
				( ! isset( $value['ascii'] ) &amp;&amp; $this-&gt;check_ascii( $value['value'] ) )
			) {
				$truncate_by_byte_length = true;
				$needs_validation        = false;
			}

			if ( $truncate_by_byte_length ) {
				mbstring_binary_safe_encoding();
				if ( false !== $length &amp;&amp; strlen( $value['value'] ) &gt; $length ) {
					$value['value'] = substr( $value['value'], 0, $length );
				}
				reset_mbstring_encoding();

				if ( ! $needs_validation ) {
					continue;
				}
			}

			// utf8 can be handled by regex, which is a bunch faster than a DB lookup.
			if ( ( 'utf8' === $charset || 'utf8mb3' === $charset || 'utf8mb4' === $charset ) &amp;&amp; function_exists( 'mb_strlen' ) ) {
				$regex = '/
					(
						(?: [\x00-\x7F]                  # single-byte sequences   0xxxxxxx
						|   [\xC2-\xDF][\x80-\xBF]       # double-byte sequences   110xxxxx 10xxxxxx
						|   \xE0[\xA0-\xBF][\x80-\xBF]   # triple-byte sequences   1110xxxx 10xxxxxx * 2
						|   [\xE1-\xEC][\x80-\xBF]{2}
						|   \xED[\x80-\x9F][\x80-\xBF]
						|   [\xEE-\xEF][\x80-\xBF]{2}';

				if ( 'utf8mb4' === $charset ) {
					$regex .= '
						|    \xF0[\x90-\xBF][\x80-\xBF]{2} # four-byte sequences   11110xxx 10xxxxxx * 3
						|    [\xF1-\xF3][\x80-\xBF]{3}
						|    \xF4[\x80-\x8F][\x80-\xBF]{2}
					';
				}

				$regex         .= '){1,40}                          # ...one or more times
					)
					| .                                  # anything else
					/x';
				$value['value'] = preg_replace( $regex, '$1', $value['value'] );

				if ( false !== $length &amp;&amp; mb_strlen( $value['value'], 'UTF-8' ) &gt; $length ) {
					$value['value'] = mb_substr( $value['value'], 0, $length, 'UTF-8' );
				}
				continue;
			}

			// We couldn't use any local conversions, send it to the DB.
			$value['db']     = true;
			$db_check_string = true;
		}
		unset( $value ); // Remove by reference.

		if ( $db_check_string ) {
			$queries = array();
			foreach ( $data as $col =&gt; $value ) {
				if ( ! empty( $value['db'] ) ) {
					// We're going to need to truncate by characters or bytes, depending on the length value we have.
					if ( isset( $value['length']['type'] ) &amp;&amp; 'byte' === $value['length']['type'] ) {
						// Using binary causes LEFT() to truncate by bytes.
						$charset = 'binary';
					} else {
						$charset = $value['charset'];
					}

					if ( $this-&gt;charset ) {
						$connection_charset = $this-&gt;charset;
					} else {
						if ( $this-&gt;use_mysqli ) {
							$connection_charset = mysqli_character_set_name( $this-&gt;dbh );
						} else {
							$connection_charset = mysql_client_encoding();
						}
					}

					if ( is_array( $value['length'] ) ) {
						$length          = sprintf( '%.0f', $value['length']['length'] );
						$queries[ $col ] = $this-&gt;prepare( &quot;CONVERT( LEFT( CONVERT( %s USING $charset ), $length ) USING $connection_charset )&quot;, $value['value'] );
					} elseif ( 'binary' !== $charset ) {
						// If we don't have a length, there's no need to convert binary - it will always return the same result.
						$queries[ $col ] = $this-&gt;prepare( &quot;CONVERT( CONVERT( %s USING $charset ) USING $connection_charset )&quot;, $value['value'] );
					}

					unset( $data[ $col ]['db'] );
				}
			}

			$sql = array();
			foreach ( $queries as $column =&gt; $query ) {
				if ( ! $query ) {
					continue;
				}

				$sql[] = $query . &quot; AS x_$column&quot;;
			}

			$this-&gt;check_current_query = false;
			$row                       = $this-&gt;get_row( 'SELECT ' . implode( ', ', $sql ), ARRAY_A );
			if ( ! $row ) {
				return new WP_Error( 'wpdb_strip_invalid_text_failure', __( 'Could not strip invalid text.' ) );
			}

			foreach ( array_keys( $data ) as $column ) {
				if ( isset( $row[ &quot;x_$column&quot; ] ) ) {
					$data[ $column ]['value'] = $row[ &quot;x_$column&quot; ];
				}
			}
		}

		return $data;
	}

	/**
	 * Strips any invalid characters from the query.
	 *
	 * @since 4.2.0
	 *
	 * @param string $query Query to convert.
	 * @return string|WP_Error The converted query, or a WP_Error object if the conversion fails.
	 */
	protected function strip_invalid_text_from_query( $query ) {
		// We don't need to check the collation for queries that don't read data.
		$trimmed_query = ltrim( $query, &quot;\r\n\t (&quot; );
		if ( preg_match( '/^(?:SHOW|DESCRIBE|DESC|EXPLAIN|CREATE)\s/i', $trimmed_query ) ) {
			return $query;
		}

		$table = $this-&gt;get_table_from_query( $query );
		if ( $table ) {
			$charset = $this-&gt;get_table_charset( $table );
			if ( is_wp_error( $charset ) ) {
				return $charset;
			}

			// We can't reliably strip text from tables containing binary/blob columns.
			if ( 'binary' === $charset ) {
				return $query;
			}
		} else {
			$charset = $this-&gt;charset;
		}

		$data = array(
			'value'   =&gt; $query,
			'charset' =&gt; $charset,
			'ascii'   =&gt; false,
			'length'  =&gt; false,
		);

		$data = $this-&gt;strip_invalid_text( array( $data ) );
		if ( is_wp_error( $data ) ) {
			return $data;
		}

		return $data[0]['value'];
	}

	/**
	 * Strips any invalid characters from the string for a given table and column.
	 *
	 * @since 4.2.0
	 *
	 * @param string $table  Table name.
	 * @param string $column Column name.
	 * @param string $value  The text to check.
	 * @return string|WP_Error The converted string, or a WP_Error object if the conversion fails.
	 */
	public function strip_invalid_text_for_column( $table, $column, $value ) {
		if ( ! is_string( $value ) ) {
			return $value;
		}

		$charset = $this-&gt;get_col_charset( $table, $column );
		if ( ! $charset ) {
			// Not a string column.
			return $value;
		} elseif ( is_wp_error( $charset ) ) {
			// Bail on real errors.
			return $charset;
		}

		$data = array(
			$column =&gt; array(
				'value'   =&gt; $value,
				'charset' =&gt; $charset,
				'length'  =&gt; $this-&gt;get_col_length( $table, $column ),
			),
		);

		$data = $this-&gt;strip_invalid_text( $data );
		if ( is_wp_error( $data ) ) {
			return $data;
		}

		return $data[ $column ]['value'];
	}

	/**
	 * Finds the first table name referenced in a query.
	 *
	 * @since 4.2.0
	 *
	 * @param string $query The query to search.
	 * @return string|false The table name found, or false if a table couldn't be found.
	 */
	protected function get_table_from_query( $query ) {
		// Remove characters that can legally trail the table name.
		$query = rtrim( $query, ';/-#' );

		// Allow (select...) union [...] style queries. Use the first query's table name.
		$query = ltrim( $query, &quot;\r\n\t (&quot; );

		// Strip everything between parentheses except nested selects.
		$query = preg_replace( '/\((?!\s*select)[^(]*?\)/is', '()', $query );

		// Quickly match most common queries.
		if ( preg_match(
			'/^\s*(?:'
				. 'SELECT.*?\s+FROM'
				. '|INSERT(?:\s+LOW_PRIORITY|\s+DELAYED|\s+HIGH_PRIORITY)?(?:\s+IGNORE)?(?:\s+INTO)?'
				. '|REPLACE(?:\s+LOW_PRIORITY|\s+DELAYED)?(?:\s+INTO)?'
				. '|UPDATE(?:\s+LOW_PRIORITY)?(?:\s+IGNORE)?'
				. '|DELETE(?:\s+LOW_PRIORITY|\s+QUICK|\s+IGNORE)*(?:.+?FROM)?'
			. ')\s+((?:[0-9a-zA-Z$_.`-]|[\xC2-\xDF][\x80-\xBF])+)/is',
			$query,
			$maybe
		) ) {
			return str_replace( '`', '', $maybe[1] );
		}

		// SHOW TABLE STATUS and SHOW TABLES WHERE Name = 'wp_posts'
		if ( preg_match( '/^\s*SHOW\s+(?:TABLE\s+STATUS|(?:FULL\s+)?TABLES).+WHERE\s+Name\s*=\s*(&quot;|\')((?:[0-9a-zA-Z$_.-]|[\xC2-\xDF][\x80-\xBF])+)\\1/is', $query, $maybe ) ) {
			return $maybe[2];
		}

		/*
		 * SHOW TABLE STATUS LIKE and SHOW TABLES LIKE 'wp\_123\_%'
		 * This quoted LIKE operand seldom holds a full table name.
		 * It is usually a pattern for matching a prefix so we just
		 * strip the trailing % and unescape the _ to get 'wp_123_'
		 * which drop-ins can use for routing these SQL statements.
		 */
		if ( preg_match( '/^\s*SHOW\s+(?:TABLE\s+STATUS|(?:FULL\s+)?TABLES)\s+(?:WHERE\s+Name\s+)?LIKE\s*(&quot;|\')((?:[\\\\0-9a-zA-Z$_.-]|[\xC2-\xDF][\x80-\xBF])+)%?\\1/is', $query, $maybe ) ) {
			return str_replace( '\\_', '_', $maybe[2] );
		}

		// Big pattern for the rest of the table-related queries.
		if ( preg_match(
			'/^\s*(?:'
				. '(?:EXPLAIN\s+(?:EXTENDED\s+)?)?SELECT.*?\s+FROM'
				. '|DESCRIBE|DESC|EXPLAIN|HANDLER'
				. '|(?:LOCK|UNLOCK)\s+TABLE(?:S)?'
				. '|(?:RENAME|OPTIMIZE|BACKUP|RESTORE|CHECK|CHECKSUM|ANALYZE|REPAIR).*\s+TABLE'
				. '|TRUNCATE(?:\s+TABLE)?'
				. '|CREATE(?:\s+TEMPORARY)?\s+TABLE(?:\s+IF\s+NOT\s+EXISTS)?'
				. '|ALTER(?:\s+IGNORE)?\s+TABLE'
				. '|DROP\s+TABLE(?:\s+IF\s+EXISTS)?'
				. '|CREATE(?:\s+\w+)?\s+INDEX.*\s+ON'
				. '|DROP\s+INDEX.*\s+ON'
				. '|LOAD\s+DATA.*INFILE.*INTO\s+TABLE'
				. '|(?:GRANT|REVOKE).*ON\s+TABLE'
				. '|SHOW\s+(?:.*FROM|.*TABLE)'
			. ')\s+\(*\s*((?:[0-9a-zA-Z$_.`-]|[\xC2-\xDF][\x80-\xBF])+)\s*\)*/is',
			$query,
			$maybe
		) ) {
			return str_replace( '`', '', $maybe[1] );
		}

		return false;
	}

	/**
	 * Loads the column metadata from the last query.
	 *
	 * @since 3.5.0
	 */
	protected function load_col_info() {
		if ( $this-&gt;col_info ) {
			return;
		}

		if ( $this-&gt;use_mysqli ) {
			$num_fields = mysqli_num_fields( $this-&gt;result );
			for ( $i = 0; $i &lt; $num_fields; $i++ ) {
				$this-&gt;col_info[ $i ] = mysqli_fetch_field( $this-&gt;result );
			}
		} else {
			$num_fields = mysql_num_fields( $this-&gt;result );
			for ( $i = 0; $i &lt; $num_fields; $i++ ) {
				$this-&gt;col_info[ $i ] = mysql_fetch_field( $this-&gt;result, $i );
			}
		}
	}

	/**
	 * Retrieves column metadata from the last query.
	 *
	 * @since 0.71
	 *
	 * @param string $info_type  Optional. Possible values include 'name', 'table', 'def', 'max_length',
	 *                           'not_null', 'primary_key', 'multiple_key', 'unique_key', 'numeric',
	 *                           'blob', 'type', 'unsigned', 'zerofill'. Default 'name'.
	 * @param int    $col_offset Optional. 0: col name. 1: which table the col's in. 2: col's max length.
	 *                           3: if the col is numeric. 4: col's type. Default -1.
	 * @return mixed Column results.
	 */
	public function get_col_info( $info_type = 'name', $col_offset = -1 ) {
		$this-&gt;load_col_info();

		if ( $this-&gt;col_info ) {
			if ( -1 === $col_offset ) {
				$i         = 0;
				$new_array = array();
				foreach ( (array) $this-&gt;col_info as $col ) {
					$new_array[ $i ] = $col-&gt;{$info_type};
					$i++;
				}
				return $new_array;
			} else {
				return $this-&gt;col_info[ $col_offset ]-&gt;{$info_type};
			}
		}
	}

	/**
	 * Starts the timer, for debugging purposes.
	 *
	 * @since 1.5.0
	 *
	 * @return true
	 */
	public function timer_start() {
		$this-&gt;time_start = microtime( true );
		return true;
	}

	/**
	 * Stops the debugging timer.
	 *
	 * @since 1.5.0
	 *
	 * @return float Total time spent on the query, in seconds.
	 */
	public function timer_stop() {
		return ( microtime( true ) - $this-&gt;time_start );
	}

	/**
	 * Wraps errors in a nice header and footer and dies.
	 *
	 * Will not die if wpdb::$show_errors is false.
	 *
	 * @since 1.5.0
	 *
	 * @param string $message    The error message.
	 * @param string $error_code Optional. A computer-readable string to identify the error.
	 *                           Default '500'.
	 * @return void|false Void if the showing of errors is enabled, false if disabled.
	 */
	public function bail( $message, $error_code = '500' ) {
		if ( $this-&gt;show_errors ) {
			$error = '';

			if ( $this-&gt;use_mysqli ) {
				if ( $this-&gt;dbh instanceof mysqli ) {
					$error = mysqli_error( $this-&gt;dbh );
				} elseif ( mysqli_connect_errno() ) {
					$error = mysqli_connect_error();
				}
			} else {
				if ( is_resource( $this-&gt;dbh ) ) {
					$error = mysql_error( $this-&gt;dbh );
				} else {
					$error = mysql_error();
				}
			}

			if ( $error ) {
				$message = '&lt;p&gt;&lt;code&gt;' . $error . &quot;&lt;/code&gt;&lt;/p&gt;\n&quot; . $message;
			}

			wp_die( $message );
		} else {
			if ( class_exists( 'WP_Error', false ) ) {
				$this-&gt;error = new WP_Error( $error_code, $message );
			} else {
				$this-&gt;error = $message;
			}

			return false;
		}
	}

	/**
	 * Closes the current database connection.
	 *
	 * @since 4.5.0
	 *
	 * @return bool True if the connection was successfully closed,
	 *              false if it wasn't, or if the connection doesn't exist.
	 */
	public function close() {
		if ( ! $this-&gt;dbh ) {
			return false;
		}

		if ( $this-&gt;use_mysqli ) {
			$closed = mysqli_close( $this-&gt;dbh );
		} else {
			$closed = mysql_close( $this-&gt;dbh );
		}

		if ( $closed ) {
			$this-&gt;dbh           = null;
			$this-&gt;ready         = false;
			$this-&gt;has_connected = false;
		}

		return $closed;
	}

	/**
	 * Determines whether MySQL database is at least the required minimum version.
	 *
	 * @since 2.5.0
	 *
	 * @global string $wp_version             The WordPress version string.
	 * @global string $required_mysql_version The required MySQL version string.
	 * @return void|WP_Error
	 */
	public function check_database_version() {
		global $wp_version, $required_mysql_version;
		// Make sure the server has the required MySQL version.
		if ( version_compare( $this-&gt;db_version(), $required_mysql_version, '&lt;' ) ) {
			/* translators: 1: WordPress version number, 2: Minimum required MySQL version number. */
			return new WP_Error( 'database_version', sprintf( __( '&lt;strong&gt;Error&lt;/strong&gt;: WordPress %1$s requires MySQL %2$s or higher' ), $wp_version, $required_mysql_version ) );
		}
	}

	/**
	 * Determines whether the database supports collation.
	 *
	 * Called when WordPress is generating the table scheme.
	 *
	 * Use `wpdb::has_cap( 'collation' )`.
	 *
	 * @since 2.5.0
	 * @deprecated 3.5.0 Use wpdb::has_cap()
	 *
	 * @return bool True if collation is supported, false if not.
	 */
	public function supports_collation() {
		_deprecated_function( __FUNCTION__, '3.5.0', 'wpdb::has_cap( \'collation\' )' );
		return $this-&gt;has_cap( 'collation' );
	}

	/**
	 * Retrieves the database character collate.
	 *
	 * @since 3.5.0
	 *
	 * @return string The database character collate.
	 */
	public function get_charset_collate() {
		$charset_collate = '';

		if ( ! empty( $this-&gt;charset ) ) {
			$charset_collate = &quot;DEFAULT CHARACTER SET $this-&gt;charset&quot;;
		}
		if ( ! empty( $this-&gt;collate ) ) {
			$charset_collate .= &quot; COLLATE $this-&gt;collate&quot;;
		}

		return $charset_collate;
	}

	/**
	 * Determines if a database supports a particular feature.
	 *
	 * @since 2.7.0
	 * @since 4.1.0 Added support for the 'utf8mb4' feature.
	 * @since 4.6.0 Added support for the 'utf8mb4_520' feature.
	 *
	 * @see wpdb::db_version()
	 *
	 * @param string $db_cap The feature to check for. Accepts 'collation', 'group_concat',
	 *                       'subqueries', 'set_charset', 'utf8mb4', or 'utf8mb4_520'.
	 * @return int|false Whether the database feature is supported, false otherwise.
	 */
	public function has_cap( $db_cap ) {
		$version = $this-&gt;db_version();

		switch ( strtolower( $db_cap ) ) {
			case 'collation':    // @since 2.5.0
			case 'group_concat': // @since 2.7.0
			case 'subqueries':   // @since 2.7.0
				return version_compare( $version, '4.1', '&gt;=' );
			case 'set_charset':
				return version_compare( $version, '5.0.7', '&gt;=' );
			case 'utf8mb4':      // @since 4.1.0
				if ( version_compare( $version, '5.5.3', '&lt;' ) ) {
					return false;
				}
				if ( $this-&gt;use_mysqli ) {
					$client_version = mysqli_get_client_info();
				} else {
					$client_version = mysql_get_client_info();
				}

				/*
				 * libmysql has supported utf8mb4 since 5.5.3, same as the MySQL server.
				 * mysqlnd has supported utf8mb4 since 5.0.9.
				 */
				if ( false !== strpos( $client_version, 'mysqlnd' ) ) {
					$client_version = preg_replace( '/^\D+([\d.]+).*/', '$1', $client_version );
					return version_compare( $client_version, '5.0.9', '&gt;=' );
				} else {
					return version_compare( $client_version, '5.5.3', '&gt;=' );
				}
			case 'utf8mb4_520': // @since 4.6.0
				return version_compare( $version, '5.6', '&gt;=' );
		}

		return false;
	}

	/**
	 * Retrieves a comma-separated list of the names of the functions that called wpdb.
	 *
	 * @since 2.5.0
	 *
	 * @return string Comma-separated list of the calling functions.
	 */
	public function get_caller() {
		return wp_debug_backtrace_summary( __CLASS__ );
	}

	/**
	 * Retrieves the database server version.
	 *
	 * @since 2.7.0
	 *
	 * @return string|null Version number on success, null on failure.
	 */
	public function db_version() {
		return preg_replace( '/[^0-9.].*/', '', $this-&gt;db_server_info() );
	}

	/**
	 * Retrieves full database server information.
	 *
	 * @since 5.5.0
	 *
	 * @return string|false Server info on success, false on failure.
	 */
	public function db_server_info() {
		if ( $this-&gt;use_mysqli ) {
			$server_info = mysqli_get_server_info( $this-&gt;dbh );
		} else {
			$server_info = mysql_get_server_info( $this-&gt;dbh );
		}

		return $server_info;
	}
}
</pre>
			</div>
			<p class="source-code-links">
				<span>
					<a href="#" class="show-complete-source">Expand full source code</a>
					<a href="#" class="less-complete-source">Collapse full source code</a>
				</span>
				<span><a href="https://core.trac.wordpress.org/browser/tags/5.9/src/wp-includes/wp-db.php#L54">View on Trac</a></span>
				<span><a href="https://github.com/WordPress/wordpress-develop/blob/5.9/src/wp-includes/wp-db.php#L54-L3819">View on GitHub</a></span>
			</p>
			</section>
		<hr />
		<section class="class-methods">
			<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 id="methods" class="toc-heading" tabindex="-1" >Methods <a href="#methods" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Methods</span></a></h2>
			<ul>
									<li><a href="__construct/index.html">
							__construct</a>
						&mdash; Connects to the database server and selects a database.											</li>
									<li><a href="__get/index.html">
							__get</a>
						&mdash; Makes private properties readable for backward compatibility.											</li>
									<li><a href="__isset/index.html">
							__isset</a>
						&mdash; Makes private properties check-able for backward compatibility.											</li>
									<li><a href="__set/index.html">
							__set</a>
						&mdash; Makes private properties settable for backward compatibility.											</li>
									<li><a href="__unset/index.html">
							__unset</a>
						&mdash; Makes private properties un-settable for backward compatibility.											</li>
									<li><a href="_do_query/index.html">
							_do_query</a>
						&mdash; Internal function to perform the mysql_query() call.											</li>
									<li><a href="_escape/index.html">
							_escape</a>
						&mdash; Escapes data. Works on arrays.											</li>
									<li><a href="_insert_replace_helper/index.html">
							_insert_replace_helper</a>
						&mdash; Helper function for insert and replace.											</li>
									<li><a href="_real_escape/index.html">
							_real_escape</a>
						&mdash; Real escape, using mysqli_real_escape_string() or mysql_real_escape_string().											</li>
									<li><a href="_weak_escape/index.html">
							_weak_escape</a>
						&mdash; Do not use, deprecated.						&mdash; <span class="deprecated-method">deprecated</span>					</li>
									<li><a href="add_placeholder_escape/index.html">
							add_placeholder_escape</a>
						&mdash; Adds a placeholder escape string, to escape anything that resembles a printf() placeholder.											</li>
									<li><a href="bail/index.html">
							bail</a>
						&mdash; Wraps errors in a nice header and footer and dies.											</li>
									<li><a href="check_ascii/index.html">
							check_ascii</a>
						&mdash; Checks if a string is ASCII.											</li>
									<li><a href="check_connection/index.html">
							check_connection</a>
						&mdash; Checks that the connection to the database is still up. If not, try to reconnect.											</li>
									<li><a href="check_database_version/index.html">
							check_database_version</a>
						&mdash; Determines whether MySQL database is at least the required minimum version.											</li>
									<li><a href="check_safe_collation/index.html">
							check_safe_collation</a>
						&mdash; Checks if the query is accessing a collation considered safe on the current version of MySQL.											</li>
									<li><a href="close/index.html">
							close</a>
						&mdash; Closes the current database connection.											</li>
									<li><a href="db_connect/index.html">
							db_connect</a>
						&mdash; Connects to and selects database.											</li>
									<li><a href="db_server_info/index.html">
							db_server_info</a>
						&mdash; Retrieves full database server information.											</li>
									<li><a href="db_version/index.html">
							db_version</a>
						&mdash; Retrieves the database server version.											</li>
									<li><a href="delete/index.html">
							delete</a>
						&mdash; Deletes a row in the table.											</li>
									<li><a href="determine_charset/index.html">
							determine_charset</a>
						&mdash; Determines the best charset and collation to use given a charset and collation.											</li>
									<li><a href="esc_like/index.html">
							esc_like</a>
						&mdash; First half of escaping for `LIKE` special characters `%` and `_` before preparing for SQL.											</li>
									<li><a href="escape/index.html">
							escape</a>
						&mdash; Do not use, deprecated.						&mdash; <span class="deprecated-method">deprecated</span>					</li>
									<li><a href="escape_by_ref/index.html">
							escape_by_ref</a>
						&mdash; Escapes content by reference for insertion into the database, for security.											</li>
									<li><a href="flush/index.html">
							flush</a>
						&mdash; Kills cached query results.											</li>
									<li><a href="get_blog_prefix/index.html">
							get_blog_prefix</a>
						&mdash; Gets blog prefix.											</li>
									<li><a href="get_caller/index.html">
							get_caller</a>
						&mdash; Retrieves a comma-separated list of the names of the functions that called wpdb.											</li>
									<li><a href="get_charset_collate/index.html">
							get_charset_collate</a>
						&mdash; Retrieves the database character collate.											</li>
									<li><a href="get_col/index.html">
							get_col</a>
						&mdash; Retrieves one column from the database.											</li>
									<li><a href="get_col_charset/index.html">
							get_col_charset</a>
						&mdash; Retrieves the character set for the given column.											</li>
									<li><a href="get_col_info/index.html">
							get_col_info</a>
						&mdash; Retrieves column metadata from the last query.											</li>
									<li><a href="get_col_length/index.html">
							get_col_length</a>
						&mdash; Retrieves the maximum string length allowed in a given column.											</li>
									<li><a href="get_results/index.html">
							get_results</a>
						&mdash; Retrieves an entire SQL result set from the database (i.e., many rows).											</li>
									<li><a href="get_row/index.html">
							get_row</a>
						&mdash; Retrieves one row from the database.											</li>
									<li><a href="get_table_charset/index.html">
							get_table_charset</a>
						&mdash; Retrieves the character set for the given table.											</li>
									<li><a href="get_table_from_query/index.html">
							get_table_from_query</a>
						&mdash; Finds the first table name referenced in a query.											</li>
									<li><a href="get_var/index.html">
							get_var</a>
						&mdash; Retrieves one variable from the database.											</li>
									<li><a href="has_cap/index.html">
							has_cap</a>
						&mdash; Determines if a database supports a particular feature.											</li>
									<li><a href="hide_errors/index.html">
							hide_errors</a>
						&mdash; Disables showing of database errors.											</li>
									<li><a href="init_charset/index.html">
							init_charset</a>
						&mdash; Sets $this-&gt;charset and $this-&gt;collate.											</li>
									<li><a href="insert/index.html">
							insert</a>
						&mdash; Inserts a row into the table.											</li>
									<li><a href="load_col_info/index.html">
							load_col_info</a>
						&mdash; Loads the column metadata from the last query.											</li>
									<li><a href="log_query/index.html">
							log_query</a>
						&mdash; Logs query data.											</li>
									<li><a href="parse_db_host/index.html">
							parse_db_host</a>
						&mdash; Parses the DB_HOST setting to interpret it for mysqli_real_connect().											</li>
									<li><a href="placeholder_escape/index.html">
							placeholder_escape</a>
						&mdash; Generates and returns a placeholder escape string for use in queries returned by ::prepare().											</li>
									<li><a href="prepare/index.html">
							prepare</a>
						&mdash; Prepares a SQL query for safe execution.											</li>
									<li><a href="print_error/index.html">
							print_error</a>
						&mdash; Prints SQL/DB error.											</li>
									<li><a href="process_field_charsets/index.html">
							process_field_charsets</a>
						&mdash; Adds field charsets to field/value/format arrays generated by wpdb::process_field_formats().											</li>
									<li><a href="process_field_formats/index.html">
							process_field_formats</a>
						&mdash; Prepares arrays of value/format pairs as passed to wpdb CRUD methods.											</li>
									<li><a href="process_field_lengths/index.html">
							process_field_lengths</a>
						&mdash; For string fields, records the maximum string length that field can safely save.											</li>
									<li><a href="process_fields/index.html">
							process_fields</a>
						&mdash; Processes arrays of field/value pairs and field formats.											</li>
									<li><a href="query/index.html">
							query</a>
						&mdash; Performs a database query, using current database connection.											</li>
									<li><a href="remove_placeholder_escape/index.html">
							remove_placeholder_escape</a>
						&mdash; Removes the placeholder escape strings from a query.											</li>
									<li><a href="replace/index.html">
							replace</a>
						&mdash; Replaces a row in the table.											</li>
									<li><a href="select/index.html">
							select</a>
						&mdash; Selects a database using the current or provided database connection.											</li>
									<li><a href="set_blog_id/index.html">
							set_blog_id</a>
						&mdash; Sets blog ID.											</li>
									<li><a href="set_charset/index.html">
							set_charset</a>
						&mdash; Sets the connection's character set.											</li>
									<li><a href="set_prefix/index.html">
							set_prefix</a>
						&mdash; Sets the table prefix for the WordPress tables.											</li>
									<li><a href="set_sql_mode/index.html">
							set_sql_mode</a>
						&mdash; Changes the current SQL mode, and ensures its WordPress compatibility.											</li>
									<li><a href="show_errors/index.html">
							show_errors</a>
						&mdash; Enables showing of database errors.											</li>
									<li><a href="strip_invalid_text/index.html">
							strip_invalid_text</a>
						&mdash; Strips any invalid characters based on value/charset pairs.											</li>
									<li><a href="strip_invalid_text_for_column/index.html">
							strip_invalid_text_for_column</a>
						&mdash; Strips any invalid characters from the string for a given table and column.											</li>
									<li><a href="strip_invalid_text_from_query/index.html">
							strip_invalid_text_from_query</a>
						&mdash; Strips any invalid characters from the query.											</li>
									<li><a href="supports_collation/index.html">
							supports_collation</a>
						&mdash; Determines whether the database supports collation.						&mdash; <span class="deprecated-method">deprecated</span>					</li>
									<li><a href="suppress_errors/index.html">
							suppress_errors</a>
						&mdash; Enables or disables suppressing of database errors.											</li>
									<li><a href="tables/index.html">
							tables</a>
						&mdash; Returns an array of WordPress tables.											</li>
									<li><a href="timer_start/index.html">
							timer_start</a>
						&mdash; Starts the timer, for debugging purposes.											</li>
									<li><a href="timer_stop/index.html">
							timer_stop</a>
						&mdash; Stops the debugging timer.											</li>
									<li><a href="update/index.html">
							update</a>
						&mdash; Updates a row in the table.											</li>
							</ul>
		</section>
		<hr />
	<section class="changelog">
		<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 id="changelog" class="toc-heading" tabindex="-1" >Changelog <a href="#changelog" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Changelog</span></a></h2>

		<table>
			<caption class="screen-reader-text">Changelog</caption>
			<thead>
				<tr>
					<th class="changelog-version">Version</th>
					<th class="changelog-desc">Description</th>
				</tr>
			</thead>

			<tbody>
									
					<tr>
						<td><a href="../../since/0.71/index.html" alt="WordPress 0.71">0.71</a></td>
						<td>Introduced.</td>
					</tr>
							</tbody>
		</table>
	</section>

	<hr />
	<section class="user-notes">
		<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 id="user-contributed-notes" class="toc-heading" tabindex="-1" >User Contributed Notes <a href="#user-contributed-notes" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">User Contributed Notes</span></a></h2>
		
<div id="comments" class="comments-area">

			
		<ol class="comment-list">
						<li id="comment-3398" data-comment-id="3398" class="comment byuser comment-author-aurovrata even thread-even depth-1">
			<article id="div-comment-3398" class="comment-body">

							<a href="#comment-content-3398" class="screen-reader-text">Skip to note 1 content</a>
				<header class="comment-meta">

				<div class="user-note-voting" data-nonce="504c429605"><a class="user-note-voting-up" title="You must log in to vote on the helpfulness of this note" data-id="3398" data-vote="up" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%23comment-3398"><span class="dashicons dashicons-arrow-up" aria-hidden="true"></span><span class="screen-reader-text">You must log in to vote on the helpfulness of this note</span></a><span class="user-note-voting-count " title="100% like this"><span class="screen-reader-text">Vote results for this note: </span>5</span><a class="user-note-voting-down" title="You must log in to vote on the helpfulness of this note" data-id="3398" data-vote="down" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%23comment-3398"><span class="dashicons dashicons-arrow-down" aria-hidden="true"></span><span class="screen-reader-text">You must log in to vote on the helpfulness of this note</span></a></div>					<div class="comment-author vcard">
						<span class="comment-author-attribution">
						<img alt='' src='https://secure.gravatar.com/avatar/ecd4288fedcf565267a5807b7d604e57?s=32&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/ecd4288fedcf565267a5807b7d604e57?s=64&#038;d=mm&#038;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' loading='lazy'/>Contributed by <cite class="fn"><a href="https://profiles.wordpress.org/aurovrata/" rel="external nofollow" class="url">Aurovrata Venet</a></cite>
						</span>
						&mdash;
						<a class="comment-date" href="index.html#comment-3398">
							<time datetime="2019-09-27T08:03:41+00:00">
							2 years ago							</time>
						</a>

																													</div>
				</header>
				<!-- .comment-metadata -->
			
				<div class="comment-content" id="comment-content-3398">
				<p>These page is missing quite a lot of additional information relative to the older codex page.<br />
The global $wpdb instance can access the following variables,</p>
<p><strong>Class Variables</strong></p>
<ul>
<li><strong>$show_errors</strong> Whether or not Error echoing is turned on. Defaults to TRUE.</li>
<li><strong>$num_queries</strong> The number of queries that have been executed.</li>
<li><strong>$last_query</strong> The most recent query to have been executed.</li>
<li><strong>$last_error</strong> The most recent error text generated by MySQL.</li>
<li><strong>$queries</strong> You may save all of the queries run on the database and their stop times by setting the SAVEQUERIES constant to TRUE (this constant defaults to FALSE). If SAVEQUERIES is TRUE, your queries will be stored in this variable as an array.</li>
<li><strong>$last_result</strong> The most recent query results.</li>
<li><strong>$col_info</strong> The column information for the most recent query results. See Getting Column Information.</li>
<li><strong>$insert_id</strong> ID generated for an AUTO_INCREMENT column by the most recent INSERT query.</li>
<li><strong>$num_rows</strong> The number of rows returned by the last query.</li>
<li><strong>$prefix</strong> The assigned WordPress table prefix for the site.</li>
<li><strong>$base_prefix</strong> The original prefix as defined in wp-config.php. For multi-site: Use if you want to get the prefix without the blog number appended.</li>
</ul>
<p><strong>Multi-Site Variables</strong></p>
<p>If you are using Multi-Site, you also have access to the following:</p>
<ul>
<li><strong>$blogid</strong> The id of the current site (blog).</li>
<li><strong>$siteid</strong> The id of the current network (formerly &#8220;site&#8221;). WordPress currently only supports one network per multi-site install, but that could change in future. See the following for more information:
<ul>
<li> WordPress: difference between site_id and blog_id? (<a href="https://wordpress.org/support/topic/wordpress-difference-between-site_id-and-blog_id?replies=11" rel="nofollow ugc">https://wordpress.org/support/topic/wordpress-difference-between-site_id-and-blog_id?replies=11</a>)</li>
<li> <a href="http://stackoverflow.com/a/4189358/1924128" rel="nofollow ugc">http://stackoverflow.com/a/4189358/1924128</a> &#8211; Another good answer to the same question.</li>
</ul>
</li>
</ul>
<p><strong>Tables</strong></p>
<p>The WordPress database tables are easily referenced in the wpdb class.</p>
<ul>
<li><strong>$posts</strong> The table of Posts.</li>
<li><strong>$postmeta</strong> The Meta Content (a.k.a. Custom Fields) table.</li>
<li><strong>$comments</strong> The Comments table.</li>
<li><strong>$commentmeta</strong> The table contains additional comment information.</li>
<li><strong>$termmeta</strong> The termmeta table contains the term meta values.</li>
<li><strong>$terms</strong> The terms table contains the &#8216;description&#8217; of Categories, Link Categories, Tags.</li>
<li><strong>$term_taxonomy</strong> The term_taxonomy table describes the various taxonomies (classes of terms). Categories, Link Categories, and Tags are taxonomies.</li>
<li><strong>$term_relationships</strong> The term relationships table contains link between the term and the object that uses that term, meaning this file point to each Category used for each Post.</li>
<li><strong>$users</strong> The table of Users.</li>
<li><strong>$usermeta</strong> The usermeta table contains additional user information, such as nicknames, descriptions and permissions.</li>
<li><strong>$links</strong> The table of Links.</li>
<li><strong>$options</strong> The Options table.</li>
</ul>
<p><strong>Multisite Tables</strong></p>
<p>These tables are used only in multisite installations.</p>
<ul>
<li><strong>$blogs</strong> The Blogs table contains a list of the separate blogs (sites) that have been set up within the network(s).</li>
<li><strong>$blogmeta</strong> The Blogmeta table is used to store data associated with a particulate blog in multisite context. See more info in this blog post.</li>
<li><strong>$signups</strong> The Signups table.</li>
<li><strong>$site</strong> The Site table contains a list of the networks (previously known as &#8220;sites&#8221; in WPMU) that are set up in the installation (usually there is only one site listed in this table).</li>
<li><strong>$sitemeta</strong> The Network Options (Site Meta) table contains any options that are applicable to the entire multisite installation.</li>
<li><strong>$sitecategories</strong> The Site Categories table.</li>
<li><strong>$registration_log</strong> The Registration Log table.</li>
<li><strong>$blog_versions</strong> The Blog Versions table.</li>
</ul>
				</div><!-- .comment-content -->

					<section id='feedback-3398' class='feedback hide-if-js'>
</section><!-- .feedback -->
<footer class='feedback-links' >
<a role="button" class="feedback-login" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%3Freplytocom%3D3398%23feedback-editor-3398" rel="nofollow">Log in to add feedback</a></footer>
</article><!-- .comment-body -->
</li>
			<li id="comment-1975" data-comment-id="1975" class="comment byuser comment-author-priyankabehera155 odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-1975" class="comment-body">

							<a href="#comment-content-1975" class="screen-reader-text">Skip to note 2 content</a>
				<header class="comment-meta">

				<div class="user-note-voting" data-nonce="e392b1aa81"><a class="user-note-voting-up" title="You must log in to vote on the helpfulness of this note" data-id="1975" data-vote="up" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%23comment-1975"><span class="dashicons dashicons-arrow-up" aria-hidden="true"></span><span class="screen-reader-text">You must log in to vote on the helpfulness of this note</span></a><span class="user-note-voting-count " title="60% like this"><span class="screen-reader-text">Vote results for this note: </span>1</span><a class="user-note-voting-down" title="You must log in to vote on the helpfulness of this note" data-id="1975" data-vote="down" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%23comment-1975"><span class="dashicons dashicons-arrow-down" aria-hidden="true"></span><span class="screen-reader-text">You must log in to vote on the helpfulness of this note</span></a></div>					<div class="comment-author vcard">
						<span class="comment-author-attribution">
						<img alt='' src='https://secure.gravatar.com/avatar/fd86a5e28e69d94898a0881a041f211c?s=32&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/fd86a5e28e69d94898a0881a041f211c?s=64&#038;d=mm&#038;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' loading='lazy'/>Contributed by <cite class="fn"><a href="https://profiles.wordpress.org/priyankabehera155/" rel="external nofollow" class="url">Priyanka Behera</a></cite>
						</span>
						&mdash;
						<a class="comment-date" href="index.html#comment-1975">
							<time datetime="2016-12-19T19:02:07+00:00">
							5 years ago							</time>
						</a>

																													</div>
				</header>
				<!-- .comment-metadata -->
			
				<div class="comment-content" id="comment-content-1975">
				<p><strong>Retrieve and display the sum of a Custom Field value.</strong></p>
<pre class="brush: php; title: ; notranslate" title="">
// set the meta_key to the appropriate custom field meta key
$meta_key = 'miles';
$allmiles = $wpdb-&gt;get_var( $wpdb-&gt;prepare( 
	&quot;
		SELECT sum(meta_value) 
		FROM $wpdb-&gt;postmeta 
		WHERE meta_key = %s
	&quot;, 
	$meta_key
) );
echo &quot;&lt;p&gt;Total miles is {$allmiles}&lt;/p&gt;&quot;;

</pre>
				</div><!-- .comment-content -->

					<section id='feedback-1975' class='feedback hide-if-js'>
</section><!-- .feedback -->
<footer class='feedback-links' >
<a role="button" class="feedback-login" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%3Freplytocom%3D1975%23feedback-editor-1975" rel="nofollow">Log in to add feedback</a></footer>
</article><!-- .comment-body -->
</li>
			<li id="comment-2794" data-comment-id="2794" class="comment byuser comment-author-cthreelabs even thread-even depth-1">
			<article id="div-comment-2794" class="comment-body">

							<a href="#comment-content-2794" class="screen-reader-text">Skip to note 3 content</a>
				<header class="comment-meta">

				<div class="user-note-voting" data-nonce="3435f13e50"><a class="user-note-voting-up" title="You must log in to vote on the helpfulness of this note" data-id="2794" data-vote="up" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%23comment-2794"><span class="dashicons dashicons-arrow-up" aria-hidden="true"></span><span class="screen-reader-text">You must log in to vote on the helpfulness of this note</span></a><span class="user-note-voting-count " title="100% like this"><span class="screen-reader-text">Vote results for this note: </span>1</span><a class="user-note-voting-down" title="You must log in to vote on the helpfulness of this note" data-id="2794" data-vote="down" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%23comment-2794"><span class="dashicons dashicons-arrow-down" aria-hidden="true"></span><span class="screen-reader-text">You must log in to vote on the helpfulness of this note</span></a></div>					<div class="comment-author vcard">
						<span class="comment-author-attribution">
						<img alt='' src='https://secure.gravatar.com/avatar/f007a827ee698d5c16e8bf880769a708?s=32&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/f007a827ee698d5c16e8bf880769a708?s=64&#038;d=mm&#038;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' loading='lazy'/>Contributed by <cite class="fn"><a href="https://profiles.wordpress.org/cthreelabs/" rel="external nofollow" class="url">Raja Mohammed</a></cite>
						</span>
						&mdash;
						<a class="comment-date" href="index.html#comment-2794">
							<time datetime="2018-07-19T01:43:51+00:00">
							4 years ago							</time>
						</a>

																													</div>
				</header>
				<!-- .comment-metadata -->
			
				<div class="comment-content" id="comment-content-2794">
				<p><strong>Sync Server timezone with MYSQL timezone  </strong></p>
<pre class="brush: php; title: ; notranslate" title="">date_default_timezone_set('Europe/London');
$wpdb-&gt;time_zone = 'Europe/London';</pre>
				</div><!-- .comment-content -->

					<section id='feedback-2794' class='feedback hide-if-js'>
</section><!-- .feedback -->
<footer class='feedback-links' >
<a role="button" class="feedback-login" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%3Freplytocom%3D2794%23feedback-editor-2794" rel="nofollow">Log in to add feedback</a></footer>
</article><!-- .comment-body -->
</li>
			<li id="comment-5333" data-comment-id="5333" class="comment byuser comment-author-lovor odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-5333" class="comment-body">

							<a href="#comment-content-5333" class="screen-reader-text">Skip to note 4 content</a>
				<header class="comment-meta">

				<div class="user-note-voting" data-nonce="09c46d4b3a"><a class="user-note-voting-up" title="You must log in to vote on the helpfulness of this note" data-id="5333" data-vote="up" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%23comment-5333"><span class="dashicons dashicons-arrow-up" aria-hidden="true"></span><span class="screen-reader-text">You must log in to vote on the helpfulness of this note</span></a><span class="user-note-voting-count " title=""><span class="screen-reader-text">Vote results for this note: </span>0</span><a class="user-note-voting-down" title="You must log in to vote on the helpfulness of this note" data-id="5333" data-vote="down" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%23comment-5333"><span class="dashicons dashicons-arrow-down" aria-hidden="true"></span><span class="screen-reader-text">You must log in to vote on the helpfulness of this note</span></a></div>					<div class="comment-author vcard">
						<span class="comment-author-attribution">
						<img alt='' src='https://secure.gravatar.com/avatar/ffcc26c2298ae74125751ca341184f01?s=32&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/ffcc26c2298ae74125751ca341184f01?s=64&#038;d=mm&#038;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' loading='lazy'/>Contributed by <cite class="fn"><a href="https://profiles.wordpress.org/lovor/" rel="external nofollow" class="url">Lovro Hrust</a></cite>
						</span>
						&mdash;
						<a class="comment-date" href="index.html#comment-5333">
							<time datetime="2021-09-18T11:55:27+00:00">
							6 months ago							</time>
						</a>

																													</div>
				</header>
				<!-- .comment-metadata -->
			
				<div class="comment-content" id="comment-content-5333">
				<p><strong>get_col_info $info_type possible values for mysqlnd (MySQL native driver)</strong></p>
<p>MySQL native driver is commonly used modern driver for PHP. I suspect that because of using this driver, possible values for $info_type which I get are totally different than the ones described here.</p>
<p>These are:</p>
<ul>
<li>name</li>
<li>orgname</li>
<li>table</li>
<li>orgtable</li>
<li>def</li>
<li>db</li>
<li>catalog</li>
<li>max_length</li>
<li>length</li>
<li>charsetnr</li>
<li>flags</li>
<li>type</li>
<li>decimals</li>
</ul>
<p><em>Type</em> is returned as integer.</p>
				</div><!-- .comment-content -->

					<section id='feedback-5333' class='feedback hide-if-js'>
</section><!-- .feedback -->
<footer class='feedback-links' >
<a role="button" class="feedback-login" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%3Freplytocom%3D5333%23feedback-editor-5333" rel="nofollow">Log in to add feedback</a></footer>
</article><!-- .comment-body -->
</li>
			<li id="comment-5396" data-comment-id="5396" class="comment byuser comment-author-anisur8294 even thread-even depth-1">
			<article id="div-comment-5396" class="comment-body">

							<a href="#comment-content-5396" class="screen-reader-text">Skip to note 5 content</a>
				<header class="comment-meta">

				<div class="user-note-voting" data-nonce="07d41e9d96"><a class="user-note-voting-up" title="You must log in to vote on the helpfulness of this note" data-id="5396" data-vote="up" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%23comment-5396"><span class="dashicons dashicons-arrow-up" aria-hidden="true"></span><span class="screen-reader-text">You must log in to vote on the helpfulness of this note</span></a><span class="user-note-voting-count " title=""><span class="screen-reader-text">Vote results for this note: </span>0</span><a class="user-note-voting-down" title="You must log in to vote on the helpfulness of this note" data-id="5396" data-vote="down" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%23comment-5396"><span class="dashicons dashicons-arrow-down" aria-hidden="true"></span><span class="screen-reader-text">You must log in to vote on the helpfulness of this note</span></a></div>					<div class="comment-author vcard">
						<span class="comment-author-attribution">
						<img alt='' src='https://secure.gravatar.com/avatar/02319a41912561aeab881d80d5dcd3d5?s=32&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/02319a41912561aeab881d80d5dcd3d5?s=64&#038;d=mm&#038;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' loading='lazy'/>Contributed by <cite class="fn"><a href="https://profiles.wordpress.org/anisur8294/" rel="external nofollow" class="url">Anisur Rahman</a></cite>
						</span>
						&mdash;
						<a class="comment-date" href="index.html#comment-5396">
							<time datetime="2021-10-10T21:02:24+00:00">
							5 months ago							</time>
						</a>

																													</div>
				</header>
				<!-- .comment-metadata -->
			
				<div class="comment-content" id="comment-content-5396">
				<section class="source-content">
<div class="source-code-container">
<pre class="brush: php; title: ; notranslate" title="">
/**
 * Get single address
 *
 * @param int $id
 *
 * @return object
 */
function oop_ac_get_address( $id ) {
    global $wpdb; // Global WPDB class object

    return $wpdb-&gt;get_row( 
        $wpdb-&gt;prepare( // use prepare for avoid sql injection
            &quot;SELECT  * FROM {$wpdb-&gt;prefix}ac_addresses WHERE id = %d&quot;, $id // select by id from table with dynamic prefix
        )
    );
}
</pre>
</div>
<p class="source-code-links"><span><a href="#" class="show-complete-source">Expand full source code</a><a href="#" class="less-complete-source">Collapse full source code</a></span></p>
</section>
				</div><!-- .comment-content -->

					<section id='feedback-5396' class='feedback hide-if-js'>
</section><!-- .feedback -->
<footer class='feedback-links' >
<a role="button" class="feedback-login" href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%3Freplytocom%3D5396%23feedback-editor-5396" rel="nofollow">Log in to add feedback</a></footer>
</article><!-- .comment-body -->
</li>
		</ol><!-- .comment-list -->

		
	
	
			<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small></small></h3><p>You must <a href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwpdb%2F%23comments">log in</a> before being able to contribute a note or feedback.</p>	</div><!-- #respond -->
		
	
</div><!-- #comments -->
	</section>
<style> .toc-jump { text-align: right; font-size: 12px; } .page .toc-heading { margin-top: -50px; padding-top: 50px !important; }</style>
</div>

</article>

			
		
		</main><!-- #main -->
	</div><!-- #primary -->
	</div><!-- #content -->

</div><!-- #page -->



<footer class="wp-container-21 wp-block-group global-footer alignfull">
	
	<div class="wp-container-17 wp-block-group global-footer__navigation-container">
		<nav class="wp-container-8 global-footer__navigation-important wp-block-navigation"><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/about/"><span class="wp-block-navigation-item__label">About</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/news/"><span class="wp-block-navigation-item__label">News</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/hosting/"><span class="wp-block-navigation-item__label">Hosting</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpressfoundation.org/donate/"><span class="wp-block-navigation-item__label">Donate</span></a></li></ul></nav>

		<nav class="wp-container-10 global-footer__navigation-information wp-block-navigation"><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/support/"><span class="wp-block-navigation-item__label">Support</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="../../../index.html"><span class="wp-block-navigation-item__label">Developers</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://make.wordpress.org/"><span class="wp-block-navigation-item__label">Get Involved</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://learn.wordpress.org/"><span class="wp-block-navigation-item__label">Learn</span></a></li></ul></nav>

		<nav class="wp-container-12 global-footer__navigation-resources wp-block-navigation"><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/showcase/"><span class="wp-block-navigation-item__label">Showcase</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/plugins/"><span class="wp-block-navigation-item__label">Plugins</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/themes/"><span class="wp-block-navigation-item__label">Themes</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/patterns/"><span class="wp-block-navigation-item__label">Patterns</span></a></li></ul></nav>

		<nav class="wp-container-14 global-footer__navigation-community wp-block-navigation"><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://central.wordcamp.org/"><span class="wp-block-navigation-item__label">WordCamp</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.tv/"><span class="wp-block-navigation-item__label">WordPress.TV</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://buddypress.org/"><span class="wp-block-navigation-item__label">BuddyPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://bbpress.org/"><span class="wp-block-navigation-item__label">bbPress</span></a></li></ul></nav>

		<nav class="wp-container-16 global-footer__navigation-external wp-block-navigation"><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.com/?ref=wporg-footer"><span class="wp-block-navigation-item__label">WordPress.com</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://ma.tt/"><span class="wp-block-navigation-item__label">Matt</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://wordpress.org/about/privacy/"><span class="wp-block-navigation-item__label">Privacy</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content"  href="https://publiccode.eu/"><span class="wp-block-navigation-item__label">Public Code</span></a></li></ul></nav>
	</div> 

	
	<div class="wp-container-20 wp-block-group global-footer__logos-container">
		
		<div class="wp-container-18 wp-block-group">
			
			<!-- The design calls for two logos, a small "mark" on mobile/tablet, and the full logo for desktops. -->
				<figure class="wp-block-image global-footer__wporg-logo-mark">
					<a href="https://wordpress.org/">
						<svg xmlns="http://www.w3.org/2000/svg" role="img" width="28" height="28" viewBox="0 0 28 28">
	<title>WordPress.org</title>
	<path fill="currentColor" d="M13.6052 0.923525C16.1432 0.923525 18.6137 1.67953 20.7062 3.09703C22.7447 4.47403 24.3512 6.41803 25.3097 8.68603C26.9837 12.6415 26.5382 17.164 24.1352 20.7145C22.7582 22.753 20.8142 24.3595 18.5462 25.318C14.5907 26.992 10.0682 26.5465 6.51772 24.1435C4.47922 22.7665 2.87272 20.8225 1.91422 18.5545C0.240225 14.599 0.685725 10.0765 3.08872 6.52603C4.46572 4.48753 6.40973 2.88103 8.67772 1.92253C10.2302 1.26103 11.9177 0.923525 13.6052 0.923525ZM13.6052 0.113525C6.15322 0.113525 0.105225 6.16153 0.105225 13.6135C0.105225 21.0655 6.15322 27.1135 13.6052 27.1135C21.0572 27.1135 27.1052 21.0655 27.1052 13.6135C27.1052 6.16153 21.0572 0.113525 13.6052 0.113525Z" />
	<path fill="currentColor" d="M2.36011 13.6133C2.36011 17.9198 4.81711 21.8618 8.70511 23.7383L3.33211 9.03684C2.68411 10.4813 2.36011 12.0338 2.36011 13.6133ZM21.2061 13.0463C21.2061 11.6558 20.7066 10.6973 20.2746 9.94134C19.8426 9.18534 19.1676 8.22684 19.1676 7.30884C19.1676 6.39084 19.9506 5.31084 21.0576 5.31084H21.2061C16.6296 1.11234 9.51511 1.42284 5.31661 6.01284C4.91161 6.45834 4.53361 6.93084 4.20961 7.43034H4.93861C6.11311 7.43034 7.93561 7.28184 7.93561 7.28184C8.54311 7.24134 8.61061 8.13234 8.00311 8.21334C8.00311 8.21334 7.39561 8.28084 6.72061 8.32134L10.8111 20.5118L13.2681 13.1273L11.5131 8.32134C10.9056 8.28084 10.3386 8.21334 10.3386 8.21334C9.73111 8.17284 9.79861 7.25484 10.4061 7.28184C10.4061 7.28184 12.2691 7.43034 13.3626 7.43034C14.4561 7.43034 16.3596 7.28184 16.3596 7.28184C16.9671 7.24134 17.0346 8.13234 16.4271 8.21334C16.4271 8.21334 15.8196 8.28084 15.1446 8.32134L19.2081 20.4173L20.3691 16.7453C20.8821 15.1388 21.1926 14.0048 21.1926 13.0328L21.2061 13.0463ZM13.7946 14.5853L10.4196 24.3998C12.6876 25.0613 15.1041 25.0073 17.3316 24.2243L17.2506 24.0758L13.7946 14.5853ZM23.4741 8.21334C23.5281 8.59134 23.5551 8.98284 23.5551 9.37434C23.5551 10.5218 23.3391 11.8043 22.7046 13.3973L19.2621 23.3333C24.5271 20.2688 26.4036 13.5593 23.4741 8.21334Z" />
</svg>					</a>
				</figure>

				<figure class="wp-block-image global-footer__wporg-logo-full">
					<a href="https://wordpress.org/">
						<svg xmlns="http://www.w3.org/2000/svg" role="img" width="329" height="52" viewBox="0 0 329 52">
	<title>WordPress.org</title>
	<path fill="currentColor" d="M4.33 26a21.68 21.68 0 0 0 12.22 19.5L6.21 17.18A21.66 21.66 0 0 0 4.33 26ZM26.38 27.89l-6.5 18.89a21.31 21.31 0 0 0 6.12.89 21.77 21.77 0 0 0 7.2-1.23 1.429 1.429 0 0 1-.16-.3l-6.66-18.25Z"/>
	<path fill="currentColor" d="M26 0a26 26 0 1 0 0 52 26 26 0 0 0 0-52Zm20.27 39.66a24.47 24.47 0 0 1-29.78 8.86 24.49 24.49 0 0 1-13-13 24.4 24.4 0 0 1 5.23-26.8 24.46 24.46 0 0 1 26.79-5.24 24.49 24.49 0 0 1 13 13 24.42 24.42 0 0 1-2.25 23.17l.01.01Z"/>
	<path fill="currentColor" d="M45 15.61c.103.736.153 1.477.15 2.22a20.38 20.38 0 0 1-1.65 7.76l-6.61 19.14A21.65 21.65 0 0 0 45 15.61ZM40.63 24.91a11.45 11.45 0 0 0-1.79-6c-1.1-1.78-2.13-3.29-2.13-5.08A3.76 3.76 0 0 1 40.35 10h.28A21.65 21.65 0 0 0 7.9 14.1h1.39c2.27 0 5.78-.27 5.78-.27a.9.9 0 0 1 .13 1.79s-1.17.13-2.47.2l7.88 23.47 4.75-14.22L22 15.84c-1.17-.07-2.27-.2-2.27-.2a.9.9 0 0 1 .14-1.79s3.57.27 5.7.27c2.13 0 5.78-.27 5.78-.27a.9.9 0 0 1 .14 1.79s-1.18.13-2.48.2l7.83 23.29 2.23-7.08a25.171 25.171 0 0 0 1.56-7.14ZM145.83 19.3h-10.34v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 4.1-.52 4.85-3.75 4.85-2.48-.35-4.16-1.68-6.47-4.22l-2.66-2.89c3.58-.63 5.49-2.89 5.49-5.43 0-3.18-2.72-5.6-7.8-5.6h-10.17v1.1c3.24 0 3.76.69 3.76 4.79v7.4c0 4.1-.52 4.85-3.76 4.85v1.1h11.5v-1.1c-3.24 0-3.76-.75-3.76-4.85v-2.08h1l6.42 8h16.81c8.26 0 11.85-4.39 11.85-9.65 0-5.26-3.61-9.56-11.87-9.56Zm-24.21 9.42V21H124a3.551 3.551 0 0 1 3.76 3.87 3.536 3.536 0 0 1-3.76 3.85h-2.38Zm24.38 8h-.4c-2.08 0-2.37-.52-2.37-3.18V21H146c6 0 7.11 4.39 7.11 7.8S152 36.75 146 36.75v-.03ZM93.49 13.52H82.62v1.16c3.7 0 4.22 1 3.07 4.39l-4 11.78L76 13.52h-1.1l-5.85 17.33-3.87-11.78c-1.22-3.59-.29-4.39 3.12-4.39v-1.16H55.47v1.16c3.35 0 4.28.86 5.66 5.08l6.42 19.76h.75l6-18.08 5.9 18.08h.8l6.59-19.76c1.44-4.22 2.31-5.08 5.95-5.08l-.05-1.16ZM101.34 18.55c-6.35 0-11.55 4.68-11.55 10.34s5.2 10.4 11.55 10.4c6.35 0 11.56-4.68 11.56-10.4 0-5.72-5.2-10.34-11.56-10.34Zm0 18.89c-5.31 0-7.16-4.74-7.16-8.55 0-3.81 1.85-8.55 7.16-8.55 5.31 0 7.23 4.79 7.23 8.55 0 3.76-1.85 8.55-7.23 8.55ZM170.67 13.52h-12v1.16c3.88 0 4.57.92 4.57 6.7v9.24c0 5.78-.69 6.76-4.57 6.76v1.16H172v-1.16c-3.88 0-4.57-1-4.57-6.76v-2.83h3.29c6 0 9.25-3.12 9.25-7.11s-3.35-7.16-9.3-7.16Zm0 12.13h-3.29v-10h3.29c3.24 0 4.74 2.31 4.74 5.08s-1.5 4.92-4.74 4.92ZM219.32 34.15c-.52 1.9-1.15 2.6-5.26 2.6h-.81c-3 0-3.52-.7-3.52-4.8v-2.66c4.51 0 4.85.41 4.85 3.41h1.1v-8.61h-1.1c0 3-.34 3.41-4.85 3.41V21h3.18c4.1 0 4.74.69 5.26 2.6l.28 1.1h.93l-.38-5.4h-17v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 3.75-.44 4.69-3 4.83-2.42-.37-4.09-1.69-6.37-4.2l-2.65-2.89c3.58-.63 5.49-2.89 5.49-5.43 0-3.18-2.72-5.6-7.8-5.6h-10.17v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 4.1-.52 4.85-3.75 4.85v1.1h11.49v-1.1c-3.23 0-3.75-.75-3.75-4.85v-2.08h1l6.41 8h23.75l.35-5.43h-.87l-.31 1.07ZM189 28.72V21h2.37a3.542 3.542 0 0 1 3.75 3.87 3.532 3.532 0 0 1-.998 2.77 3.532 3.532 0 0 1-2.752 1.05l-2.37.03ZM234.52 27.91l-3.18-1.56c-2.78-1.27-4-2.08-4-3.59 0-1.51 1.5-2.36 3.12-2.36 3.06 0 4.57 2.25 5 5h1.21v-6.85h-1.09a3.415 3.415 0 0 1-.75 1.56 7.25 7.25 0 0 0-4.51-1.5c-3.58 0-6.18 2.36-6.18 5.14 0 2.54 1.73 4.45 4 5.54l3.29 1.56c2.37 1.1 3.7 2.26 3.7 3.76 0 1.73-1.5 2.77-3.35 2.77-3.41 0-6.07-2.25-6.53-6.06h-1.15v8h1.09a4.194 4.194 0 0 1 .93-2 8.481 8.481 0 0 0 5.2 2c3.87 0 7-2.54 7-6.18.07-1.77-1.03-3.9-3.8-5.23ZM252 27.91l-3.18-1.56c-2.78-1.27-4-2.08-4-3.59 0-1.51 1.5-2.36 3.12-2.36 3.06 0 4.57 2.25 5 5h1.21v-6.85H253a3.415 3.415 0 0 1-.75 1.56 7.25 7.25 0 0 0-4.51-1.5c-3.58 0-6.18 2.36-6.18 5.14 0 2.54 1.73 4.45 4 5.54l3.29 1.56c2.37 1.1 3.7 2.26 3.7 3.76 0 1.73-1.5 2.77-3.35 2.77-3.41 0-6.07-2.25-6.53-6.06h-1.15v8h1.09a4.194 4.194 0 0 1 .93-2 8.481 8.481 0 0 0 5.2 2c3.87 0 7.05-2.54 7.05-6.18.07-1.77-1.03-3.9-3.79-5.23ZM277.56 18.75a10.481 10.481 0 0 0-10.68 10.17 10.47 10.47 0 0 0 10.68 10.16c5.9 0 10.71-4.58 10.71-10.16s-4.81-10.17-10.71-10.17Zm0 19c-5.52 0-7.63-4.91-7.63-8.88 0-3.97 2.07-8.87 7.63-8.87 5.56 0 7.66 4.94 7.66 8.92 0 3.98-2.11 8.88-7.66 8.88v-.05ZM301.71 33.79l-3.14-3.69c3.63-.38 5.71-2.59 5.71-5.38 0-3-2.44-5.42-6.89-5.42h-8.47v.7c2.66 0 3.05.51 3.05 3.72v10.39c0 3.21-.39 3.76-3.05 3.76v.67h8.66v-.67c-2.66 0-3.05-.55-3.05-3.76v-4H296l6.35 8.44h5.29v-.67c-1.88-.24-4.03-1.88-5.93-4.09ZM294.53 29v-8.52h2.82c2.79 0 4.08 1.93 4.08 4.24 0 2.31-1.29 4.28-4.08 4.28h-2.82ZM319.6 30.59v.64c2.21 0 3 .7 3 2.08 0 2.89-2.5 4.39-5.29 4.39-5.93 0-7.6-4.81-7.6-8.78 0-3.97 1.86-8.92 7-8.92 3.59 0 6.09 2.54 7 6.7h.64v-7h-.64a3.281 3.281 0 0 1-1.09 1.83 8.203 8.203 0 0 0-6-2.73 10.167 10.167 0 0 0-9.851 10.165 10.169 10.169 0 0 0 9.851 10.165c3.34 0 4.78-1.66 8.34-1.66V35c0-3.21.39-3.75 3.05-3.75v-.64l-8.41-.02ZM261.9 34.77a2.061 2.061 0 1 0 .288 4.112 2.061 2.061 0 0 0-.288-4.112Z"/>
</svg>					</a>
				</figure>
			

					</div>
		

		
		<ul class="wp-container-19 wp-block-social-links is-style-logos-only">
			<li class="wp-social-link wp-social-link-facebook wp-block-social-link"><a href="https://www.facebook.com/WordPress/"  class="wp-block-social-link-anchor"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M12 2C6.5 2 2 6.5 2 12c0 5 3.7 9.1 8.4 9.9v-7H7.9V12h2.5V9.8c0-2.5 1.5-3.9 3.8-3.9 1.1 0 2.2.2 2.2.2v2.5h-1.3c-1.2 0-1.6.8-1.6 1.6V12h2.8l-.4 2.9h-2.3v7C18.3 21.1 22 17 22 12c0-5.5-4.5-10-10-10z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Visit our Facebook page</span></a></li>
			<li class="wp-social-link wp-social-link-twitter wp-block-social-link"><a href="https://twitter.com/WordPress"  class="wp-block-social-link-anchor"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M22.23,5.924c-0.736,0.326-1.527,0.547-2.357,0.646c0.847-0.508,1.498-1.312,1.804-2.27 c-0.793,0.47-1.671,0.812-2.606,0.996C18.324,4.498,17.257,4,16.077,4c-2.266,0-4.103,1.837-4.103,4.103 c0,0.322,0.036,0.635,0.106,0.935C8.67,8.867,5.647,7.234,3.623,4.751C3.27,5.357,3.067,6.062,3.067,6.814 c0,1.424,0.724,2.679,1.825,3.415c-0.673-0.021-1.305-0.206-1.859-0.513c0,0.017,0,0.034,0,0.052c0,1.988,1.414,3.647,3.292,4.023 c-0.344,0.094-0.707,0.144-1.081,0.144c-0.264,0-0.521-0.026-0.772-0.074c0.522,1.63,2.038,2.816,3.833,2.85 c-1.404,1.1-3.174,1.756-5.096,1.756c-0.331,0-0.658-0.019-0.979-0.057c1.816,1.164,3.973,1.843,6.29,1.843 c7.547,0,11.675-6.252,11.675-11.675c0-0.178-0.004-0.355-0.012-0.531C20.985,7.47,21.68,6.747,22.23,5.924z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Visit our Twitter account</span></a></li>
		</ul> 

		
		<figure class="wp-block-image is-resized global-footer__code_is_poetry">
			<img
				src="../../../../s.w.org/style/images/code-is-poetry-for-dark-bg.svg"
				alt="Code is Poetry"
				width="188"
				height="13"
			/>
		</figure> 
	</div> 
</footer> 
<style>.wp-container-2 {display: flex;gap: 0.5em;flex-wrap: wrap;align-items: center;}.wp-container-2 > * { margin: 0; }</style>
<style>.wp-container-4 {display: flex;gap: 0.5em;flex-wrap: wrap;align-items: center;}.wp-container-4 > * { margin: 0; }</style>
<style>.wp-container-5 .alignleft { float: left; margin-right: 2em; margin-left: 0; }.wp-container-5 .alignright { float: right; margin-left: 2em; margin-right: 0; }</style>
<style>.wp-container-6 .alignleft { float: left; margin-right: 2em; margin-left: 0; }.wp-container-6 .alignright { float: right; margin-left: 2em; margin-right: 0; }</style>
<style>.wp-container-8 {display: flex;gap: 0.5em;flex-wrap: wrap;align-items: center;}.wp-container-8 > * { margin: 0; }</style>
<style>.wp-container-10 {display: flex;gap: 0.5em;flex-wrap: wrap;align-items: center;}.wp-container-10 > * { margin: 0; }</style>
<style>.wp-container-12 {display: flex;gap: 0.5em;flex-wrap: wrap;align-items: center;}.wp-container-12 > * { margin: 0; }</style>
<style>.wp-container-14 {display: flex;gap: 0.5em;flex-wrap: wrap;align-items: center;}.wp-container-14 > * { margin: 0; }</style>
<style>.wp-container-16 {display: flex;gap: 0.5em;flex-wrap: wrap;align-items: center;}.wp-container-16 > * { margin: 0; }</style>
<style>.wp-container-17 .alignleft { float: left; margin-right: 2em; margin-left: 0; }.wp-container-17 .alignright { float: right; margin-left: 2em; margin-right: 0; }</style>
<style>.wp-container-18 {display: flex;gap: 0.5em;flex-wrap: wrap;align-items: center;justify-content: flex-start;}.wp-container-18 > * { margin: 0; }</style>
<style>.wp-container-19 {display: flex;gap: 0.5em;flex-wrap: wrap;align-items: center;}.wp-container-19 > * { margin: 0; }</style>
<style>.wp-container-20 .alignleft { float: left; margin-right: 2em; margin-left: 0; }.wp-container-20 .alignright { float: right; margin-left: 2em; margin-right: 0; }</style>
<style>.wp-container-21 .alignleft { float: left; margin-right: 2em; margin-left: 0; }.wp-container-21 .alignright { float: right; margin-left: 2em; margin-right: 0; }</style>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = "../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<link rel='stylesheet' id='buttons-css'  href='../../../wp-includes/css/buttons.min.css?ver=6.0-alpha-52815' type='text/css' media='all' />
<script type='text/javascript' src='../../../wp-includes/js/hoverintent-js.min.js?ver=2.2.1' id='hoverintent-js-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/admin-bar.min.js?ver=6.0-alpha-52815' id='admin-bar-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/navigation.js?ver=20181209' id='wporg-developer-navigation-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/skip-link-focus-fix.js?ver=20130115' id='wporg-developer-skip-link-focus-fix-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/search.js?ver=20150430' id='wporg-developer-search-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/menu.js?ver=20180201' id='wporg-developer-menu-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/awesomplete.min.js?ver=20160322' id='awesomplete-js'></script>
<script type='text/javascript' id='autocomplete-js-extra'>
/* <![CDATA[ */
var autocomplete = {"ajaxurl":"https:\/\/developer.wordpress.org\/wp-admin\/admin-ajax.php","nonce":"b44d6a4fe2"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/autocomplete.js?ver=20160524' id='autocomplete-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/function-reference.js?ver=20180724' id='wporg-developer-function-reference-js'></script>
<script type='text/javascript' id='quicktags-js-extra'>
/* <![CDATA[ */
var quicktagsL10n = {"closeAllOpenTags":"Close all open tags","closeTags":"close tags","enterURL":"Enter the URL","enterImageURL":"Enter the URL of the image","enterImageDescription":"Enter a description of the image","textdirection":"text direction","toggleTextdirection":"Toggle Editor Text Direction","dfw":"Distraction-free writing mode","strong":"Bold","strongClose":"Close bold tag","em":"Italic","emClose":"Close italic tag","link":"Insert link","blockquote":"Blockquote","blockquoteClose":"Close blockquote tag","del":"Deleted text (strikethrough)","delClose":"Close deleted text tag","ins":"Inserted text","insClose":"Close inserted text tag","image":"Insert image","ul":"Bulleted list","ulClose":"Close bulleted list tag","ol":"Numbered list","olClose":"Close numbered list tag","li":"List item","liClose":"Close list item tag","code":"Code","codeClose":"Close code tag","more":"Insert Read More tag"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-includes/js/quicktags.min.js?ver=6.0-alpha-52815' id='quicktags-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/user-notes.js?ver=20200110' id='wporg-developer-user-notes-js'></script>
<script type='text/javascript' id='wporg-developer-user-notes-feedback-js-extra'>
/* <![CDATA[ */
var wporg_note_feedback = {"show":"Show Feedback","hide":"Hide Feedback"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/user-notes-feedback.js?ver=20181023' id='wporg-developer-user-notes-feedback-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/tabs.js?ver=20160824' id='wporg-developer-tabs-js'></script>
<script type='text/javascript' id='wporg-developer-preview-js-extra'>
/* <![CDATA[ */
var wporg_note_preview = {"ajaxurl":"https:\/\/developer.wordpress.org\/wp-admin\/admin-ajax.php","nonce":"e1192a0556","preview":"preview note","preview_empty":"Nothing to preview","is_admin":""};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/user-notes-preview.js?ver=20200111' id='wporg-developer-preview-js'></script>
<script type='text/javascript' id='wporg-global-header-script-js-extra'>
/* <![CDATA[ */
var wporgGlobalHeaderI18n = {"openSearchLabel":"Open Search","closeSearchLabel":"Close Search"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-content/mu-plugins/pub-sync/blocks/global-header-footer/js/wporg-global-header-script-3.js?ver=1643748684' id='wporg-global-header-script-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/dist/vendor/regenerator-runtime.min.js?ver=0.13.9' id='regenerator-runtime-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/dist/vendor/wp-polyfill.min.js?ver=3.15.0' id='wp-polyfill-js'></script>
<script type='text/javascript' src='../../../wp-content/plugins/gutenberg/build/hooks/index.min.js?ver=cf663486a38abeb9211b951c31c45f52' id='wp-hooks-js'></script>
<script type='text/javascript' src='../../../wp-content/plugins/gutenberg/build/i18n/index.min.js?ver=48225910192aa129f266fcda8da5fa7a' id='wp-i18n-js'></script>
<script type='text/javascript' id='wp-i18n-js-after'>
wp.i18n.setLocaleData( { 'text direction\u0004ltr': [ 'ltr' ] } );
</script>
<script type='text/javascript' id='wp-dom-ready-js-translations'>
( function( domain, translations ) {
	var localeData = translations.locale_data[ domain ] || translations.locale_data.messages;
	localeData[""].domain = domain;
	wp.i18n.setLocaleData( localeData, domain );
} )( "default", { "locale_data": { "messages": { "": {} } } } );
</script>
<script type='text/javascript' src='../../../wp-content/plugins/gutenberg/build/dom-ready/index.min.js?ver=ea6a91f02ba567427b25595ee72ecaff' id='wp-dom-ready-js'></script>
<script type='text/javascript' id='wp-dom-ready-js-after'>
wp.galleryBlockV2Enabled = true;
</script>
<script type='text/javascript' id='wp-a11y-js-translations'>
( function( domain, translations ) {
	var localeData = translations.locale_data[ domain ] || translations.locale_data.messages;
	localeData[""].domain = domain;
	wp.i18n.setLocaleData( localeData, domain );
} )( "default", { "locale_data": { "messages": { "": {} } } } );
</script>
<script type='text/javascript' src='../../../wp-content/plugins/gutenberg/build/a11y/index.min.js?ver=61426e9062fe75b223591a637c8c04bb' id='wp-a11y-js'></script>
<script type='text/javascript' id='wplink-js-extra'>
/* <![CDATA[ */
var wpLinkL10n = {"title":"Insert\/edit link","update":"Update","save":"Add Link","noTitle":"(no title)","noMatchesFound":"No results found.","linkSelected":"Link selected.","linkInserted":"Link inserted.","minInputLength":"3"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-includes/js/wplink.min.js?ver=6.0-alpha-52815' id='wplink-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/ui/core.min.js?ver=1.13.1' id='jquery-ui-core-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/ui/menu.min.js?ver=1.13.1' id='jquery-ui-menu-js'></script>
<script type='text/javascript' id='jquery-ui-autocomplete-js-extra'>
/* <![CDATA[ */
var uiAutocompleteL10n = {"noResults":"No results found.","oneResult":"1 result found. Use up and down arrow keys to navigate.","manyResults":"%d results found. Use up and down arrow keys to navigate.","itemSelected":"Item selected."};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/ui/autocomplete.min.js?ver=1.13.1' id='jquery-ui-autocomplete-js'></script>

		<script type="text/javascript">
		tinyMCEPreInit = {
			baseURL: "https://developer.wordpress.org/wp-includes/js/tinymce",
			suffix: ".min",
						mceInit: {},
			qtInit: {'comment':{id:"comment",buttons:"strong,em,ul,ol,li,link"}},
			ref: {plugins:"",theme:"modern",language:""},
			load_ext: function(url,lang){var sl=tinymce.ScriptLoader;sl.markDone(url+'/langs/'+lang+'.js');sl.markDone(url+'/langs/'+lang+'_dlg.js');}
		};
		</script>
				<script type="text/javascript">
		var ajaxurl = "../../../wp-admin/admin-ajax.html";
		( function() {
			var initialized = [];
			var initialize  = function() {
				var init, id, inPostbox, $wrap;
				var readyState = document.readyState;

				if ( readyState !== 'complete' && readyState !== 'interactive' ) {
					return;
				}

				for ( id in tinyMCEPreInit.mceInit ) {
					if ( initialized.indexOf( id ) > -1 ) {
						continue;
					}

					init      = tinyMCEPreInit.mceInit[id];
					$wrap     = tinymce.$( '#wp-' + id + '-wrap' );
					inPostbox = $wrap.parents( '.postbox' ).length > 0;

					if (
						! init.wp_skip_init &&
						( $wrap.hasClass( 'tmce-active' ) || ! tinyMCEPreInit.qtInit.hasOwnProperty( id ) ) &&
						( readyState === 'complete' || ( ! inPostbox && readyState === 'interactive' ) )
					) {
						tinymce.init( init );
						initialized.push( id );

						if ( ! window.wpActiveEditor ) {
							window.wpActiveEditor = id;
						}
					}
				}
			}

			if ( typeof tinymce !== 'undefined' ) {
				if ( tinymce.Env.ie && tinymce.Env.ie < 11 ) {
					tinymce.$( '.wp-editor-wrap ' ).removeClass( 'tmce-active' ).addClass( 'html-active' );
				} else {
					if ( document.readyState === 'complete' ) {
						initialize();
					} else {
						document.addEventListener( 'readystatechange', initialize );
					}
				}
			}

			if ( typeof quicktags !== 'undefined' ) {
				for ( id in tinyMCEPreInit.qtInit ) {
					quicktags( tinyMCEPreInit.qtInit[id] );

					if ( ! window.wpActiveEditor ) {
						window.wpActiveEditor = id;
					}
				}
			}
		}());
		</script>
				<div id="wp-link-backdrop" style="display: none"></div>
		<div id="wp-link-wrap" class="wp-core-ui" style="display: none" role="dialog" aria-labelledby="link-modal-title">
		<form id="wp-link" tabindex="-1">
		<input type="hidden" id="_ajax_linking_nonce" name="_ajax_linking_nonce" value="1de0b5d222" />		<h1 id="link-modal-title">Insert/edit link</h1>
		<button type="button" id="wp-link-close"><span class="screen-reader-text">Close</span></button>
		<div id="link-selector">
			<div id="link-options">
				<p class="howto" id="wplink-enter-url">Enter the destination URL</p>
				<div>
					<label><span>URL</span>
					<input id="wp-link-url" type="text" aria-describedby="wplink-enter-url" /></label>
				</div>
				<div class="wp-link-text-field">
					<label><span>Link Text</span>
					<input id="wp-link-text" type="text" /></label>
				</div>
				<div class="link-target">
					<label><span></span>
					<input type="checkbox" id="wp-link-target" /> Open link in a new tab</label>
				</div>
			</div>
			<p class="howto" id="wplink-link-existing-content">Or link to existing content</p>
			<div id="search-panel">
				<div class="link-search-wrapper">
					<label>
						<span class="search-label">Search</span>
						<input type="search" id="wp-link-search" class="link-search-field" autocomplete="off" aria-describedby="wplink-link-existing-content" />
						<span class="spinner"></span>
					</label>
				</div>
				<div id="search-results" class="query-results" tabindex="0">
					<ul></ul>
					<div class="river-waiting">
						<span class="spinner"></span>
					</div>
				</div>
				<div id="most-recent-results" class="query-results" tabindex="0">
					<div class="query-notice" id="query-notice-message">
						<em class="query-notice-default">No search term specified. Showing recent items.</em>
						<em class="query-notice-hint screen-reader-text">Search or use up and down arrow keys to select an item.</em>
					</div>
					<ul></ul>
					<div class="river-waiting">
						<span class="spinner"></span>
					</div>
				</div>
			</div>
		</div>
		<div class="submitbox">
			<div id="wp-link-cancel">
				<button type="button" class="button">Cancel</button>
			</div>
			<div id="wp-link-update">
				<input type="submit" value="Add Link" class="button button-primary" id="wp-link-submit" name="wp-link-submit">
			</div>
		</div>
		</form>
		</div>
		
	</body>

<!-- Mirrored from developer.wordpress.org/reference/classes/wpdb/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 03 Mar 2022 12:11:38 GMT -->
</html>
